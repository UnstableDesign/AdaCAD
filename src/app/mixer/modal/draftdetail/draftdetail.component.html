<div class ="draft-detail-modal">


  <div class="toprow">
    <button mat-icon-button (click)="onSave()"><i class="fas fa-times"></i></button>
    
    <div class="titledata">
    <p mat-dialog-title
      cdkDrag
       cdkDragRootElement=".cdk-overlay-pane" 
       cdkDragHandle>Fine Tune this Draft</p>

      <p *ngIf="viewonly" class="viewonly">You are in <b>View Only Mode</b> because this draft has been generated by an operation. In viewonly mode, you may only adjust colors and warp systems and visualize yarn paths</p>
    </div>
    </div>
  

  <app-weaver #weaver
  [draft]="draft"
  [loom]="loom"
  [viewonly]="viewonly"
  ></app-weaver>


  <div class="draft-detail-footer">

    <div class="weave_stats">
      <span> size: {{draft.warps}} ends, {{draft.wefts}} pics</span>
      <span> width: {{loom.width}} {{gl.units}}</span>
      <span *ngIf="gl.units == 'in'"> epi: {{gl.epi}}</span>
      <span *ngIf="gl.units == 'cm'"> ep10cm: {{gl.epi}}</span>
      <span *ngIf="gl.type === 'frame'">requires {{loom.num_frames}} frames, {{loom.num_treadles}} treadles</span>
    </div> 


    <div class="ink-block">
    <mat-label>Using Ink</mat-label>
    <mat-select [(value)]="ink">
      <mat-option 
      *ngFor="let i of inks.getInks()" 
      [value]="i.viewValue"
    >
        {{i.viewValue}}
      </mat-option>
    </mat-select> 
    </div>



</div>