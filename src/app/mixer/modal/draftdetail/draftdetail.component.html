<div class ="draft-detail-modal">


  <div class="toprow">
    <button mat-icon-button (click)="onSave()"><i class="fas fa-times"></i></button>
    
    <div class="titledata">
    <p mat-dialog-title
      cdkDrag
       cdkDragRootElement=".cdk-overlay-pane" 
       cdkDragHandle>Fine Tune this Draft</p>

      <p *ngIf="viewonly" class="viewonly">You are in <b>View Only Mode</b> because this draft has been generated by an operation. In viewonly mode, you may only adjust colors and warp systems and visualize yarn paths. If you want to modify the draft, you must go back to the mixer and duplicate it to remove it from the parent operation</p>
    </div>
    </div>
  

  <app-weaver #weaver
  [draft]="draft"
  [loom]="loom"
  [viewonly]="viewonly"
  ></app-weaver>


  <div class="draft-detail-footer">

    <div class="weave_stats">
      <span> size: {{draft.warps}} ends, {{draft.wefts}} pics</span>
      <span> width: {{loom.width}} {{gl.units}}</span>
      <span *ngIf="gl.units == 'in'"> epi: {{gl.epi}}</span>
      <span *ngIf="gl.units == 'cm'"> ep10cm: {{gl.epi}}</span>
      <span *ngIf="gl.type === 'frame'">requires {{loom.num_frames}} frames, {{loom.num_treadles}} treadles</span>
      <span class="error" *ngIf="gl.type === 'frame' && (gl.min_frames < loom.num_frames || gl.min_treadles < loom.num_treadles) ">
        <i class="fas fa-exclamation-circle"></i> This draft requires more than the {{gl.min_frames}} frames or {{gl.min_treadles}} treadles than you have specified for your loom</span>
    </div> 


    <div class="ink-block">
    <mat-label>Using Ink</mat-label>
    <mat-select [(value)]="ink">
      <mat-option 
      *ngFor="let i of inks.getInks()" 
      [value]="i.viewValue"
    >
        {{i.viewValue}}
      </mat-option>
    </mat-select> 
    </div>



</div>