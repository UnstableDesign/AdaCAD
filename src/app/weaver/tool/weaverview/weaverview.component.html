 <mat-expansion-panel  expanded [hideToggle] = "collapsed">
  <mat-expansion-panel-header>
    <mat-panel-title>
     <span>View</span>
    </mat-panel-title>
    <mat-panel-description>
    </mat-panel-description>
  </mat-expansion-panel-header>
 
  <div class="view_slider">
    <span>Zoom</span>
    <mat-slider 
    [displayWith]="formatLabel" 
    tickInterval="1" 
    min="1" 
    max="100" 
    value="{{zoom}}" 
    (change)="zoomChange($event, 'slider')"></mat-slider>
</div>

      <!-- <mat-button-toggle-group value = "{{view}}"(change)="viewChange($event)" name="fontStyle" aria-label="Font Style">

        <ng-container *ngFor="let mode of view_modes">
          <mat-button-toggle 
          value="{{mode.value}}" >
        {{mode.viewValue}}</mat-button-toggle>
        </ng-container>

      </mat-button-toggle-group> -->


   
      <div class="view_slider">
        <mat-slide-toggle
            [checked]="view !== 'pattern'"
            (change)="viewChange($event)">
        </mat-slide-toggle>
        View Yarn Simulation
      </div>



      <div class="view_slider">
        <mat-slide-toggle
            [checked]="!front"
            (change)="front = !front; viewFront($event, front, 'front')">
        </mat-slide-toggle>
        View Fabric Back
      </div>

      <div class="system-viz">

        <ng-container *ngIf="weft_systems.length > 1">
            <ng-container *ngFor="let system of weft_systems">
              <div class="view_slider">

              <mat-slide-toggle
              [checked]="!system.visible"
              (change)="system.visible = !system.visible; visibleButton(system.id, system.visible, 'weft')">
            </mat-slide-toggle> Hide Weft System {{system.getChar()}}
            </div>
          </ng-container>
        </ng-container>

        <ng-container *ngIf="warp_systems.length > 1">

        <ng-container *ngFor="let system of warp_systems">
          <div class="view_slider">

          <mat-slide-toggle
          [checked]="!system.visible"
          (change)="system.visible = !system.visible; visibleButton(system.id, system.visible, 'warp')">
          </mat-slide-toggle> Hide Warp System {{system.getChar()}}
          </div>
        </ng-container>
        </ng-container>
      </div>


<!-- 

<mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
     System Visibility
    </mat-panel-title>
    <mat-panel-description>
    
    </mat-panel-description>
  </mat-expansion-panel-header>
    <h4>Weft System Visibility</h4>

    <ng-container *ngFor="let system of weft_systems">
      <button  mat-icon-button  [class.selected]="system.visible" (click)="system.visible = !system.visible; visibleButton(system.id, system.visible, 'weft')"> {{system.getChar()}}
    </button>
      
    </ng-container>
    <h4>Warp System Visbibility</h4>
    <ng-container *ngFor="let system of warp_systems">
      <button  mat-icon-button   [class.selected]="system.visible" (click)="system.visible = !system.visible; visibleButton(system.id, system.visible, 'warp')"> {{system.getChar()}}
      </button>
    </ng-container>
</mat-expansion-panel> -->



<!-- <mat-expansion-panel >
  <mat-expansion-panel-header>
    <mat-panel-title>
     Advanced
    </mat-panel-title>
    <mat-panel-description>
    
    </mat-panel-description>
  </mat-expansion-panel-header>
    <h4>Show/Hide Warp Systems</h4>
    <ng-container *ngFor="let system of warp_systems">
      <button  mat-icon-button   [class.selected]="system.visible" (click)="system.visible = !system.visible; visibleButton(system.id, system.visible, 'warp')"> {{system.getChar()}}
      </button>
    </ng-container>
</mat-expansion-panel>
 -->

<!-- 
  <ng-container *ngIf="collapsed">

          <button matTooltip="zoom in" 
          name="zoom_in" 
          class="button is-small  is-primary"
          (click)="zoomChange($event, 'in')">
          <i class="fas fa-search-plus" aria-hidden="true"></i>        
          </button>

        <button matTooltip="zoom out" 
        name="zoom_out" 
        class="button is-small  is-primary"
        (click)="zoomChange($event, 'out')">
        <i class="fas fa-search-minus" aria-hidden="true"></i>    
         </button>  

  </ng-container> -->
</mat-expansion-panel>