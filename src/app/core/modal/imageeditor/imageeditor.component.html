<p mat-dialog-title
cdkDrag
 cdkDragRootElement=".cdk-overlay-pane" 
 cdkDragHandle>
 Manage Image Colors
</p>


<mat-dialog-content >

    <div class="content_left">

        <div class="image_preview" id="image_preview">
            <canvas id="preview_canvas"></canvas>
          </div>

    </div>
    <div class="content_right">

        <div class="header">
            <span>original color space ({{img.colors.length}})</span>  
            <span>map to</span> 
            <span>resulting color space ({{resulting_color_space.length}})</span>
        </div>

        <div class="data">
                
            <div class="mappings">
                <div *ngFor="let color of color_table; index as i" class="data_row">
                   
                    <!--original swatch-->
                    <div class="swatch" [style.background-color]="color.from_hex">
                        <div class="centered_id">{{color.from}}</div>
                    </div> 
                    
                     <!--color mapped to-->
                    <mat-form-field>
                        <mat-label>map to</mat-label>
                        <mat-select [(value)]="color.to" (selectionChange)="mappingChanged(color.from, $event)">
                            <mat-option *ngFor="let to_color of img.colors; index as i" [value]="i">  
                                <div class="swatch" [style.background-color]="to_color.hex">
                                    <div class="centered_id">{{i}}</div>
                                </div>
                            </mat-option>
                        </mat-select>
                      </mat-form-field>
                    
                     <!--color mapped to-->

                    <!-- <div class="swatch" [style.background-color]="color.to_hex">
                        {{color.to}}
                    </div> -->
                    
                </div>
            </div>
            <div class="results">
      
                <div *ngFor="let color of resulting_color_space ; index as i" class="data_row">
                   
                    <!--original swatch-->
                    <div class="swatch" [style.background-color]="color.to_hex">
                        <div class="centered_id"> {{color.to}}</div>                        
                    </div> 
                </div>

            </div>
        </div>
    </div>


    </mat-dialog-content>
    <mat-dialog-actions align="end">
        <button mat-button mat-dialog-close>Save</button>
    </mat-dialog-actions>
      


   