
<!-- UNDO / REDO -->
<div class="sidebar" [class.mixer]="source === 'mixer'" >
    <!--on both weaver and mixer-->

<!-- WEAVER EDITING TOOLS -->
    <div class="tool-chunk" *ngIf="source==='weaver' || source==='weaverinmixer'">

        <button 
        mat-icon-button
        matTooltip= "Edit Draft Cells"
        [matMenuTriggerFor]="inks"
        [class.is-active]="dm.isSelected('draw','design_modes')"        >
        <i class="fas fa-edit"></i>
        </button>

        <mat-menu #inks="matMenu">
            <ng-container *ngFor="let mode of dm.draw_modes">
                <button 
            class="menu-button" 
            mat-menu-item 
            [class.is-active]="dm.isSelected(mode.value,'draw_modes')"
            [name] = "mode.value"
            [disabled]= "viewonly"
            (click)="drawModeChange(mode.value)">
                <span class="{{mode.icon}}"></span>
                <span>{{mode.viewValue}}</span>
            </button>
            </ng-container>

            <ng-container *ngFor="let shuttle of ms.materials">
                <button class="menu-button" 
                mat-menu-item 
                (click)="drawWithMaterial(shuttle.id)">
                    <span class="swatch"  [style.background]="shuttle.color" ></span>
                    <span>{{shuttle.name }}</span>
                </button>
                </ng-container>


        </mat-menu>

        <button 
        mat-icon-button
        matTooltip= "Select Region"
        [class.is-active]="dm.isSelected('select','design_modes')"
        (click)="select()">
        <i class="fas fa-expand"></i>
        </button>

        <button
        matTooltip= "Set Repeats"
        mat-icon-button 
        [class.is-active] = "actions_modal && actions_modal.componentInstance != null"
        (click)='openActions()'><i class="fas fa-magic"></i></button>

        <!-- <button
            mat-icon-button
            matTooltip="Design with ML"
            (click)="engageMLMode()">
            <i class="fas fa-robot"></i>
        </button>

        -->


        <!-- <button 
        mat-icon-button
        matTooltip= "Edit Draft Materials"
        [matMenuTriggerFor]="set_materials"
        [class.is-active]="selected_mode === 'material'"
        >
        <i class="fas fa-palette"></i>
        </button>

        <mat-menu #set_materials="matMenu">
        <ng-container *ngFor="let shuttle of draft.shuttles">
        <button class="menu-button" 
        mat-menu-item 
        (click)="drawWithMaterial(shuttle.id)">
            <span class="swatch"  [style.background]="shuttle.color" ></span>
            <span>{{shuttle.name }}</span>
        </button>
        </ng-container>

        <button class="menu-button" 
        mat-menu-item 
        (click)="openMaterialEditor()">
        <span class="fa fa-plus"></span>
        <span>Add / Edit Materials</span>
        </button>
        </mat-menu> -->

    </div>
    

<!-- VIEW TOOLS -->

    <div class="tool-chunk" *ngIf="source==='weaver'">

        <!-- <button mat-icon-button><i class="fas fa-search-plus"></i></button>
        
        <div class="view_slider">
        <mat-slider 
        vertical
        [displayWith]="formatLabel" 
        tickInterval=".1" 
        step=".1"
        min="0" 
        max="2" 
        value="{{render.zoom}}" 
        (change)="zoomChange($event, 'slider')"></mat-slider>
    </div> -->

        <!-- <button mat-icon-button><i class="fas fa-search-minus"></i></button>
        -->
        <button mat-icon-button 
        (click)='openWeaverView()'
        [class.is-active] = "weaver_view_modal && weaver_view_modal.componentInstance != null"
        >
        <i class="fas fa-eye"></i></button>



        <div class="view_slider">
            Yarns

            <mat-slide-toggle
                [checked]="render.current_view !== 'pattern'"
                (change)="viewChange($event)">
            </mat-slide-toggle>
        </div>
    


    </div>


   
<!-- EQUIPMENT SETTINGS -->
    <div class="tool-chunk" *ngIf="source==='weaver'">

        <button 
        mat-icon-button
        matTooltip= "Equipment Settings"
        [disabled]= "viewonly"

        [class.is-active] = "equipment_modal && equipment_modal.componentInstance != null"
        (click)="openLoomModal()">
        <i class="fas fa-cog"></i></button>

    </div>


 
 
   
    <div  class="designtools" *ngIf="source==='mixer'">

        <div class="undoredo">
        <button #undoEvent 
        mat-stroked-button 
        color="primary"
        (click)="undoClicked($event);"
        [disabled]="ss.undo_disabled || viewonly"
        matTooltip ="undo">
        <i class="fas fa-undo"></i> Undo
        </button>

        <button #redoEvent 
        mat-stroked-button 
        color="primary"
        (click)="redoClicked($event);"
        [disabled]="ss.redo_disabled  || viewonly"
        matTooltip ="redo">
        <i class="fas fa-redo"></i>Redo
        </button>
        </div>


    
        <button 
        mat-stroked-button 
        color="primary"
        matTooltip= "Blank Draft"
        (click)="createNewDraft()">
        <i class="fas fa-chess-board"></i> Add Blank Draft to Workspace
        </button>
    

  
        <button 
        mat-stroked-button 
        color="primary"
        matTooltip= "Note"
        color="primary"
        (click)="addNote()">
        <i class="fas fa-comment"></i> Add Comment to Workspace
        </button>



        <app-quickop
            (onOperationAdded)="addOperation($event)"
        >
        </app-quickop>

        <button 
        mat-button
        [class.is-active] = "op_modal && op_modal.componentInstance != null"
        matTooltip= "Operation"
        (click)="openOps()">
        <i class="fas fa-project-diagram"></i> View All Operations
        </button>
    </div>


</div>