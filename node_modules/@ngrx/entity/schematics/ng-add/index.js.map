{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../modules/entity/schematics/ng-add/index.ts"],"names":[],"mappings":";;AA2BA,4BAQC;AAnCD,yDAMoC;AACpC,0DAA0E;AAC1E,yDAG+B;AAG/B,SAAS,0BAA0B;IACjC,OAAO,UAAC,IAAU,EAAE,OAAyB;QAC3C,IAAA,yCAAuB,EACrB,IAAI,EACJ,cAAc,EACd,cAAc,EACd,iCAAe,CAChB,CAAC;QACF,OAAO,CAAC,OAAO,CAAC,IAAI,8BAAsB,EAAE,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;AACJ,CAAC;AAED,mBAAyB,OAAsB;IAC7C,OAAO,UAAC,IAAU,EAAE,OAAyB;QAC3C,OAAO,IAAA,kBAAK,EAAC;YACX,OAAO,IAAI,OAAO,CAAC,eAAe;gBAChC,CAAC,CAAC,IAAA,iBAAI,GAAE;gBACR,CAAC,CAAC,0BAA0B,EAAE;SACjC,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IACpB,CAAC,CAAC;AACJ,CAAC","sourcesContent":["import {\n  Rule,\n  SchematicContext,\n  Tree,\n  chain,\n  noop,\n} from '@angular-devkit/schematics';\nimport { NodePackageInstallTask } from '@angular-devkit/schematics/tasks';\nimport {\n  addPackageToPackageJson,\n  platformVersion,\n} from '../../schematics-core';\nimport { Schema as EntityOptions } from './schema';\n\nfunction addNgRxEntityToPackageJson() {\n  return (host: Tree, context: SchematicContext) => {\n    addPackageToPackageJson(\n      host,\n      'dependencies',\n      '@ngrx/entity',\n      platformVersion\n    );\n    context.addTask(new NodePackageInstallTask());\n    return host;\n  };\n}\n\nexport default function (options: EntityOptions): Rule {\n  return (host: Tree, context: SchematicContext) => {\n    return chain([\n      options && options.skipPackageJson\n        ? noop()\n        : addNgRxEntityToPackageJson(),\n    ])(host, context);\n  };\n}\n"]}