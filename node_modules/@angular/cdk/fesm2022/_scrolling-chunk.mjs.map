{"version":3,"file":"_scrolling-chunk.mjs","sources":["../../../../../darwin_arm64-fastbuild-ST-199a4f3c4e20/bin/src/cdk/platform/features/scrolling.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\n/** The possible ways the browser may handle the horizontal scroll axis in RTL languages. */\nexport enum RtlScrollAxisType {\n  /**\n   * scrollLeft is 0 when scrolled all the way left and (scrollWidth - clientWidth) when scrolled\n   * all the way right.\n   */\n  NORMAL,\n  /**\n   * scrollLeft is -(scrollWidth - clientWidth) when scrolled all the way left and 0 when scrolled\n   * all the way right.\n   */\n  NEGATED,\n  /**\n   * scrollLeft is (scrollWidth - clientWidth) when scrolled all the way left and 0 when scrolled\n   * all the way right.\n   */\n  INVERTED,\n}\n\n/** Cached result of the way the browser handles the horizontal scroll axis in RTL mode. */\nlet rtlScrollAxisType: RtlScrollAxisType | undefined;\n\n/** Cached result of the check that indicates whether the browser supports scroll behaviors. */\nlet scrollBehaviorSupported: boolean | undefined;\n\n/** Check whether the browser supports scroll behaviors. */\nexport function supportsScrollBehavior(): boolean {\n  if (scrollBehaviorSupported == null) {\n    // If we're not in the browser, it can't be supported. Also check for `Element`, because\n    // some projects stub out the global `document` during SSR which can throw us off.\n    if (typeof document !== 'object' || !document || typeof Element !== 'function' || !Element) {\n      scrollBehaviorSupported = false;\n      return scrollBehaviorSupported;\n    }\n\n    // If the element can have a `scrollBehavior` style, we can be sure that it's supported.\n    if (document.documentElement?.style && 'scrollBehavior' in document.documentElement!.style) {\n      scrollBehaviorSupported = true;\n    } else {\n      // At this point we have 3 possibilities: `scrollTo` isn't supported at all, it's\n      // supported but it doesn't handle scroll behavior, or it has been polyfilled.\n      const scrollToFunction: Function | undefined = Element.prototype.scrollTo;\n\n      if (scrollToFunction) {\n        // We can detect if the function has been polyfilled by calling `toString` on it. Native\n        // functions are obfuscated using `[native code]`, whereas if it was overwritten we'd get\n        // the actual function source. Via https://davidwalsh.name/detect-native-function. Consider\n        // polyfilled functions as supporting scroll behavior.\n        scrollBehaviorSupported = !/\\{\\s*\\[native code\\]\\s*\\}/.test(scrollToFunction.toString());\n      } else {\n        scrollBehaviorSupported = false;\n      }\n    }\n  }\n\n  return scrollBehaviorSupported;\n}\n\n/**\n * Checks the type of RTL scroll axis used by this browser. As of time of writing, Chrome is NORMAL,\n * Firefox & Safari are NEGATED, and IE & Edge are INVERTED.\n */\nexport function getRtlScrollAxisType(): RtlScrollAxisType {\n  // We can't check unless we're on the browser. Just assume 'normal' if we're not.\n  if (typeof document !== 'object' || !document) {\n    return RtlScrollAxisType.NORMAL;\n  }\n\n  if (rtlScrollAxisType == null) {\n    // Create a 1px wide scrolling container and a 2px wide content element.\n    const scrollContainer = document.createElement('div');\n    const containerStyle = scrollContainer.style;\n    scrollContainer.dir = 'rtl';\n    containerStyle.width = '1px';\n    containerStyle.overflow = 'auto';\n    containerStyle.visibility = 'hidden';\n    containerStyle.pointerEvents = 'none';\n    containerStyle.position = 'absolute';\n\n    const content = document.createElement('div');\n    const contentStyle = content.style;\n    contentStyle.width = '2px';\n    contentStyle.height = '1px';\n\n    scrollContainer.appendChild(content);\n    document.body.appendChild(scrollContainer);\n\n    rtlScrollAxisType = RtlScrollAxisType.NORMAL;\n\n    // The viewport starts scrolled all the way to the right in RTL mode. If we are in a NORMAL\n    // browser this would mean that the scrollLeft should be 1. If it's zero instead we know we're\n    // dealing with one of the other two types of browsers.\n    if (scrollContainer.scrollLeft === 0) {\n      // In a NEGATED browser the scrollLeft is always somewhere in [-maxScrollAmount, 0]. For an\n      // INVERTED browser it is always somewhere in [0, maxScrollAmount]. We can determine which by\n      // setting to the scrollLeft to 1. This is past the max for a NEGATED browser, so it will\n      // return 0 when we read it again.\n      scrollContainer.scrollLeft = 1;\n      rtlScrollAxisType =\n        scrollContainer.scrollLeft === 0 ? RtlScrollAxisType.NEGATED : RtlScrollAxisType.INVERTED;\n    }\n\n    scrollContainer.remove();\n  }\n  return rtlScrollAxisType;\n}\n"],"names":["RtlScrollAxisType","rtlScrollAxisType","scrollBehaviorSupported","supportsScrollBehavior","document","Element","documentElement","style","scrollToFunction","prototype","scrollTo","test","toString","getRtlScrollAxisType","NORMAL","scrollContainer","createElement","containerStyle","dir","width","overflow","visibility","pointerEvents","position","content","contentStyle","height","appendChild","body","scrollLeft","NEGATED","INVERTED","remove"],"mappings":"IASYA;AAAZ,CAAA,UAAYA,iBAAiB,EAAA;EAK3BA,iBAAA,CAAAA,iBAAA,CAAA,QAAA,CAAA,GAAA,CAAA,CAAA,GAAA,QAAM;EAKNA,iBAAA,CAAAA,iBAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAO;EAKPA,iBAAA,CAAAA,iBAAA,CAAA,UAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAQ;AACV,CAAC,EAhBWA,iBAAiB,KAAjBA,iBAAiB,GAgB5B,EAAA,CAAA,CAAA;AAGD,IAAIC,iBAAgD;AAGpD,IAAIC,uBAA4C;SAGhCC,sBAAsBA,GAAA;EACpC,IAAID,uBAAuB,IAAI,IAAI,EAAE;AAGnC,IAAA,IAAI,OAAOE,QAAQ,KAAK,QAAQ,IAAI,CAACA,QAAQ,IAAI,OAAOC,OAAO,KAAK,UAAU,IAAI,CAACA,OAAO,EAAE;AAC1FH,MAAAA,uBAAuB,GAAG,KAAK;AAC/B,MAAA,OAAOA,uBAAuB;AAChC;AAGA,IAAA,IAAIE,QAAQ,CAACE,eAAe,EAAEC,KAAK,IAAI,gBAAgB,IAAIH,QAAQ,CAACE,eAAgB,CAACC,KAAK,EAAE;AAC1FL,MAAAA,uBAAuB,GAAG,IAAI;AAChC,KAAA,MAAO;AAGL,MAAA,MAAMM,gBAAgB,GAAyBH,OAAO,CAACI,SAAS,CAACC,QAAQ;AAEzE,MAAA,IAAIF,gBAAgB,EAAE;QAKpBN,uBAAuB,GAAG,CAAC,2BAA2B,CAACS,IAAI,CAACH,gBAAgB,CAACI,QAAQ,EAAE,CAAC;AAC1F,OAAA,MAAO;AACLV,QAAAA,uBAAuB,GAAG,KAAK;AACjC;AACF;AACF;AAEA,EAAA,OAAOA,uBAAuB;AAChC;SAMgBW,oBAAoBA,GAAA;AAElC,EAAA,IAAI,OAAOT,QAAQ,KAAK,QAAQ,IAAI,CAACA,QAAQ,EAAE;IAC7C,OAAOJ,iBAAiB,CAACc,MAAM;AACjC;EAEA,IAAIb,iBAAiB,IAAI,IAAI,EAAE;AAE7B,IAAA,MAAMc,eAAe,GAAGX,QAAQ,CAACY,aAAa,CAAC,KAAK,CAAC;AACrD,IAAA,MAAMC,cAAc,GAAGF,eAAe,CAACR,KAAK;IAC5CQ,eAAe,CAACG,GAAG,GAAG,KAAK;IAC3BD,cAAc,CAACE,KAAK,GAAG,KAAK;IAC5BF,cAAc,CAACG,QAAQ,GAAG,MAAM;IAChCH,cAAc,CAACI,UAAU,GAAG,QAAQ;IACpCJ,cAAc,CAACK,aAAa,GAAG,MAAM;IACrCL,cAAc,CAACM,QAAQ,GAAG,UAAU;AAEpC,IAAA,MAAMC,OAAO,GAAGpB,QAAQ,CAACY,aAAa,CAAC,KAAK,CAAC;AAC7C,IAAA,MAAMS,YAAY,GAAGD,OAAO,CAACjB,KAAK;IAClCkB,YAAY,CAACN,KAAK,GAAG,KAAK;IAC1BM,YAAY,CAACC,MAAM,GAAG,KAAK;AAE3BX,IAAAA,eAAe,CAACY,WAAW,CAACH,OAAO,CAAC;AACpCpB,IAAAA,QAAQ,CAACwB,IAAI,CAACD,WAAW,CAACZ,eAAe,CAAC;IAE1Cd,iBAAiB,GAAGD,iBAAiB,CAACc,MAAM;AAK5C,IAAA,IAAIC,eAAe,CAACc,UAAU,KAAK,CAAC,EAAE;MAKpCd,eAAe,CAACc,UAAU,GAAG,CAAC;AAC9B5B,MAAAA,iBAAiB,GACfc,eAAe,CAACc,UAAU,KAAK,CAAC,GAAG7B,iBAAiB,CAAC8B,OAAO,GAAG9B,iBAAiB,CAAC+B,QAAQ;AAC7F;IAEAhB,eAAe,CAACiB,MAAM,EAAE;AAC1B;AACA,EAAA,OAAO/B,iBAAiB;AAC1B;;;;"}