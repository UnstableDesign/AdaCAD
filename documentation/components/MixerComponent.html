<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>adacad documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

<<<<<<< HEAD
        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">adacad documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
=======
        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">adacad documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">adacad documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/CoreModule.html" >CoreModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/DraftDetailModule.html" >DraftDetailModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/MixerModule.html" >MixerModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AboutModal.html" >AboutModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ActionsComponent.html" >ActionsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AppComponent.html" >AppComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BlankdraftModal.html" >BlankdraftModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConnectionComponent.html" >ConnectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CrosssectionComponent.html" >CrosssectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DesignComponent.html" >DesignComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DraftDetailComponent.html" >DraftDetailComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DraftviewerComponent.html" >DraftviewerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ExamplesComponent.html" >ExamplesComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/FilebrowserComponent.html" >FilebrowserComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ImageComponent.html" >ImageComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InitModal.html" >InitModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InletComponent.html" >InletComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoadfileComponent.html" >LoadfileComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoginComponent.html" >LoginComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoomModal.html" >LoomModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialModal.html" >MaterialModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MixerComponent.html"  class="active" >MixerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MixerViewComponent.html" >MixerViewComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NoteComponent.html" >NoteComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OpHelpModal.html" >OpHelpModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OperationComponent.html" >OperationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OpsComponent.html" >OpsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PaletteComponent.html" >PaletteComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ParameterComponent.html" >ParameterComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ProfileComponent.html" >ProfileComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/QuickopComponent.html" >QuickopComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SelectionComponent.html" >SelectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SidebarComponent.html" >SidebarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SignupComponent.html" >SignupComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SimulationComponent.html" >SimulationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SnackbarComponent.html" >SnackbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SubdraftComponent.html" >SubdraftComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/UploadFormComponent.html" >UploadFormComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/WeaverViewComponent.html" >WeaverViewComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-code"></span>
                            <span>Directives</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-directives-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-directives-links"
                            >
                                <li class="link">
                                    <a href="../directives/KeycodesDirective.html" >KeycodesDirective</a>
                                </li>
                                <li class="link">
                                    <a href="../directives/MarqueeComponent.html" >MarqueeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../directives/SelectionComponent.html" >SelectionComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/AdaCADWeaverPage.html" >AdaCADWeaverPage</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/MyErrorStateMatcher.html" >MyErrorStateMatcher</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Selection.html" >Selection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Util.html" >Util</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/AuthService.html" >AuthService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/CollectionService.html" >CollectionService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ExampleserviceService.html" >ExampleserviceService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/FabricssimService.html" >FabricssimService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/FileService.html" >FileService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/FilesystemService.html" >FilesystemService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ImageService.html" >ImageService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/InkService.html" >InkService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LayersService.html" >LayersService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/MaterialsService.html" >MaterialsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/MultiselectService.html" >MultiselectService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/NotesService.html" >NotesService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/OperationDescriptionsService.html" >OperationDescriptionsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/OperationService.html" >OperationService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/PatternfinderService.html" >PatternfinderService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/RenderService.html" >RenderService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/SimulationService.html" >SimulationService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/StateService.html" >StateService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/SystemsService.html" >SystemsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/TreeService.html" >TreeService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/UploadService.html" >UploadService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/VaeService.html" >VaeService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/VersionService.html" >VersionService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ViewportService.html" >ViewportService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/WorkspaceService.html" >WorkspaceService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ZoomService.html" >ZoomService</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/AnalyzedImage.html" >AnalyzedImage</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Bounds.html" >Bounds</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Cell.html" >Cell</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ComboNode.html" >ComboNode</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ComboTree.html" >ComboTree</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignMode.html" >DesignMode</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Draft.html" >Draft</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DraftMap.html" >DraftMap</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DraftNodeProxy.html" >DraftNodeProxy</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FileObj.html" >FileObj</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FileSaver.html" >FileSaver</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Fileloader.html" >Fileloader</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/HistoryState.html" >HistoryState</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/IOTuple.html" >IOTuple</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Ink.html" >Ink</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Interlacement.html" >Interlacement</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/InterlacementVal.html" >InterlacementVal</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Item.html" >Item</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoadResponse.html" >LoadResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Material.html" >Material</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MaterialMap.html" >MaterialMap</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Model.html" >Model</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/NodeComponentProxy.html" >NodeComponentProxy</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Note.html" >Note</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/OpComponentProxy.html" >OpComponentProxy</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/OpInput.html" >OpInput</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/OpParamVal.html" >OpParamVal</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/OperationClassification.html" >OperationClassification</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SaveObj.html" >SaveObj</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/StatusMessage.html" >StatusMessage</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/System.html" >System</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/TreeNode.html" >TreeNode</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/TreeNodeProxy.html" >TreeNodeProxy</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Upload.html" >Upload</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
<<<<<<< HEAD
                   <compodoc-menu mode="normal"></compodoc-menu>
=======
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">adacad documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/CoreModule.html" >CoreModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/DraftDetailModule.html" >DraftDetailModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/MixerModule.html" >MixerModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AboutModal.html" >AboutModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ActionsComponent.html" >ActionsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AppComponent.html" >AppComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BlankdraftModal.html" >BlankdraftModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConnectionComponent.html" >ConnectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CrosssectionComponent.html" >CrosssectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DesignComponent.html" >DesignComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DraftDetailComponent.html" >DraftDetailComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DraftviewerComponent.html" >DraftviewerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ExamplesComponent.html" >ExamplesComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/FilebrowserComponent.html" >FilebrowserComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ImageComponent.html" >ImageComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InitModal.html" >InitModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InletComponent.html" >InletComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoadfileComponent.html" >LoadfileComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoginComponent.html" >LoginComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoomModal.html" >LoomModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialModal.html" >MaterialModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MixerComponent.html"  class="active" >MixerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MixerViewComponent.html" >MixerViewComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NoteComponent.html" >NoteComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OpHelpModal.html" >OpHelpModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OperationComponent.html" >OperationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OpsComponent.html" >OpsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PaletteComponent.html" >PaletteComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ParameterComponent.html" >ParameterComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ProfileComponent.html" >ProfileComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/QuickopComponent.html" >QuickopComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SelectionComponent.html" >SelectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SidebarComponent.html" >SidebarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SignupComponent.html" >SignupComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SimulationComponent.html" >SimulationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SnackbarComponent.html" >SnackbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SubdraftComponent.html" >SubdraftComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/UploadFormComponent.html" >UploadFormComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/WeaverViewComponent.html" >WeaverViewComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-code"></span>
                                   <span>Directives</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#directives-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="directives-links"
                   >
                                       <li class="link">
                                           <a href="../directives/KeycodesDirective.html" >KeycodesDirective</a>
                                       </li>
                                       <li class="link">
                                           <a href="../directives/MarqueeComponent.html" >MarqueeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../directives/SelectionComponent.html" >SelectionComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/AdaCADWeaverPage.html" >AdaCADWeaverPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/MyErrorStateMatcher.html" >MyErrorStateMatcher</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Selection.html" >Selection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Util.html" >Util</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/AuthService.html" >AuthService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/CollectionService.html" >CollectionService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ExampleserviceService.html" >ExampleserviceService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/FabricssimService.html" >FabricssimService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/FileService.html" >FileService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/FilesystemService.html" >FilesystemService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ImageService.html" >ImageService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/InkService.html" >InkService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LayersService.html" >LayersService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/MaterialsService.html" >MaterialsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/MultiselectService.html" >MultiselectService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/NotesService.html" >NotesService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/OperationDescriptionsService.html" >OperationDescriptionsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/OperationService.html" >OperationService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/PatternfinderService.html" >PatternfinderService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/RenderService.html" >RenderService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/SimulationService.html" >SimulationService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/StateService.html" >StateService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/SystemsService.html" >SystemsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/TreeService.html" >TreeService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/UploadService.html" >UploadService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/VaeService.html" >VaeService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/VersionService.html" >VersionService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ViewportService.html" >ViewportService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/WorkspaceService.html" >WorkspaceService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ZoomService.html" >ZoomService</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/AnalyzedImage.html" >AnalyzedImage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Bounds.html" >Bounds</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Cell.html" >Cell</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ComboNode.html" >ComboNode</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ComboTree.html" >ComboTree</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignMode.html" >DesignMode</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Draft.html" >Draft</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DraftMap.html" >DraftMap</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DraftNodeProxy.html" >DraftNodeProxy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FileObj.html" >FileObj</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FileSaver.html" >FileSaver</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Fileloader.html" >Fileloader</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/HistoryState.html" >HistoryState</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/IOTuple.html" >IOTuple</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Ink.html" >Ink</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Interlacement.html" >Interlacement</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/InterlacementVal.html" >InterlacementVal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Item.html" >Item</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoadResponse.html" >LoadResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Material.html" >Material</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MaterialMap.html" >MaterialMap</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Model.html" >Model</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/NodeComponentProxy.html" >NodeComponentProxy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Note.html" >Note</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/OpComponentProxy.html" >OpComponentProxy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/OpInput.html" >OpInput</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/OpParamVal.html" >OpParamVal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/OperationClassification.html" >OperationClassification</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SaveObj.html" >SaveObj</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/StatusMessage.html" >StatusMessage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/System.html" >System</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/TreeNode.html" >TreeNode</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/TreeNodeProxy.html" >TreeNodeProxy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Upload.html" >Upload</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  MixerComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/mixer/mixer.component.ts</code>
</p>


<<<<<<< HEAD


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
    </p>

=======
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>










            <tr>
                <td class="col-md-3">providers</td>
                <td class="col-md-9">
<<<<<<< HEAD
                                <code><a href="../miscellaneous/variables.html#myCustomTooltipDefaults" target="_self" >{ provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: myCustomTooltipDefaults }</a></code>
=======
                    <code>
                        { provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: myCustomTooltipDefaults }
                    </code>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                </td>
            </tr>


            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-mixer</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./mixer.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./mixer.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#collapsed" >collapsed</a>
                            </li>
                            <li>
                                <a href="#density_units" >density_units</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#details" >details</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dm" >dm</a>
                            </li>
                            <li>
                                <a href="#epi" >epi</a>
                            </li>
                            <li>
                                <a href="#frames" >frames</a>
                            </li>
                            <li>
                                <a href="#loading" >loading</a>
                            </li>
                            <li>
                                <a href="#loomtype" >loomtype</a>
                            </li>
                            <li>
                                <a href="#loomtypes" >loomtypes</a>
                            </li>
                            <li>
                                <a href="#manual_scroll" >manual_scroll</a>
                            </li>
                            <li>
                                <a href="#origin_options" >origin_options</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#palette" >palette</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#scroll" >scroll</a>
                            </li>
                            <li>
                                <a href="#scrollingSubscription" >scrollingSubscription</a>
                            </li>
                            <li>
                                <a href="#selected_nodes_copy" >selected_nodes_copy</a>
                            </li>
                            <li>
                                <a href="#selected_origin" >selected_origin</a>
                            </li>
                            <li>
                                <a href="#show_details" >show_details</a>
                            </li>
                            <li>
                                <a href="#show_viewer" >show_viewer</a>
                            </li>
                            <li>
                                <a href="#treadles" >treadles</a>
                            </li>
                            <li>
                                <a href="#units" >units</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#unsubscribe$" >unsubscribe$</a>
                            </li>
                            <li>
                                <a href="#viewonly" >viewonly</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#vp" >vp</a>
                            </li>
                            <li>
                                <a href="#warp_locked" >warp_locked</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#ws" >ws</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addOp" >addOp</a>
                            </li>
                            <li>
                                <a href="#clearAll" >clearAll</a>
                            </li>
                            <li>
                                <a href="#clearView" >clearView</a>
                            </li>
                            <li>
                                <a href="#closeDetailViewer" >closeDetailViewer</a>
                            </li>
                            <li>
                                <a href="#createNewDraft" >createNewDraft</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#createNote" >createNote</a>
                            </li>
                            <li>
                                <a href="#deleteCurrentFile" >deleteCurrentFile</a>
                            </li>
                            <li>
                                <a href="#detailViewChange" >detailViewChange</a>
                            </li>
                            <li>
                                <a href="#epiChange" >epiChange</a>
                            </li>
                            <li>
                                <a href="#importNewFile" >importNewFile</a>
                            </li>
                            <li>
                                <a href="#initLoginLogoutSequence" >initLoginLogoutSequence</a>
                            </li>
                            <li>
                                <a href="#insertPasteFile" >insertPasteFile</a>
                            </li>
                            <li>
                                <a href="#isBlankWorkspace" >isBlankWorkspace</a>
                            </li>
                            <li>
                                <a href="#loadBlankFile" >loadBlankFile</a>
                            </li>
                            <li>
                                <a href="#loadDrafts" >loadDrafts</a>
                            </li>
                            <li>
                                <a href="#loadExampleAtURL" >loadExampleAtURL</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#loadFromDB" >loadFromDB</a>
                            </li>
                            <li>
                                <a href="#loadNewFile" >loadNewFile</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#loadNodes" >loadNodes</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#loadTreeNodes" >loadTreeNodes</a>
                            </li>
                            <li>
                                <a href="#loomChange" >loomChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#materialChange" >materialChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#newDraftCreated" >newDraftCreated</a>
                            </li>
                            <li>
                                <a href="#ngAfterViewInit" >ngAfterViewInit</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy" >ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#notesChanged" >notesChanged</a>
                            </li>
                            <li>
                                <a href="#onCopySelections" >onCopySelections</a>
                            </li>
                            <li>
                                <a href="#onPasteSelections" >onPasteSelections</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                    <span class="modifier">Async</span>
                                <a href="#onSave" >onSave</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#onWindowScroll" >onWindowScroll</a>
                            </li>
                            <li>
                                <a href="#operationAdded" >operationAdded</a>
                            </li>
                            <li>
                                <a href="#originChange" >originChange</a>
                            </li>
                            <li>
                                <a href="#prepAndLoadFile" >prepAndLoadFile</a>
                            </li>
                            <li>
                                <a href="#printTreeStatus" >printTreeStatus</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#processFileData" >processFileData</a>
                            </li>
                            <li>
                                <a href="#redo" >redo</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#renderChange" >renderChange</a>
                            </li>
                            <li>
                                <a href="#saveFile" >saveFile</a>
                            </li>
                            <li>
                                <a href="#setScroll" >setScroll</a>
                            </li>
                            <li>
                                <a href="#showDraftDetails" >showDraftDetails</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#toggleCollapsed" >toggleCollapsed</a>
                            </li>
                            <li>
                                <a href="#togglePanMode" >togglePanMode</a>
                            </li>
                            <li>
                                <a href="#toggleSelectMode" >toggleSelectMode</a>
                            </li>
                            <li>
                                <a href="#undo" >undo</a>
                            </li>
                            <li>
                                <a href="#unitChange" >unitChange</a>
                            </li>
                            <li>
                                <a href="#updateOrigin" >updateOrigin</a>
                            </li>
                            <li>
                                <a href="#zoomChange" >zoomChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#zoomChangeExternal" >zoomChangeExternal</a>
                            </li>
                            <li>
                                <a href="#zoomIn" >zoomIn</a>
                            </li>
                            <li>
                                <a href="#zoomOut" >zoomOut</a>
                            </li>
                        </ul>
                    </td>
                </tr>


<<<<<<< HEAD



        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(dm: <a href="../injectables/DesignmodesService.html" target="_self">DesignmodesService</a>, auth: <a href="../injectables/AuthService.html" target="_self">AuthService</a>, ms: <a href="../injectables/MaterialsService.html" target="_self">MaterialsService</a>, sys: <a href="../injectables/SystemsService.html" target="_self">SystemsService</a>, tree: <a href="../injectables/TreeService.html" target="_self">TreeService</a>, scroll: ScrollDispatcher, fs: <a href="../injectables/FileService.html" target="_self">FileService</a>, ws: <a href="../injectables/WorkspaceService.html" target="_self">WorkspaceService</a>, vp: <a href="../injectables/ViewportService.html" target="_self">ViewportService</a>, notes: <a href="../injectables/NotesService.html" target="_self">NotesService</a>, ss: <a href="../injectables/StateService.html" target="_self">StateService</a>, dialog: MatDialog, image: <a href="../injectables/ImageService.html" target="_self">ImageService</a>, ops: <a href="../injectables/OperationService.html" target="_self">OperationService</a>, http: HttpClient, zs: <a href="../injectables/ZoomService.html" target="_self">ZoomService</a>, files: <a href="../injectables/FilesystemService.html" target="_self">FilesystemService</a>, render: <a href="../injectables/RenderService.html" target="_self">RenderService</a>, multiselect: <a href="../injectables/MultiselectService.html" target="_self">MultiselectService</a>, fbauth: Auth)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="101" class="link-to-prism">src/app/mixer/mixer.component.ts:101</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>ps - pattern service (variable name is initials). Subscribes to the patterns and used
to get and update stitches.
dialog - Anglar Material dialog module. Used to control the popup modals.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>dm</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DesignmodesService.html" target="_self" >DesignmodesService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>auth</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ms</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/MaterialsService.html" target="_self" >MaterialsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>sys</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SystemsService.html" target="_self" >SystemsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>tree</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/TreeService.html" target="_self" >TreeService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>scroll</td>
                                                  
                                                        <td>
                                                                    <code>ScrollDispatcher</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>fs</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/FileService.html" target="_self" >FileService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ws</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/WorkspaceService.html" target="_self" >WorkspaceService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>vp</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ViewportService.html" target="_self" >ViewportService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>notes</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NotesService.html" target="_self" >NotesService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ss</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/StateService.html" target="_self" >StateService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dialog</td>
                                                  
                                                        <td>
                                                                    <code>MatDialog</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>image</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ImageService.html" target="_self" >ImageService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ops</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/OperationService.html" target="_self" >OperationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                    <code>HttpClient</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>zs</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ZoomService.html" target="_self" >ZoomService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>files</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/FilesystemService.html" target="_self" >FilesystemService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>render</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/RenderService.html" target="_self" >RenderService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>multiselect</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/MultiselectService.html" target="_self" >MultiselectService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>fbauth</td>
                                                  
                                                        <td>
                                                                    <code>Auth</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addOp"></a>
                    <span class="name">
                        <span ><b>addOp</b></span>
                        <a href="#addOp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addOp(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="262"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:262</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearAll"></a>
                    <span class="name">
                        <span ><b>clearAll</b></span>
                        <a href="#clearAll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearAll()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="938"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:938</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearView"></a>
                    <span class="name">
                        <span ><b>clearView</b></span>
                        <a href="#clearView"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearView()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="932"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:932</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeDetailViewer"></a>
                    <span class="name">
                        <span ><b>closeDetailViewer</b></span>
                        <a href="#closeDetailViewer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>closeDetailViewer(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="202"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:202</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createNewDraft"></a>
                    <span class="name">
                        <span ><b>createNewDraft</b></span>
                        <a href="#createNewDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createNewDraft()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="288"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:288</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createNote"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>createNote</b></span>
                        <a href="#createNote"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createNote()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1111"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1111</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteCurrentFile"></a>
                    <span class="name">
                        <span ><b>deleteCurrentFile</b></span>
                        <a href="#deleteCurrentFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>deleteCurrentFile()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="458"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:458</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="detailViewChange"></a>
                    <span class="name">
                        <span ><b>detailViewChange</b></span>
                        <a href="#detailViewChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>detailViewChange()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="256"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:256</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="epiChange"></a>
                    <span class="name">
                        <span ><b>epiChange</b></span>
                        <a href="#epiChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>epiChange(f: NgForm)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1220"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1220</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>f</td>
                                    <td>
                                            <code>NgForm</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="importNewFile"></a>
                    <span class="name">
                        <span ><b>importNewFile</b></span>
                        <a href="#importNewFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>importNewFile(result: <a href="../interfaces/LoadResponse.html" target="_self">LoadResponse</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="485"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:485</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this gets called when a new file is started from the topbar</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>result</td>
                                    <td>
                                                <code><a href="../interfaces/LoadResponse.html" target="_self" >LoadResponse</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initLoginLogoutSequence"></a>
                    <span class="name">
                        <span ><b>initLoginLogoutSequence</b></span>
                        <a href="#initLoginLogoutSequence"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initLoginLogoutSequence(user: User)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="313"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:313</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this is called anytime a user event is fired</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>user</td>
                                    <td>
                                            <code>User</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insertPasteFile"></a>
                    <span class="name">
                        <span ><b>insertPasteFile</b></span>
                        <a href="#insertPasteFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>insertPasteFile(result: <a href="../interfaces/LoadResponse.html" target="_self">LoadResponse</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="405"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:405</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this is called when paste is called and has loaded in the data from the copy event.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>result</td>
                                    <td>
                                                <code><a href="../interfaces/LoadResponse.html" target="_self" >LoadResponse</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isBlankWorkspace"></a>
                    <span class="name">
                        <span ><b>isBlankWorkspace</b></span>
                        <a href="#isBlankWorkspace"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isBlankWorkspace()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="268"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:268</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadBlankFile"></a>
                    <span class="name">
                        <span ><b>loadBlankFile</b></span>
                        <a href="#loadBlankFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadBlankFile()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="451"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:451</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadDrafts"></a>
                    <span class="name">
                        <span ><b>loadDrafts</b></span>
                        <a href="#loadDrafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadDrafts(drafts: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="844"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:844</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Called from import bitmaps to drafts features. The drafts have already been imported and sent to this function,
which now needs to draw them to the workspace</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>drafts</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadExampleAtURL"></a>
                    <span class="name">
                        <span ><b>loadExampleAtURL</b></span>
                        <a href="#loadExampleAtURL"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadExampleAtURL(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="905"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:905</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadFromDB"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>loadFromDB</b></span>
                        <a href="#loadFromDB"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadFromDB(fileid: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="439"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:439</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>fileid</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadNewFile"></a>
                    <span class="name">
                        <span ><b>loadNewFile</b></span>
                        <a href="#loadNewFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadNewFile(result: <a href="../interfaces/LoadResponse.html" target="_self">LoadResponse</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="420"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:420</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this gets called when a new file is started from the topbar or a new file is reload via undo/redo</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>result</td>
                                    <td>
                                                <code><a href="../interfaces/LoadResponse.html" target="_self" >LoadResponse</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadNodes"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>loadNodes</b></span>
                        <a href="#loadNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadNodes(nodes: <a href="../interfaces/NodeComponentProxy.html" target="_self">Array&lt;NodeComponentProxy&gt;</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="540"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:540</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this uses the uploaded node data to create new nodes, in addition to any nodes that may already exist</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>nodes</td>
                                    <td>
                                                <code><a href="../interfaces/NodeComponentProxy.html" target="_self" >Array&lt;NodeComponentProxy&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the nodes from the upload</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of uploaded ids mapped to unique ids in this instance</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadTreeNodes"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>loadTreeNodes</b></span>
                        <a href="#loadTreeNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadTreeNodes(id_map: Array<literal type>, tns: <a href="../undefineds/Node.html" target="_self">Array&lt;TreeNodeProxy&gt;</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="553"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:553</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>uploads the relationships between the nodes as specified in a load file</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id_map</td>
                                    <td>
                                            <code>Array&lt;literal type&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the map from uploaded ids to current ids generated by loadNodes</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>tns</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Array&lt;TreeNodeProxy&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the uploaded treenode data</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Array&lt;literal type&gt;&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of treenodes and the map associated at each tree node</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loomChange"></a>
                    <span class="name">
                        <span ><b>loomChange</b></span>
                        <a href="#loomChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loomChange(e: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1241"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1241</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>when a user selects a new loom type, the software will pull all subdrafts and update their loom information</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>e</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="materialChange"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>materialChange</b></span>
                        <a href="#materialChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>materialChange()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1130"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1130</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>something in the materials library changed, check to see if
there is a modal showing materials open and update it if there is</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newDraftCreated"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>newDraftCreated</b></span>
                        <a href="#newDraftCreated"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>newDraftCreated(obj: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1118"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1118</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called when the user adds a new draft from the sidebar</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterViewInit"></a>
                    <span class="name">
                        <span ><b>ngAfterViewInit</b></span>
                        <a href="#ngAfterViewInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterViewInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="180"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:180</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <span ><b>ngOnDestroy</b></span>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="950"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:950</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="172"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:172</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="notesChanged"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>notesChanged</b></span>
                        <a href="#notesChanged"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>notesChanged(e: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1099"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1099</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>e</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onCopySelections"></a>
                    <span class="name">
                        <span ><b>onCopySelections</b></span>
                        <a href="#onCopySelections"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onCopySelections()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="981"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:981</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onPasteSelections"></a>
                    <span class="name">
                        <span ><b>onPasteSelections</b></span>
                        <a href="#onPasteSelections"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onPasteSelections()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="986"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:986</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSave"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span class="modifier">Async</span>
                        <span ><b>onSave</b></span>
                        <a href="#onSave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onSave(e: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1040"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1040</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this is called when a user pushes save from the topbar</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>e</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onWindowScroll"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>onWindowScroll</b></span>
                        <a href="#onWindowScroll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onWindowScroll(data: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="185"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:185</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>data</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="operationAdded"></a>
                    <span class="name">
                        <span ><b>operationAdded</b></span>
                        <a href="#operationAdded"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>operationAdded(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1031"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1031</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="originChange"></a>
                    <span class="name">
                        <span ><b>originChange</b></span>
                        <a href="#originChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>originChange(e: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1159"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1159</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>when the origin changes, all drafts on the canavs should be modified to the new position
origin changes can ONLY happen on globals
flips must be calculated from the prior state</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>e</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="prepAndLoadFile"></a>
                    <span class="name">
                        <span ><b>prepAndLoadFile</b></span>
                        <a href="#prepAndLoadFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>prepAndLoadFile(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, desc: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, ada: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="924"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:924</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>desc</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ada</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="printTreeStatus"></a>
                    <span class="name">
                        <span ><b>printTreeStatus</b></span>
                        <a href="#printTreeStatus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>printTreeStatus(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, treenode: <a href="../interfaces/TreeNode.html" target="_self">Array&lt;TreeNode&gt;</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="499"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:499</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>treenode</td>
                                    <td>
                                                <code><a href="../interfaces/TreeNode.html" target="_self" >Array&lt;TreeNode&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processFileData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>processFileData</b></span>
                        <a href="#processFileData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processFileData(data: <a href="../interfaces/FileObj.html" target="_self">FileObj</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="626"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:626</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Take a fileObj returned from the fileservice and process</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>data</td>
                                    <td>
                                                <code><a href="../interfaces/FileObj.html" target="_self" >FileObj</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;string | void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="redo"></a>
                    <span class="name">
                        <span ><b>redo</b></span>
                        <a href="#redo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>redo()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="970"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:970</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="renderChange"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>renderChange</b></span>
                        <a href="#renderChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>renderChange(old_zoom: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1084"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1084</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Updates the canvas based on the weave view.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>old_zoom</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="saveFile"></a>
                    <span class="name">
                        <span ><b>saveFile</b></span>
                        <a href="#saveFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>saveFile()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="468"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:468</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setScroll"></a>
                    <span class="name">
                        <span ><b>setScroll</b></span>
                        <a href="#setScroll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setScroll(delta: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="194"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:194</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>delta</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="showDraftDetails"></a>
                    <span class="name">
                        <span ><b>showDraftDetails</b></span>
                        <a href="#showDraftDetails"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>showDraftDetails(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1263"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1263</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleCollapsed"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>toggleCollapsed</b></span>
                        <a href="#toggleCollapsed"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>toggleCollapsed()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1107"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1107</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="togglePanMode"></a>
                    <span class="name">
                        <span ><b>togglePanMode</b></span>
                        <a href="#togglePanMode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>togglePanMode()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1005"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1005</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleSelectMode"></a>
                    <span class="name">
                        <span ><b>toggleSelectMode</b></span>
                        <a href="#toggleSelectMode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>toggleSelectMode()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1016"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1016</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="undo"></a>
                    <span class="name">
                        <span ><b>undo</b></span>
                        <a href="#undo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>undo()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="956"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:956</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unitChange"></a>
                    <span class="name">
                        <span ><b>unitChange</b></span>
                        <a href="#unitChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>unitChange(e: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1256"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1256</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>e</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateOrigin"></a>
                    <span class="name">
                        <span ><b>updateOrigin</b></span>
                        <a href="#updateOrigin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateOrigin(selection: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1146"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1146</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>the origin must be updated after the file has been loaded.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>selection</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="zoomChange"></a>
                    <span class="name">
                        <span ><b>zoomChange</b></span>
                        <a href="#zoomChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>zoomChange(e: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, source: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="299"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:299</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>e</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>source</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="zoomChangeExternal"></a>
                    <span class="name">
                        <span class="modifier">Public</span>
                        <span ><b>zoomChangeExternal</b></span>
                        <a href="#zoomChangeExternal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>zoomChangeExternal(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1092"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:1092</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Updates the canvas based on the weave view.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="zoomIn"></a>
                    <span class="name">
                        <span ><b>zoomIn</b></span>
                        <a href="#zoomIn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>zoomIn()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="273"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:273</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="zoomOut"></a>
                    <span class="name">
                        <span ><b>zoomOut</b></span>
                        <a href="#zoomOut"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>zoomOut()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="281"
                            class="link-to-prism">src/app/mixer/mixer.component.ts:281</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="collapsed"></a>
                    <span class="name">
                        <span ><b>collapsed</b></span>
                        <a href="#collapsed"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">src/app/mixer/mixer.component.ts:96</a></div>
=======
    <section>
        <h3 id="constructor">Constructor</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <code>constructor(dm: <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>, auth: <a href="../injectables/AuthService.html" >AuthService</a>, ms: <a href="../injectables/MaterialsService.html" >MaterialsService</a>, sys: <a href="../injectables/SystemsService.html" >SystemsService</a>, tree: <a href="../injectables/TreeService.html" >TreeService</a>, scroll: any, fs: <a href="../injectables/FileService.html" >FileService</a>, ws: <a href="../injectables/WorkspaceService.html" >WorkspaceService</a>, vp: <a href="../injectables/ViewportService.html" >ViewportService</a>, notes: <a href="../injectables/NotesService.html" >NotesService</a>, ss: <a href="../injectables/StateService.html" >StateService</a>, dialog: any, image: <a href="../injectables/ImageService.html" >ImageService</a>, ops: <a href="../injectables/OperationService.html" >OperationService</a>, http: any, zs: <a href="../injectables/ZoomService.html" >ZoomService</a>, files: <a href="../injectables/FilesystemService.html" >FilesystemService</a>, render: <a href="../injectables/RenderService.html" >RenderService</a>, multiselect: <a href="../injectables/MultiselectService.html" >MultiselectService</a>, fbauth: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="methods">Methods</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> onWindowScroll</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play lock">
                                    <span class="fa fa-lock"></span>
                                </span>
                            <code>onWindowScroll(data: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> setScroll</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>setScroll(delta: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> closeDetailViewer</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>closeDetailViewer(obj: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> detailViewChange</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>detailViewChange()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> addOp</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>addOp(event: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> isBlankWorkspace</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>isBlankWorkspace()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>boolean</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> zoomIn</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>zoomIn()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> zoomOut</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>zoomOut()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> createNewDraft</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>createNewDraft()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> zoomChange</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>zoomChange(e: any, source: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> initLoginLogoutSequence</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>initLoginLogoutSequence(user: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>this is called anytime a user event is fired</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>user</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> insertPasteFile</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>insertPasteFile(result: LoadResponse)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>this is called when paste is called and has loaded in the data from the copy event. </p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>result</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> loadNewFile</b>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="density_units"></a>
                    <span class="name">
                        <span ><b>density_units</b></span>
                        <a href="#density_units"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/DesignMode.html" target="_self" >Array&lt;DesignMode&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="72" class="link-to-prism">src/app/mixer/mixer.component.ts:72</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="details"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>details</b></span>
                        <a href="#details"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(DraftDetailComponent)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="64" class="link-to-prism">src/app/mixer/mixer.component.ts:64</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dm"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>dm</b></span>
                        <a href="#dm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/DesignmodesService.html" target="_self" >DesignmodesService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="111" class="link-to-prism">src/app/mixer/mixer.component.ts:111</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="epi"></a>
                    <span class="name">
                        <span ><b>epi</b></span>
                        <a href="#epi"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>10</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="66" class="link-to-prism">src/app/mixer/mixer.component.ts:66</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="frames"></a>
                    <span class="name">
                        <span ><b>frames</b></span>
                        <a href="#frames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>8</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">src/app/mixer/mixer.component.ts:68</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loading"></a>
                    <span class="name">
                        <span ><b>loading</b></span>
                        <a href="#loading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">src/app/mixer/mixer.component.ts:78</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loomtype"></a>
                    <span class="name">
                        <span ><b>loomtype</b></span>
                        <a href="#loomtype"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;jacquard&quot;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">src/app/mixer/mixer.component.ts:70</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loomtypes"></a>
                    <span class="name">
                        <span ><b>loomtypes</b></span>
                        <a href="#loomtypes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/DesignMode.html" target="_self" >Array&lt;DesignMode&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/app/mixer/mixer.component.ts:71</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="manual_scroll"></a>
                    <span class="name">
                        <span ><b>manual_scroll</b></span>
                        <a href="#manual_scroll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">src/app/mixer/mixer.component.ts:92</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="origin_options"></a>
                    <span class="name">
                        <span ><b>origin_options</b></span>
                        <a href="#origin_options"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="74" class="link-to-prism">src/app/mixer/mixer.component.ts:74</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="palette"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>palette</b></span>
                        <a href="#palette"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ViewChild(PaletteComponent)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="63" class="link-to-prism">src/app/mixer/mixer.component.ts:63</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scroll"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>scroll</b></span>
                        <a href="#scroll"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>ScrollDispatcher</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="116" class="link-to-prism">src/app/mixer/mixer.component.ts:116</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="scrollingSubscription"></a>
                    <span class="name">
                        <span ><b>scrollingSubscription</b></span>
                        <a href="#scrollingSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="98" class="link-to-prism">src/app/mixer/mixer.component.ts:98</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selected_nodes_copy"></a>
                    <span class="name">
                        <span ><b>selected_nodes_copy</b></span>
                        <a href="#selected_nodes_copy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="101" class="link-to-prism">src/app/mixer/mixer.component.ts:101</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selected_origin"></a>
                    <span class="name">
                        <span ><b>selected_origin</b></span>
                        <a href="#selected_origin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
<<<<<<< HEAD
                                <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">src/app/mixer/mixer.component.ts:75</a></div>
=======
    <code>loadNewFile(result: LoadResponse)</code>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="show_details"></a>
                    <span class="name">
                        <span ><b>show_details</b></span>
                        <a href="#show_details"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
<<<<<<< HEAD
                                <div class="io-line">Defined in <a href="" data-line="77" class="link-to-prism">src/app/mixer/mixer.component.ts:77</a></div>
=======
                                <div class="io-description"><p>this gets called when a new file is started from the topbar or a new file is reload via undo/redo</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>result</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="show_viewer"></a>
                    <span class="name">
                        <span ><b>show_viewer</b></span>
                        <a href="#show_viewer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
<<<<<<< HEAD
                                <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">src/app/mixer/mixer.component.ts:76</a></div>
=======
                            <b><span class="modifier"></span> loadFromDB</b>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="treadles"></a>
                    <span class="name">
                        <span ><b>treadles</b></span>
                        <a href="#treadles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>10</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
<<<<<<< HEAD
                                <div class="io-line">Defined in <a href="" data-line="69" class="link-to-prism">src/app/mixer/mixer.component.ts:69</a></div>
=======
                                <span class="modifier-icon method fa fa-play ">
                                    <span class="fa fa-"></span>
                                </span>
                            <code>loadFromDB(fileid: number)</code>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="units"></a>
                    <span class="name">
                        <span ><b>units</b></span>
                        <a href="#units"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;cm&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">src/app/mixer/mixer.component.ts:67</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsubscribe$"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>unsubscribe$</b></span>
                        <a href="#unsubscribe$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Subject()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
<<<<<<< HEAD
                                <div class="io-line">Defined in <a href="" data-line="94" class="link-to-prism">src/app/mixer/mixer.component.ts:94</a></div>
=======
                            <b> loadBlankFile</b>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="viewonly"></a>
                    <span class="name">
                        <span ><b>viewonly</b></span>
                        <a href="#viewonly"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
<<<<<<< HEAD
                                <div class="io-line">Defined in <a href="" data-line="90" class="link-to-prism">src/app/mixer/mixer.component.ts:90</a></div>
=======
    <code>loadBlankFile()</code>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The weave Timeline object.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="vp"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>vp</b></span>
                        <a href="#vp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/ViewportService.html" target="_self" >ViewportService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="119" class="link-to-prism">src/app/mixer/mixer.component.ts:119</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warp_locked"></a>
                    <span class="name">
                        <span ><b>warp_locked</b></span>
                        <a href="#warp_locked"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
<<<<<<< HEAD
                                <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">src/app/mixer/mixer.component.ts:73</a></div>
=======
                            <b> deleteCurrentFile</b>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ws"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>ws</b></span>
                        <a href="#ws"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../injectables/WorkspaceService.html" target="_self" >WorkspaceService</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
<<<<<<< HEAD
                                <div class="io-line">Defined in <a href="" data-line="118" class="link-to-prism">src/app/mixer/mixer.component.ts:118</a></div>
=======
    <code>deleteCurrentFile()</code>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { ScrollDispatcher } from &#x27;@angular/cdk/overlay&#x27;;
import { HttpClient } from &#x27;@angular/common/http&#x27;;
import { Component, enableProdMode, OnInit, Optional, ViewChild } from &#x27;@angular/core&#x27;;
import { getAnalytics, logEvent } from &#x27;@angular/fire/analytics&#x27;;
import { Auth, authState, User } from &#x27;@angular/fire/auth&#x27;;
import { NgForm } from &#x27;@angular/forms&#x27;;
import { MatDialog } from &#x27;@angular/material/dialog&#x27;;
import { MatTooltipDefaultOptions, MAT_TOOLTIP_DEFAULT_OPTIONS } from &#x27;@angular/material/tooltip&#x27;;
import { Subject } from &#x27;rxjs&#x27;;
import { BlankdraftModal } from &#x27;../core/modal/blankdraft/blankdraft.modal&#x27;;
import { createCell } from &#x27;../core/model/cell&#x27;;
import { DesignMode, Draft, DraftNode, FileObj, IOTuple, LoadResponse, Loom, LoomSettings, NodeComponentProxy, OpInput, SaveObj, TreeNode, TreeNodeProxy } from &#x27;../core/model/datatypes&#x27;;
import { defaults } from &#x27;../core/model/defaults&#x27;;
import { copyDraft, flipDraft, initDraftWithParams, warps, wefts } from &#x27;../core/model/drafts&#x27;;
import { copyLoom, copyLoomSettings, flipLoom } from &#x27;../core/model/looms&#x27;;
import utilInstance from &#x27;../core/model/util&#x27;;
import { AuthService } from &#x27;../core/provider/auth.service&#x27;;
import { DesignmodesService } from &#x27;../core/provider/designmodes.service&#x27;;
import { FileService } from &#x27;../core/provider/file.service&#x27;;
import { FilesystemService } from &#x27;../core/provider/filesystem.service&#x27;;
import { ImageService } from &#x27;../core/provider/image.service&#x27;;
import { MaterialsService } from &#x27;../core/provider/materials.service&#x27;;
import { NotesService } from &#x27;../core/provider/notes.service&#x27;;
import { OperationService } from &#x27;../core/provider/operation.service&#x27;;
import { StateService } from &#x27;../core/provider/state.service&#x27;;
import { SystemsService } from &#x27;../core/provider/systems.service&#x27;;
import { TreeService } from &#x27;../core/provider/tree.service&#x27;;
import { WorkspaceService } from &#x27;../core/provider/workspace.service&#x27;;
import { DraftDetailComponent } from &#x27;../draftdetail/draftdetail.component&#x27;;
import { RenderService } from &#x27;../draftdetail/provider/render.service&#x27;;
import { PaletteComponent } from &#x27;./palette/palette.component&#x27;;
import { SubdraftComponent } from &#x27;./palette/subdraft/subdraft.component&#x27;;
import { MultiselectService } from &#x27;./provider/multiselect.service&#x27;;
import { ViewportService } from &#x27;./provider/viewport.service&#x27;;
import { ZoomService } from &#x27;./provider/zoom.service&#x27;;
//disables some angular checking mechanisms
enableProdMode();




/** Custom options the configure the tooltip&#x27;s default show/hide delays. */
export const myCustomTooltipDefaults: MatTooltipDefaultOptions &#x3D; {
  showDelay: 1000,
  hideDelay: 1000,
  touchendHideDelay: 1000,
  position: &#x27;right&#x27;,
  disableTooltipInteractivity: true,

};


@Component({
  selector: &#x27;app-mixer&#x27;,
  templateUrl: &#x27;./mixer.component.html&#x27;,
  styleUrls: [&#x27;./mixer.component.scss&#x27;],
  providers: [{provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: myCustomTooltipDefaults}]

})
export class MixerComponent implements OnInit {


  @ViewChild(PaletteComponent) palette;
  @ViewChild(DraftDetailComponent) details;

  epi: number &#x3D; 10;
  units:string &#x3D; &#x27;cm&#x27;;
  frames:number &#x3D;  8;
  treadles:number &#x3D; 10;
  loomtype:string &#x3D; &quot;jacquard&quot;;
  loomtypes:Array&lt;DesignMode&gt;  &#x3D; [];
  density_units:Array&lt;DesignMode&gt; &#x3D; [];
  warp_locked:boolean &#x3D; false;
  origin_options: any &#x3D; null;
  selected_origin: number &#x3D; 0;
  show_viewer: boolean &#x3D; false;
  show_details: boolean &#x3D; false;
  loading: boolean &#x3D; false;






 /**
   * The weave Timeline object.
   * @property {Timeline}
   */

   viewonly: boolean &#x3D; false;

   manual_scroll: boolean &#x3D; false;

  private unsubscribe$ &#x3D; new Subject();

  collapsed:boolean &#x3D; true;

  scrollingSubscription: any;


  selected_nodes_copy: any &#x3D; null;


  /// ANGULAR FUNCTIONS
  /**
   * @constructor
   * ps - pattern service (variable name is initials). Subscribes to the patterns and used
   * to get and update stitches.
   * dialog - Anglar Material dialog module. Used to control the popup modals.
   */
  constructor(public dm: DesignmodesService, 
    private auth: AuthService,
    private ms: MaterialsService,
    private sys: SystemsService,
    private tree: TreeService,
    public scroll: ScrollDispatcher,
    private fs: FileService,
    public ws: WorkspaceService,
    public vp: ViewportService,
    private notes: NotesService,
    private ss: StateService,
    private dialog: MatDialog,
    private image: ImageService,
    private ops: OperationService,
    private http: HttpClient,
    private zs: ZoomService,
    private files: FilesystemService,
    private render: RenderService,
    private multiselect: MultiselectService,
    @Optional() private fbauth: Auth
    ) {


      this.selected_origin &#x3D; this.ws.selected_origin_option;

      this.origin_options &#x3D; this.ws.getOriginOptions();
      this.epi &#x3D; ws.epi;
      this.units &#x3D; ws.units;
      this.frames &#x3D; ws.min_frames;
      this.treadles &#x3D; ws.min_treadles;
      this.loomtype &#x3D; ws.type;
      this.loomtypes &#x3D; dm.getOptionSet(&#x27;loom_types&#x27;);
     this.density_units &#x3D; dm.getOptionSet(&#x27;density_units&#x27;);
    //this.dialog.open(MixerInitComponent, {width: &#x27;600px&#x27;});

    this.scrollingSubscription &#x3D; this.scroll
          .scrolled()
          .subscribe((data: any) &#x3D;&gt; {
            this.onWindowScroll(data);
    });
    
    this.vp.setAbsolute(defaults.mixer_canvas_width, defaults.mixer_canvas_height); //max size of canvas, evenly divisible by default cell size
   



    //subscribe to the login event and handle what happens in that case 

    if (auth) {
      const success &#x3D; authState(this.fbauth).subscribe(async user &#x3D;&gt; {
         this.initLoginLogoutSequence(user) 
          
      })

   }



  }


  ngOnInit(){
    
    const analytics &#x3D; getAnalytics();
    logEvent(analytics, &#x27;onload&#x27;, {
      items: [{ uid: this.auth.uid }]
    });
  }

  ngAfterViewInit() {
 
  }


  private onWindowScroll(data: any) {
    if(!this.manual_scroll){
     this.palette.handleWindowScroll(data);
    // this.view_tool.updateViewPort(data);
    }else{
      this.manual_scroll &#x3D; false;
    }
  }

 setScroll(delta: any) {
    this.palette.handleScroll(delta);
    this.manual_scroll &#x3D; true;
   //this.view_tool.updateViewPort(data);
  }



  closeDetailViewer(obj: any){
    console.log(&quot;OBJ &quot;, obj)
    this.show_details &#x3D; false; 
    this.details.windowClosed();

    //the object was never copied
    if(obj.clone_id &#x3D;&#x3D; -1){
      let comp &#x3D; &lt;SubdraftComponent&gt;this.tree.getComponent(obj.id);
      comp.redrawExistingDraft();

      this.palette.updateDownstream(obj.id).then(el &#x3D;&gt; {
        this.palette.addTimelineState();
      });
    //reperform all of the ops 
    }else{
      //this object was copied and we need to keep the copy
      if(obj.dirty){
        const parent &#x3D; this.tree.getComponent(obj.clone_id);
        let el &#x3D; document.getElementById(&#x27;scale-&#x27;+parent.id);
        let width &#x3D; 0;
        if(el !&#x3D;&#x3D; null &amp;&amp; el !&#x3D;&#x3D; undefined) width &#x3D; el.offsetWidth;
        this.palette.createSubDraftFromEditedDetail(obj.id).then(sd &#x3D;&gt; {
          const new_topleft &#x3D; {
            x: parent.topleft.x+((width+40)*this.zs.zoom/defaults.mixer_cell_size), 
            y: parent.topleft.y};
    
            sd.setPosition(new_topleft);
        });

       
      }else{
        this.tree.removeSubdraftNode(obj.id);
      }
    }



  
    //refresh all of the subdrafts
    // let tlds:Array&lt;number&gt; &#x3D; this.tree.getTopLevelDrafts();
    // tlds.forEach(tld &#x3D;&gt; {
    //   let comp: SubdraftComponent &#x3D; &lt;SubdraftComponent&gt;this.tree.getComponent(tld);
    //   comp.redrawExistingDraft();
    // })


    // this.palette.updateDownstream(obj).then(el &#x3D;&gt; {
    //   this.palette.addTimelineState();
    // });
    // //reperform all of the ops 


  }

  detailViewChange(){
    this.details.weaveRef.rescale(this.render.getZoom());

  }


  addOp(event: any){
    this.palette.addOperation(event)
  }



  isBlankWorkspace() : boolean {
    return this.tree.nodes.length &#x3D;&#x3D; 0;
  }


  zoomIn(){
    const old_zoom &#x3D; this.zs.zoom;
    this.zs.zoomIn();
    this.renderChange(old_zoom);

  }


  zoomOut(){
    const old_zoom &#x3D; this.zs.zoom;
    this.zs.zoomOut();
    this.renderChange(old_zoom);
    
}

createNewDraft(){

  const dialogRef &#x3D; this.dialog.open(BlankdraftModal, {
  });

  dialogRef.afterClosed().subscribe(obj &#x3D;&gt; {
    if(obj !&#x3D;&#x3D; undefined &amp;&amp; obj !&#x3D;&#x3D; null) this.newDraftCreated(obj);
 });
}
 

zoomChange(e:any, source: string){
  
  const old_zoom &#x3D; this.zs.zoom;
  this.zs.setZoom(e.value)
  this.palette.rescale(old_zoom);

}



  /**
   * this is called anytime a user event is fired
   * @param user 
   */
  initLoginLogoutSequence(user:User) {
    console.log(&quot;IN LOGIN/LOGOUT &quot;, user)


    let searchParams &#x3D; new URLSearchParams(window.location.search);
    if(searchParams.has(&#x27;ex&#x27;)){
      this.loadExampleAtURL(searchParams.get(&#x27;ex&#x27;));  
      return;
    }


    if(user &#x3D;&#x3D;&#x3D; null){
      //this is a logout event
      this.files.setCurrentFileInfo(this.files.generateFileId(), &#x27;blank draft&#x27;,&#x27;&#x27;);
      this.files.clearTree();



    }else{

      if(this.auth.isFirstSession() || (!this.auth.isFirstSession() &amp;&amp; this.isBlankWorkspace())){
    
        this.auth.getMostRecentFileIdFromUser(user).then(async fileid &#x3D;&gt; {

          if(fileid !&#x3D;&#x3D; null){

            const ada &#x3D; await this.files.getFile(fileid).catch(e &#x3D;&gt; {
              console.error(&quot;HI &quot;, e)
            });
            const meta &#x3D; await this.files.getFileMeta(fileid).catch(console.error);           
             

              if(ada &#x3D;&#x3D;&#x3D; undefined){
                this.loadBlankFile();

              }else if(meta &#x3D;&#x3D;&#x3D; undefined){
                this.files.setCurrentFileInfo(fileid, &#x27;file name not found&#x27;, &#x27;&#x27;);
                this.prepAndLoadFile(&#x27;file name not found&#x27;, fileid, &#x27;&#x27;, ada);
              
              }else{

                this.files.setCurrentFileInfo(fileid, meta.name, meta.desc);
                this.prepAndLoadFile(meta.name, fileid, meta.desc, ada);
              }

          }else{
              console.log(&quot;LOOKING FOR ADA FILE&quot;)
             this.auth.getMostRecentAdaFromUser(user).then(async adafile &#x3D;&gt; {
                console.log(&quot;ADA FILE IS &quot;, adafile)
                if(adafile !&#x3D;&#x3D; null){
                    let fileid &#x3D; await this.files.convertAdaToFile(user.uid, adafile); 
                    console.log(&quot;convert ada to file id &quot;, fileid)
            
                    let ada &#x3D; await this.files.getFile(fileid);
                    let meta &#x3D; await this.files.getFileMeta(fileid);           
                    
                    if(ada &#x3D;&#x3D;&#x3D; undefined){
                      this.loadBlankFile();
                    }else if(meta &#x3D;&#x3D;&#x3D; undefined){
                      this.files.setCurrentFileInfo(fileid, &#x27;file name not found&#x27;, &#x27;&#x27;);
                      this.prepAndLoadFile(&#x27;file name not found&#x27;, fileid, &#x27;&#x27;, ada);
      
                    }else{
                      this.files.setCurrentFileInfo(fileid, meta.name, meta.desc);
                      this.prepAndLoadFile(meta.name, fileid, meta.desc, ada);
                    }

                }else{
                  console.log(&quot;load blank&quot;)
                  this.loadBlankFile();
                  return;
                }
             });
          }
        }) 

      }else{
        
        //this.loadBlankFile();
        this.saveFile();
        this.files.writeNewFileMetaData(user.uid, this.files.current_file_id, this.files.current_file_name, this.files.current_file_desc)

    
      }
      
    }
  }

    /**
   * this is called when paste is called and has loaded in the data from the copy event. 
   * @param result 
   */
    insertPasteFile(result: LoadResponse){
      this.processFileData(result.data).then(data &#x3D;&gt; {
        this.palette.changeDesignmode(&#x27;move&#x27;);
        this.saveFile();

      }
  
      ).catch(console.error);
      
    }

  /**
   * this gets called when a new file is started from the topbar or a new file is reload via undo/redo
   * @param result 
   */
  loadNewFile(result: LoadResponse){
    this.clearAll();



    this.files.setCurrentFileInfo(result.id, result.name, result.desc);
    

    this.processFileData(result.data).then(data &#x3D;&gt; {
      this.palette.changeDesignmode(&#x27;move&#x27;);
      this.saveFile();
    }

    ).catch(e &#x3D;&gt; {
      console.log(&quot;CAUGHT ERROR through from process file data&quot;)
    });
    
  }

  async loadFromDB(fileid: number){
    this.clearAll();


    const ada &#x3D; await this.files.getFile(fileid);
    const meta &#x3D; await this.files.getFileMeta(fileid);           
    this.files.setCurrentFileInfo(fileid, meta.name, meta.desc);
    this.prepAndLoadFile(meta.name, fileid, meta.desc, ada);
    this.saveFile();
    
  }

  loadBlankFile(){
    this.clearAll();
    this.files.setCurrentFileInfo(this.files.generateFileId(), &#x27;load blank&#x27;, &#x27;&#x27;);
    this.saveFile();
    
  }

  deleteCurrentFile(){
    this.clearAll();
    if(this.files.file_tree.length &gt; 0){
      this.loadFromDB(this.files.file_tree[0].id)
    }else{
      this.files.setCurrentFileInfo(this.files.generateFileId(), &#x27;new blank file&#x27;, &#x27;&#x27;);
    }
    this.saveFile();
  }

  saveFile(){
        //if this user is logged in, write it to the
        this.fs.saver.ada(
          &#x27;mixer&#x27;, 
          true,
          this.zs.zoom)
          .then(so &#x3D;&gt; {
            this.ss.addMixerHistoryState(so);
          });
  }



  /**
   * this gets called when a new file is started from the topbar
   * @param result 
   */
   importNewFile(result: LoadResponse){
    
<<<<<<< HEAD
    this.processFileData(result.data)
    .then( data &#x3D;&gt; {
      this.palette.changeDesignmode(&#x27;move&#x27;)
      this.clearAll();

      console.log(&quot;imported new file&quot;, result, result.data)
      })
      .catch(console.error);
    
  }


  printTreeStatus(name: string, treenode: Array&lt;TreeNode&gt;){

    treenode.forEach(tn &#x3D;&gt; {
      if(tn &#x3D;&#x3D;&#x3D; undefined){
        console.log(&quot;Undefined Node&quot;, tn); 
        return;
      }

      if(tn.inputs &#x3D;&#x3D;&#x3D; undefined){
        console.log(&quot;Undefined Inputs&quot;, tn); 
        return;  
      }

      if(tn.outputs &#x3D;&#x3D;&#x3D; undefined){
        console.log(&quot;Undefined Outputs&quot;, tn); 
        return;  
      }
      
      switch(tn.node.type){
        case &#x27;cxn&#x27;:
          if(tn.inputs.length !&#x3D;&#x3D; 1 || tn.outputs.length !&#x3D;&#x3D; 1)
          console.log(&quot;Invalid Number of Inputs/Outputs on Connection&quot;, tn); 
          break;

        case &#x27;draft&#x27;:
            if(tn.inputs.length &gt; 1)
            console.log(&quot;Invalid Number of Inputs/Outputs on Draft&quot;, tn); 
            break;
      }


    });
  }



  /**
   * this uses the uploaded node data to create new nodes, in addition to any nodes that may already exist
   * @param nodes the nodes from the upload
   * @returns an array of uploaded ids mapped to unique ids in this instance
   */
  async loadNodes(nodes: Array&lt;NodeComponentProxy&gt;) : Promise&lt;any&gt; {

    const functions &#x3D; nodes.map(n &#x3D;&gt; this.tree.loadNode(&lt;&#x27;draft&#x27;|&#x27;op&#x27;|&#x27;cxn&#x27;&gt; n.type, n.node_id));
    return Promise.all(functions);

  }

  /**
   * uploads the relationships between the nodes as specified in a load file
   * @param id_map the map from uploaded ids to current ids generated by loadNodes
   * @param tns the uploaded treenode data
   * @returns an array of treenodes and the map associated at each tree node
   */
  async loadTreeNodes(id_map: Array&lt;{prev_id: number, cur_id:number}&gt;, tns: Array&lt;TreeNodeProxy&gt;) : Promise&lt;Array&lt;{tn:TreeNode,entry:{prev_id: number, cur_id: number}}&gt;&gt; {
=======
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> saveFile</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>saveFile()</code>
                        </td>
                    </tr>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
    

    const updated_tnp: Array&lt;TreeNodeProxy&gt; &#x3D; tns.map(tn &#x3D;&gt; {
     
      //we need these here because firebase does not store arrays of size 0
      if(tn.inputs &#x3D;&#x3D;&#x3D; undefined) tn.inputs &#x3D; [];
      if(tn.outputs &#x3D;&#x3D;&#x3D; undefined) tn.outputs &#x3D; [];


      const input_list &#x3D; tn.inputs.map(input &#x3D;&gt; {
        if(typeof input &#x3D;&#x3D;&#x3D; &#x27;number&#x27;){
          const input_in_map &#x3D; id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; input);

          if(input_in_map !&#x3D;&#x3D; undefined){
            return {tn: input_in_map.cur_id, ndx: 0};
          }else{
            console.error(&quot;could not find matching node&quot;);
          }

        }else{
          const input_in_map &#x3D; id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; input.tn);
          if(input_in_map !&#x3D;&#x3D; undefined){
            return {tn: input_in_map.cur_id, ndx: input.ndx};
          }else{
            console.error(&quot;could not find matching node&quot;);
          }
        } 

       
      });

      const output_list:Array&lt;any&gt; &#x3D; tn.outputs.map(output &#x3D;&gt; {
          //handle files of old type, before inputs were broken into two fields
          if(typeof output &#x3D;&#x3D;&#x3D; &#x27;number&#x27;){
            const output_map &#x3D; id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; output);
            if(output_map !&#x3D;&#x3D; undefined){
             return {tn: output_map.cur_id, ndx: 0};
            }else{
              console.error(&quot;could not find matching node&quot;); 
            }
          }else{
            
            const output_map &#x3D; id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; output.tn);

            if(output_map !&#x3D;&#x3D; undefined){
             return {tn: output_map.cur_id, ndx: output.ndx};
            }else{
              console.error(&quot;could not find matching node&quot;); 
            }
          } 
      });
      
      const new_tn: TreeNodeProxy &#x3D; {
        node: id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; tn.node).cur_id,
        parent: (tn.parent &#x3D;&#x3D;&#x3D; null || tn.parent &#x3D;&#x3D;&#x3D; -1) ? -1 : id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; tn.parent).cur_id,
        inputs: input_list,
        outputs: output_list
      }
      
      //console.log(&quot;new tn is &quot;, new_tn);
      return new_tn;
    })

    const functions &#x3D; updated_tnp.map(tn &#x3D;&gt; this.tree.loadTreeNodeData(id_map, tn.node, tn.parent, tn.inputs, tn.outputs));
    return Promise.all(functions);

  }


  /** 
   * Take a fileObj returned from the fileservice and process
   */
   async processFileData(data: FileObj) : Promise&lt;string|void&gt;{
    this.loading &#x3D; true;

    let entry_mapping &#x3D; [];


    this.updateOrigin(this.ws.selected_origin_option)

    //start processing images first thing 
    const images_to_load &#x3D; [];
   
    data.ops.forEach(op &#x3D;&gt; {
      const internal_op &#x3D; this.ops.getOp(op.name); 
      if(internal_op &#x3D;&#x3D;&#x3D; undefined || internal_op &#x3D;&#x3D; null|| internal_op.params &#x3D;&#x3D;&#x3D; undefined) return;
      const param_types &#x3D; internal_op.params.map(el &#x3D;&gt; el.type);
      param_types.forEach((p, ndx) &#x3D;&gt; {
        if(p &#x3D;&#x3D;&#x3D; &#x27;file&#x27;){
          images_to_load.push(op.params[ndx]);
        } 
      });
    })



    return this.image.loadFiles(images_to_load).then(el &#x3D;&gt; {
      return this.tree.replaceOutdatedOps(data.ops);
    })
    .then(correctedOps &#x3D;&gt; {    
      data.ops &#x3D; correctedOps; 
      return this.loadNodes(data.nodes)
    })
    .then(id_map &#x3D;&gt; {
        entry_mapping &#x3D; id_map;
        return this.loadTreeNodes(id_map, data.treenodes);
      }
    ).then(treenodes &#x3D;&gt; {

      const seednodes: Array&lt;{prev_id: number, cur_id: number}&gt; &#x3D; treenodes
        .filter(tn &#x3D;&gt; this.tree.isSeedDraft(tn.tn.node.id))
        .map(tn &#x3D;&gt; tn.entry);
     

      const seeds: Array&lt;{entry, id, draft, loom, loom_settings, render_colors}&gt; &#x3D; seednodes
      .map(sn &#x3D;&gt;  {


         let d:Draft &#x3D;null;
         let render_colors &#x3D; true;
 
        const draft_node &#x3D; data.nodes.find(node &#x3D;&gt; node.node_id &#x3D;&#x3D;&#x3D; sn.prev_id);
        //let d: Draft &#x3D; initDraft();
        let l: Loom &#x3D; {
          treadling: [],
          tieup: [],
          threading: []
        }

        let ls: LoomSettings &#x3D; {
          frames: this.ws.min_frames,
          treadles: this.ws.min_treadles,
          epi: this.ws.epi,
          units: this.ws.units,
          type: this.ws.type
        }
        if(draft_node !&#x3D;&#x3D; undefined){

          const located_draft &#x3D; data.draft_nodes.find(draft &#x3D;&gt; draft.draft_id &#x3D;&#x3D;&#x3D; draft_node.node_id);
          if(located_draft &#x3D;&#x3D;&#x3D; undefined){
            console.log(&quot;Looking for &quot;, draft_node.node_id,&quot;in&quot;, data.draft_nodes.map(el &#x3D;&gt; el.draft_id))
            console.error(&quot;could not find draft with id in draft list&quot;);
          }
          else{
            d &#x3D; copyDraft(located_draft.draft);
            ls &#x3D; copyLoomSettings(located_draft.loom_settings);
            l &#x3D; copyLoom(located_draft.loom);
            if(located_draft.render_colors !&#x3D;&#x3D; undefined) render_colors &#x3D; located_draft.render_colors; 
          } 

        }else{
          console.error(&quot;draft node could not be found&quot;)
        }

  
        if(d !&#x3D;&#x3D; null &amp;&amp; d !&#x3D;&#x3D; undefined){
          d.id &#x3D; (sn.cur_id); //do this so that all draft ids match the component / node ids
        }else{
          d &#x3D; initDraftWithParams({warps: 1, wefts: 1, drawdown: [[false]]});
          d.id &#x3D; (sn.cur_id);
        }

          return {
            entry: sn,
            id: sn.cur_id,
            draft: d,
            loom: l,
            loom_settings: ls,
            render_colors: render_colors
            }
        
      });

      
      const seed_fns &#x3D; seeds.map(seed &#x3D;&gt; this.tree.loadDraftData(seed.entry, seed.draft, seed.loom,seed.loom_settings, seed.render_colors));
  
      const op_fns &#x3D; data.ops.map(op &#x3D;&gt; {
        const entry &#x3D; entry_mapping.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D; op.node_id);
        return this.tree.loadOpData(entry, op.name, op.params, op.inlets);
      });

      return Promise.all([seed_fns, op_fns]);

    })
    .then(el &#x3D;&gt; {
        return this.tree.validateNodes();
    })
    .then(el &#x3D;&gt; {
      //console.log(&quot;performing top level ops&quot;);
       return  this.tree.performTopLevelOps();
    })
    .then(el &#x3D;&gt; {
      //delete any nodes that no longer need to exist
      this.tree.getDraftNodes()
      .filter(el &#x3D;&gt; el.draft &#x3D;&#x3D;&#x3D; null)
      .forEach(el &#x3D;&gt; {
        if(this.tree.hasParent(el.id)){
          el.draft &#x3D; initDraftWithParams({warps: 1, wefts: 1, pattern: [[createCell(false)]]});
          el.draft.id &#x3D; el.id;
        } else{
          console.log(&quot;removing node &quot;, el.id, el.type, this.tree.hasParent(el.id));
          this.tree.removeNode(el.id);
        } 
      })
    })
    .then(el &#x3D;&gt; {

      return this.tree.nodes.forEach(node &#x3D;&gt; {
        
        if(!(node.component &#x3D;&#x3D;&#x3D; null || node.component &#x3D;&#x3D;&#x3D; undefined)) return;

        const entry &#x3D; entry_mapping.find(el &#x3D;&gt; el.cur_id &#x3D;&#x3D;&#x3D; node.id);
        if(entry &#x3D;&#x3D;&#x3D; undefined) return;

        switch (node.type){
          case &#x27;draft&#x27;:
            
            this.palette.loadSubDraft(node.id, this.tree.getDraft(node.id), data.nodes.find(el &#x3D;&gt; el.node_id &#x3D;&#x3D;&#x3D; entry.prev_id), data.draft_nodes.find(el &#x3D;&gt; el.node_id &#x3D;&#x3D;&#x3D; entry.prev_id), data.scale);
            break;
          case &#x27;op&#x27;:
            const op &#x3D; this.tree.getOpNode(node.id);
            this.palette.loadOperation(op.id, op.name, op.params, op.inlets, data.nodes.find(el &#x3D;&gt; el.node_id &#x3D;&#x3D;&#x3D; entry.prev_id).topleft, data.scale);
            break;
          case &#x27;cxn&#x27;:
            this.palette.loadConnection(node.id)
            break;
        }
      })


    })
    // ).then(el &#x3D;&gt; {
    //   return this.tree.nodes.forEach(node &#x3D;&gt; {
    //     if(!(node.component &#x3D;&#x3D;&#x3D; null || node.component &#x3D;&#x3D;&#x3D; undefined)) return;
    //     switch (node.type){
    //       case &#x27;cxn&#x27;:
    //         this.palette.loadConnection(node.id)
    //         break;
    //     }
    //   })
    // })
    .then(el &#x3D;&gt; {

      //NOW GO THOUGH ALL DRAFT NODES and ADD IN DATA THAT IS REQUIRED
      data.draft_nodes
      .forEach(np &#x3D;&gt; {
        const new_id &#x3D; entry_mapping.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; np.node_id);
        const node &#x3D; this.tree.getNode(new_id.cur_id);
        if(node &#x3D;&#x3D;&#x3D; undefined) return;

       (&lt;DraftNode&gt; node).draft.ud_name &#x3D; np.draft_name;
       (&lt;DraftNode&gt; node).loom_settings &#x3D; np.loom_settings; 
      })

      // const dn &#x3D; this.tree.getDraftNodes();
      // dn.forEach(node &#x3D;&gt; {
      //   console.log(&quot;RES&quot;, node.draft, node.loom, node.loom_settings)
      // })

      data.notes.forEach(note &#x3D;&gt; {
        this.palette.createNote(note);
    });
  

    })
    .then(res &#x3D;&gt; {
      // this.palette.rescale(data.scale);
      this.loading &#x3D; false;
      return Promise.resolve(&#x27;alldone&#x27;)
    })
    .catch(e &#x3D;&gt; {
      this.loading &#x3D; false;
      console.log(&quot;ERROR THOWN in process&quot;, e)
    });


    //print out all trees:




  }

 

  /**
   * Called from import bitmaps to drafts features. The drafts have already been imported and sent to this function, 
   * which now needs to draw them to the workspace
   * @param drafts 
   */
  loadDrafts(drafts: any){
    const loom:Loom &#x3D; {
      threading:[],
      tieup:[],
      treadling: []
    };

    const loom_settings:LoomSettings &#x3D; {
      type:this.ws.type,
      epi: this.ws.epi,
      units: this.ws.units,
      frames: this.ws.min_frames,
      treadles: this.ws.min_treadles
      
    }

    let topleft &#x3D; this.vp.getTopLeft();

    let max_h &#x3D; 0;
    let cur_h &#x3D; topleft.y + 20; //start offset from top
    let cur_w &#x3D; topleft.x + 50;
    let zoom_factor &#x3D; defaults.mixer_cell_size / this.zs.zoom;
    let x_margin &#x3D; 20 / zoom_factor;
    let y_margin &#x3D; 40 / zoom_factor;

    let view_width &#x3D; this.vp.getWidth() * zoom_factor;

    drafts.forEach(draft &#x3D;&gt; {
      
      
      const id &#x3D; this.tree.createNode(&quot;draft&quot;, null, null);
      this.tree.loadDraftData({prev_id: null, cur_id: id,}, draft, loom, loom_settings, true);
      this.palette.loadSubDraft(id, draft, null, null, this.zs.zoom);

      //position the drafts so that they don&#x27;t all overlap. 
       max_h &#x3D; (wefts(draft.drawdown)*defaults.mixer_cell_size &gt; max_h) ? wefts(draft.drawdown)*defaults.mixer_cell_size : max_h;
      
       let approx_w &#x3D; warps(draft.drawdown);

       //300 because each draft is defined as having min-width of 300pm
       let w &#x3D; (approx_w*defaults.mixer_cell_size &gt; 300) ? approx_w *defaults.mixer_cell_size : 300 / zoom_factor;

       let dn &#x3D; this.tree.getNode(id);
       dn.component.topleft &#x3D; {x: cur_w, y: cur_h};
       
       cur_w +&#x3D; (w + x_margin);
       if(cur_w &gt; view_width){
        cur_w &#x3D; topleft.x + 50;
        cur_h +&#x3D; (max_h+y_margin);
        max_h &#x3D; 0;
       }


    });

    this.palette.addTimelineState();

    
<<<<<<< HEAD
  }


  loadExampleAtURL(name: string){
    const analytics &#x3D; getAnalytics();
    logEvent(analytics, &#x27;onurl&#x27;, {
      items: [{ uid: this.auth.uid, name: name }]
    });

    this.http.get(&#x27;assets/examples/&#x27;+name+&quot;.ada&quot;, {observe: &#x27;response&#x27;}).subscribe((res) &#x3D;&gt; {
      console.log(res);
      if(res.status &#x3D;&#x3D; 404) return;

      this.clearAll();
      return this.fs.loader.ada(name, -1, &#x27;&#x27;, res.body)
     .then(loadresponse &#x3D;&gt; {
       this.loadNewFile(loadresponse)
     });
    }); 
  }


  prepAndLoadFile(name: string, id: number, desc: string, ada: any) : Promise&lt;any&gt;{
      return this.fs.loader.ada(name, id,desc, ada).then(lr &#x3D;&gt; {
        this.loadNewFile(lr);
      });
  }



  clearView() : void {
    this.palette.clearComponents();
    this.vp.clear();

  }

  clearAll() : void{

    console.log(&quot;CLEAR ALL&quot;)
    this.clearView();
    this.tree.clear();
    this.ss.clearTimeline();
    this.notes.clear();

  }



  ngOnDestroy(): void {
    this.unsubscribe$.next();
    this.unsubscribe$.complete();
  }


  undo() {

    let so: SaveObj &#x3D; this.ss.restorePreviousMixerHistoryState();
    if(so &#x3D;&#x3D;&#x3D; null || so &#x3D;&#x3D;&#x3D; undefined) return;
    this.fs.loader.ada(this.files.current_file_name, this.files.current_file_id, this.files.current_file_desc, so).then(lr &#x3D;&gt; {
      console.log(&quot;LOADing FILE &quot;, lr);
      this.loadNewFile(lr)
    }
    
    );

  
  }

  redo() {
=======
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> importNewFile</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>importNewFile(result: LoadResponse)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>this gets called when a new file is started from the topbar</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>result</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> printTreeStatus</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>printTreeStatus(name: string, treenode: TreeNode[])</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier"></span> loadNodes</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play ">
                                    <span class="fa fa-"></span>
                                </span>
                            <code>loadNodes(nodes: NodeComponentProxy[])</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>this uses the uploaded node data to create new nodes, in addition to any nodes that may already exist</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>nodes</b>
                                                    </div>
                                                    <div>
                                                        <p>the nodes from the upload</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>any</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>an array of uploaded ids mapped to unique ids in this instance</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier"></span> loadTreeNodes</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play ">
                                    <span class="fa fa-"></span>
                                </span>
                            <code>loadTreeNodes(id_map: { prev_id: number; cur_id: number; }[], tns: TreeNodeProxy[])</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>uploads the relationships between the nodes as specified in a load file</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>id_map</b>
                                                    </div>
                                                    <div>
                                                        <p>the map from uploaded ids to current ids generated by loadNodes</p>
    
                                                    </div>
                                                </li>
                                                <li>
                                                    <div>
                                                        <b>tns</b>
                                                    </div>
                                                    <div>
                                                        <p>the uploaded treenode data</p>
    
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>any</code>
    
                                </div>
                                    <div class="io-description">
                                        <p>an array of treenodes and the map associated at each tree node</p>
    
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier"></span> processFileData</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play ">
                                    <span class="fa fa-"></span>
                                </span>
                            <code>processFileData(data: FileObj)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Take a fileObj returned from the fileservice and process</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>any</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> loadDrafts</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>loadDrafts(drafts: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Called from import bitmaps to drafts features. The drafts have already been imported and sent to this function,<br>which now needs to draw them to the workspace</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>drafts</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> loadExampleAtURL</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>loadExampleAtURL(name: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> prepAndLoadFile</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>prepAndLoadFile(name: string, id: number, desc: string, ada: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>any</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> clearView</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>clearView()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> clearAll</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>clearAll()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> undo</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>undo()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> redo</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>redo()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> onCopySelections</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>onCopySelections()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> onPasteSelections</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>onPasteSelections()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> togglePanMode</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>togglePanMode()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> toggleSelectMode</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>toggleSelectMode()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> operationAdded</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>operationAdded(name: string)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> onSave</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play circle">
                                    <span class="fa fa-circle"></span>
                                </span>
                            <code>onSave(e: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>this is called when a user pushes save from the topbar</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>event</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>any</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> renderChange</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play circle">
                                    <span class="fa fa-circle"></span>
                                </span>
                            <code>renderChange(old_zoom: number)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Updates the canvas based on the weave view.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> zoomChangeExternal</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play circle">
                                    <span class="fa fa-circle"></span>
                                </span>
                            <code>zoomChangeExternal(event: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Updates the canvas based on the weave view.</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> notesChanged</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play circle">
                                    <span class="fa fa-circle"></span>
                                </span>
                            <code>notesChanged(e: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> toggleCollapsed</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play circle">
                                    <span class="fa fa-circle"></span>
                                </span>
                            <code>toggleCollapsed()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> createNote</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play circle">
                                    <span class="fa fa-circle"></span>
                                </span>
                            <code>createNote()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> newDraftCreated</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play circle">
                                    <span class="fa fa-circle"></span>
                                </span>
                            <code>newDraftCreated(obj: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>called when the user adds a new draft from the sidebar</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>obj</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Public</span> materialChange</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <span class="modifier-icon method fa fa-play circle">
                                    <span class="fa fa-circle"></span>
                                </span>
                            <code>materialChange()</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>something in the materials library changed, check to see if<br>there is a modal showing materials open and update it if there is</p>
    </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> updateOrigin</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>updateOrigin(selection: number)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>the origin must be updated after the file has been loaded. </p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>selection</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> originChange</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>originChange(e: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>when the origin changes, all drafts on the canavs should be modified to the new position<br>origin changes can ONLY happen on globals<br>flips must be calculated from the prior state</p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>e</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> epiChange</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>epiChange(f: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> loomChange</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>loomChange(e: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>when a user selects a new loom type, the software will pull all subdrafts and update their loom information </p>
    </div>
                                <div class="io-description">
                                        <b>Parameters :</b>
                                        <ul class="jsdoc-params">
                                                <li>
                                                    <div>
                                                        <b>e</b>
                                                    </div>
                                                    <div>
                                                        
                                                    </div>
                                                </li>
                                        </ul>
                                </div>
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                                    <div class="io-description">
                                        
                                    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> unitChange</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>unitChange(e: any)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> showDraftDetails</b>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
    <code>showDraftDetails(id: number)</code>
                        </td>
                    </tr>
    
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description">
                                    <b>Returns: </b>    <code>void</code>
    
                                </div>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>

    <section>
        <h3 id="inputs">Properties</h3>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> collapsed</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>collapsed:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>true</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> density_units</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>density_units:     <code>DesignMode[]</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> details</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>details:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> dm</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>dm:     <code><a href="../injectables/DesignmodesService.html" target="_self" >DesignmodesService</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> epi</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>epi:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>10</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> frames</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>frames:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>8</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> loading</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>loading:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> loomtype</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>loomtype:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>jacquard</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> loomtypes</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>loomtypes:     <code>DesignMode[]</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> manual_scroll</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>manual_scroll:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> origin_options</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>origin_options:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> palette</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>palette:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> scroll</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>scroll:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> scrollingSubscription</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>scrollingSubscription:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> selected_nodes_copy</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>selected_nodes_copy:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> selected_origin</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>selected_origin:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>0</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> show_details</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>show_details:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> show_viewer</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>show_viewer:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> treadles</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>treadles:     <code>number</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>10</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> units</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>units:     <code>string</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>cm</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b><span class="modifier">Private</span> unsubscribe$</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <span class="modifier-icon fa fa-lock"></span><code>unsubscribe$:     <code>any</code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> viewonly</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>viewonly:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                    <tr>
                        <td class="col-md-4">
                            <div class="io-description"><p>The weave Timeline object.</p>
    </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> vp</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>vp:     <code><a href="../injectables/ViewportService.html" target="_self" >ViewportService</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> warp_locked</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>warp_locked:     <code>boolean</code>
    </bcode>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                <i>Default value: </i><code>false</code>
                            </td>
                        </tr>
                </tbody>
            </table>
            <table class="table table-sm table-bordered">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <b> ws</b>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <code>ws:     <code><a href="../injectables/WorkspaceService.html" target="_self" >WorkspaceService</a></code>
    </bcode>
                        </td>
                    </tr>
                </tbody>
            </table>
    </section>
</div>
        <div class="tab-pane fade tab-source-code" id="source">
            <pre><code class="hljs javascript">import { ScrollDispatcher } from &#x27;@angular/cdk/overlay&#x27;;
import { HttpClient } from &#x27;@angular/common/http&#x27;;
import { Component, enableProdMode, OnInit, Optional, ViewChild } from &#x27;@angular/core&#x27;;
import { getAnalytics, logEvent } from &#x27;@angular/fire/analytics&#x27;;
import { Auth, authState, User } from &#x27;@angular/fire/auth&#x27;;
import { NgForm } from &#x27;@angular/forms&#x27;;
import { MatDialog } from &#x27;@angular/material/dialog&#x27;;
import { MatTooltipDefaultOptions, MAT_TOOLTIP_DEFAULT_OPTIONS } from &#x27;@angular/material/tooltip&#x27;;
import { Subject } from &#x27;rxjs&#x27;;
import { BlankdraftModal } from &#x27;../core/modal/blankdraft/blankdraft.modal&#x27;;
import { createCell } from &#x27;../core/model/cell&#x27;;
import { DesignMode, Draft, DraftNode, FileObj, IOTuple, LoadResponse, Loom, LoomSettings, NodeComponentProxy, OpInput, SaveObj, TreeNode, TreeNodeProxy } from &#x27;../core/model/datatypes&#x27;;
import { defaults } from &#x27;../core/model/defaults&#x27;;
import { copyDraft, flipDraft, initDraftWithParams, warps, wefts } from &#x27;../core/model/drafts&#x27;;
import { copyLoom, copyLoomSettings, flipLoom } from &#x27;../core/model/looms&#x27;;
import utilInstance from &#x27;../core/model/util&#x27;;
import { AuthService } from &#x27;../core/provider/auth.service&#x27;;
import { DesignmodesService } from &#x27;../core/provider/designmodes.service&#x27;;
import { FileService } from &#x27;../core/provider/file.service&#x27;;
import { FilesystemService } from &#x27;../core/provider/filesystem.service&#x27;;
import { ImageService } from &#x27;../core/provider/image.service&#x27;;
import { MaterialsService } from &#x27;../core/provider/materials.service&#x27;;
import { NotesService } from &#x27;../core/provider/notes.service&#x27;;
import { OperationService } from &#x27;../core/provider/operation.service&#x27;;
import { StateService } from &#x27;../core/provider/state.service&#x27;;
import { SystemsService } from &#x27;../core/provider/systems.service&#x27;;
import { TreeService } from &#x27;../core/provider/tree.service&#x27;;
import { WorkspaceService } from &#x27;../core/provider/workspace.service&#x27;;
import { DraftDetailComponent } from &#x27;../draftdetail/draftdetail.component&#x27;;
import { RenderService } from &#x27;../draftdetail/provider/render.service&#x27;;
import { PaletteComponent } from &#x27;./palette/palette.component&#x27;;
import { SubdraftComponent } from &#x27;./palette/subdraft/subdraft.component&#x27;;
import { MultiselectService } from &#x27;./provider/multiselect.service&#x27;;
import { ViewportService } from &#x27;./provider/viewport.service&#x27;;
import { ZoomService } from &#x27;./provider/zoom.service&#x27;;
//disables some angular checking mechanisms
enableProdMode();




/** Custom options the configure the tooltip&#x27;s default show/hide delays. */
export const myCustomTooltipDefaults: MatTooltipDefaultOptions &#x3D; {
  showDelay: 1000,
  hideDelay: 1000,
  touchendHideDelay: 1000,
  position: &#x27;right&#x27;,
  disableTooltipInteractivity: true,

};


@Component({
  selector: &#x27;app-mixer&#x27;,
  templateUrl: &#x27;./mixer.component.html&#x27;,
  styleUrls: [&#x27;./mixer.component.scss&#x27;],
  providers: [{provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: myCustomTooltipDefaults}]

})
export class MixerComponent implements OnInit {


  @ViewChild(PaletteComponent) palette;
  @ViewChild(DraftDetailComponent) details;

  epi: number &#x3D; 10;
  units:string &#x3D; &#x27;cm&#x27;;
  frames:number &#x3D;  8;
  treadles:number &#x3D; 10;
  loomtype:string &#x3D; &quot;jacquard&quot;;
  loomtypes:Array&lt;DesignMode&gt;  &#x3D; [];
  density_units:Array&lt;DesignMode&gt; &#x3D; [];
  warp_locked:boolean &#x3D; false;
  origin_options: any &#x3D; null;
  selected_origin: number &#x3D; 0;
  show_viewer: boolean &#x3D; false;
  show_details: boolean &#x3D; false;
  loading: boolean &#x3D; false;






 /**
   * The weave Timeline object.
   * @property {Timeline}
   */

   viewonly: boolean &#x3D; false;

   manual_scroll: boolean &#x3D; false;

  private unsubscribe$ &#x3D; new Subject();

  collapsed:boolean &#x3D; true;

  scrollingSubscription: any;


  selected_nodes_copy: any &#x3D; null;


  /// ANGULAR FUNCTIONS
  /**
   * @constructor
   * ps - pattern service (variable name is initials). Subscribes to the patterns and used
   * to get and update stitches.
   * dialog - Anglar Material dialog module. Used to control the popup modals.
   */
  constructor(public dm: DesignmodesService, 
    private auth: AuthService,
    private ms: MaterialsService,
    private sys: SystemsService,
    private tree: TreeService,
    public scroll: ScrollDispatcher,
    private fs: FileService,
    public ws: WorkspaceService,
    public vp: ViewportService,
    private notes: NotesService,
    private ss: StateService,
    private dialog: MatDialog,
    private image: ImageService,
    private ops: OperationService,
    private http: HttpClient,
    private zs: ZoomService,
    private files: FilesystemService,
    private render: RenderService,
    private multiselect: MultiselectService,
    @Optional() private fbauth: Auth
    ) {


      this.selected_origin &#x3D; this.ws.selected_origin_option;

      this.origin_options &#x3D; this.ws.getOriginOptions();
      this.epi &#x3D; ws.epi;
      this.units &#x3D; ws.units;
      this.frames &#x3D; ws.min_frames;
      this.treadles &#x3D; ws.min_treadles;
      this.loomtype &#x3D; ws.type;
      this.loomtypes &#x3D; dm.getOptionSet(&#x27;loom_types&#x27;);
     this.density_units &#x3D; dm.getOptionSet(&#x27;density_units&#x27;);
    //this.dialog.open(MixerInitComponent, {width: &#x27;600px&#x27;});

    this.scrollingSubscription &#x3D; this.scroll
          .scrolled()
          .subscribe((data: any) &#x3D;&gt; {
            this.onWindowScroll(data);
    });
    
    this.vp.setAbsolute(defaults.mixer_canvas_width, defaults.mixer_canvas_height); //max size of canvas, evenly divisible by default cell size
   



    //subscribe to the login event and handle what happens in that case 

    if (auth) {
      const success &#x3D; authState(this.fbauth).subscribe(async user &#x3D;&gt; {
         this.initLoginLogoutSequence(user) 
          
      })

   }



  }


  ngOnInit(){
    
    const analytics &#x3D; getAnalytics();
    logEvent(analytics, &#x27;onload&#x27;, {
      items: [{ uid: this.auth.uid }]
    });
  }

  ngAfterViewInit() {
 
  }


  private onWindowScroll(data: any) {
    if(!this.manual_scroll){
     this.palette.handleWindowScroll(data);
    // this.view_tool.updateViewPort(data);
    }else{
      this.manual_scroll &#x3D; false;
    }
  }

 setScroll(delta: any) {
    this.palette.handleScroll(delta);
    this.manual_scroll &#x3D; true;
   //this.view_tool.updateViewPort(data);
  }



  closeDetailViewer(obj: any){
    console.log(&quot;OBJ &quot;, obj)
    this.show_details &#x3D; false; 
    this.details.windowClosed();

    //the object was never copied
    if(obj.clone_id &#x3D;&#x3D; -1){
      let comp &#x3D; &lt;SubdraftComponent&gt;this.tree.getComponent(obj.id);
      comp.redrawExistingDraft();

      this.palette.updateDownstream(obj.id).then(el &#x3D;&gt; {
        this.palette.addTimelineState();
      });
    //reperform all of the ops 
    }else{
      //this object was copied and we need to keep the copy
      if(obj.dirty){
        const parent &#x3D; this.tree.getComponent(obj.clone_id);
        let el &#x3D; document.getElementById(&#x27;scale-&#x27;+parent.id);
        let width &#x3D; 0;
        if(el !&#x3D;&#x3D; null &amp;&amp; el !&#x3D;&#x3D; undefined) width &#x3D; el.offsetWidth;
        this.palette.createSubDraftFromEditedDetail(obj.id).then(sd &#x3D;&gt; {
          const new_topleft &#x3D; {
            x: parent.topleft.x+((width+40)*this.zs.zoom/defaults.mixer_cell_size), 
            y: parent.topleft.y};
    
            sd.setPosition(new_topleft);
        });

       
      }else{
        this.tree.removeSubdraftNode(obj.id);
      }
    }



  
    //refresh all of the subdrafts
    // let tlds:Array&lt;number&gt; &#x3D; this.tree.getTopLevelDrafts();
    // tlds.forEach(tld &#x3D;&gt; {
    //   let comp: SubdraftComponent &#x3D; &lt;SubdraftComponent&gt;this.tree.getComponent(tld);
    //   comp.redrawExistingDraft();
    // })


    // this.palette.updateDownstream(obj).then(el &#x3D;&gt; {
    //   this.palette.addTimelineState();
    // });
    // //reperform all of the ops 


  }

  detailViewChange(){
    this.details.weaveRef.rescale(this.render.getZoom());

  }
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

    let so: SaveObj &#x3D; this.ss.restoreNextMixerHistoryState();
    if(so &#x3D;&#x3D;&#x3D; null || so &#x3D;&#x3D;&#x3D; undefined) return;

<<<<<<< HEAD
    this.fs.loader.ada(this.files.current_file_name, this.files.current_file_id,this.files.current_file_desc,  so)
    .then(lr &#x3D;&gt;  this.loadNewFile(lr));
=======
  addOp(event: any){
    this.palette.addOperation(event)
  }
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

   
  }

<<<<<<< HEAD
  onCopySelections(){
    const selections &#x3D; this.multiselect.copySelections();
    this.selected_nodes_copy &#x3D; selections;
  }

  onPasteSelections(){
=======

  isBlankWorkspace() : boolean {
    return this.tree.nodes.length &#x3D;&#x3D; 0;
  }
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

    //check to make sure something has been copied
    if(this.multiselect.copy &#x3D;&#x3D; undefined) return;

<<<<<<< HEAD
    this.multiselect.copy.then(ada &#x3D;&gt; {

      return this.fs.loader.paste(ada).then(lr &#x3D;&gt; {
        this.insertPasteFile(lr);
      });
    })

   
   

    this.multiselect.clearSelections();
    
  }
=======
  zoomIn(){
    const old_zoom &#x3D; this.zs.zoom;
    this.zs.zoomIn();
    this.renderChange(old_zoom);

  }


  zoomOut(){
    const old_zoom &#x3D; this.zs.zoom;
    this.zs.zoomOut();
    this.renderChange(old_zoom);
    
}

createNewDraft(){

  const dialogRef &#x3D; this.dialog.open(BlankdraftModal, {
  });

  dialogRef.afterClosed().subscribe(obj &#x3D;&gt; {
    if(obj !&#x3D;&#x3D; undefined &amp;&amp; obj !&#x3D;&#x3D; null) this.newDraftCreated(obj);
 });
}
 

zoomChange(e:any, source: string){
  
  const old_zoom &#x3D; this.zs.zoom;
  this.zs.setZoom(e.value)
  this.palette.rescale(old_zoom);

}



  /**
   * this is called anytime a user event is fired
   * @param user 
   */
  initLoginLogoutSequence(user:User) {
    console.log(&quot;IN LOGIN/LOGOUT &quot;, user)
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

  togglePanMode(){
    if(this.dm.isSelected(&#x27;pan&#x27;, &quot;design_modes&quot;)){
      this.dm.selectDesignMode(&#x27;move&#x27;, &#x27;design_modes&#x27;);
    }else{
      this.dm.selectDesignMode(&#x27;pan&#x27;, &#x27;design_modes&#x27;);
    }
    this.palette.designModeChanged();
    //this.show_viewer &#x3D; true;

<<<<<<< HEAD
  }

  toggleSelectMode(){
    if(this.dm.isSelected(&#x27;marquee&#x27;, &quot;design_modes&quot;)){
      this.dm.selectDesignMode(&#x27;move&#x27;,&#x27;design_modes&#x27;);

    }else{
      this.dm.selectDesignMode(&#x27;marquee&#x27;,&#x27;design_modes&#x27;);

    }
=======
    let searchParams &#x3D; new URLSearchParams(window.location.search);
    if(searchParams.has(&#x27;ex&#x27;)){
      this.loadExampleAtURL(searchParams.get(&#x27;ex&#x27;));  
      return;
    }


    if(user &#x3D;&#x3D;&#x3D; null){
      //this is a logout event
      this.files.setCurrentFileInfo(this.files.generateFileId(), &#x27;blank draft&#x27;,&#x27;&#x27;);
      this.files.clearTree();

>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

    this.palette.designModeChanged();
  }

<<<<<<< HEAD
  


    operationAdded(name:string){
      this.palette.addOperation(name);
    }


  /**
   * this is called when a user pushes save from the topbar
   * @param event 
   */
  public async onSave(e: any) : Promise&lt;any&gt;{

    const link &#x3D; document.createElement(&#x27;a&#x27;)


    switch(e.type){
      case &#x27;jpg&#x27;: 

      return this.fs.saver.jpg(this.palette.getPrintableCanvas(e))
      .then(href &#x3D;&gt; {
        link.href&#x3D; href;
        link.download &#x3D; this.files.current_file_name + &quot;.jpg&quot;;
        this.palette.clearCanvas();
        link.click();
      });

      break;

      case &#x27;wif&#x27;: 
         this.palette.downloadVisibleDraftsAsWif();
         return Promise.resolve(null);
      break;

      case &#x27;ada&#x27;: 
      this.fs.saver.ada(
        &#x27;mixer&#x27;, 
        false,
        this.zs.zoom).then(out &#x3D;&gt; {
          link.href &#x3D; &quot;data:application/json;charset&#x3D;UTF-8,&quot; + encodeURIComponent(out.json);
          link.download &#x3D;  this.files.current_file_name + &quot;.ada&quot;;
          link.click();
        })
      break;

      case &#x27;bmp&#x27;:
        this.palette.downloadVisibleDraftsAsBmp();
        return Promise.resolve(null);
      break;
    }
  }

  /**
   * Updates the canvas based on the weave view.
   */
  public renderChange(old_zoom: number) {
    this.palette.rescale(old_zoom);
  }


  /**
   * Updates the canvas based on the weave view.
   */
   public zoomChangeExternal(event: any) {
    this.palette.rescale(event.old_zoom);
  }




  public notesChanged(e:any) {
    console.log(e);
    //this.draft.notes &#x3D; e;
=======
    }else{

      if(this.auth.isFirstSession() || (!this.auth.isFirstSession() &amp;&amp; this.isBlankWorkspace())){
    
        this.auth.getMostRecentFileIdFromUser(user).then(async fileid &#x3D;&gt; {

          if(fileid !&#x3D;&#x3D; null){

            const ada &#x3D; await this.files.getFile(fileid).catch(e &#x3D;&gt; {
              console.error(&quot;HI &quot;, e)
            });
            const meta &#x3D; await this.files.getFileMeta(fileid).catch(console.error);           
             

              if(ada &#x3D;&#x3D;&#x3D; undefined){
                this.loadBlankFile();

              }else if(meta &#x3D;&#x3D;&#x3D; undefined){
                this.files.setCurrentFileInfo(fileid, &#x27;file name not found&#x27;, &#x27;&#x27;);
                this.prepAndLoadFile(&#x27;file name not found&#x27;, fileid, &#x27;&#x27;, ada);
              
              }else{

                this.files.setCurrentFileInfo(fileid, meta.name, meta.desc);
                this.prepAndLoadFile(meta.name, fileid, meta.desc, ada);
              }

          }else{
              console.log(&quot;LOOKING FOR ADA FILE&quot;)
             this.auth.getMostRecentAdaFromUser(user).then(async adafile &#x3D;&gt; {
                console.log(&quot;ADA FILE IS &quot;, adafile)
                if(adafile !&#x3D;&#x3D; null){
                    let fileid &#x3D; await this.files.convertAdaToFile(user.uid, adafile); 
                    console.log(&quot;convert ada to file id &quot;, fileid)
            
                    let ada &#x3D; await this.files.getFile(fileid);
                    let meta &#x3D; await this.files.getFileMeta(fileid);           
                    
                    if(ada &#x3D;&#x3D;&#x3D; undefined){
                      this.loadBlankFile();
                    }else if(meta &#x3D;&#x3D;&#x3D; undefined){
                      this.files.setCurrentFileInfo(fileid, &#x27;file name not found&#x27;, &#x27;&#x27;);
                      this.prepAndLoadFile(&#x27;file name not found&#x27;, fileid, &#x27;&#x27;, ada);
      
                    }else{
                      this.files.setCurrentFileInfo(fileid, meta.name, meta.desc);
                      this.prepAndLoadFile(meta.name, fileid, meta.desc, ada);
                    }

                }else{
                  console.log(&quot;load blank&quot;)
                  this.loadBlankFile();
                  return;
                }
             });
          }
        }) 

      }else{
        
        //this.loadBlankFile();
        this.saveFile();
        this.files.writeNewFileMetaData(user.uid, this.files.current_file_id, this.files.current_file_name, this.files.current_file_desc)

    
      }
      
    }
  }

    /**
   * this is called when paste is called and has loaded in the data from the copy event. 
   * @param result 
   */
    insertPasteFile(result: LoadResponse){
      this.processFileData(result.data).then(data &#x3D;&gt; {
        this.palette.changeDesignmode(&#x27;move&#x27;);
        this.saveFile();

      }
  
      ).catch(console.error);
      
    }

  /**
   * this gets called when a new file is started from the topbar or a new file is reload via undo/redo
   * @param result 
   */
  loadNewFile(result: LoadResponse){
    this.clearAll();



    this.files.setCurrentFileInfo(result.id, result.name, result.desc);
    

    this.processFileData(result.data).then(data &#x3D;&gt; {
      this.palette.changeDesignmode(&#x27;move&#x27;);
      this.saveFile();
    }

    ).catch(e &#x3D;&gt; {
      console.log(&quot;CAUGHT ERROR through from process file data&quot;)
    });
    
  }

  async loadFromDB(fileid: number){
    this.clearAll();


    const ada &#x3D; await this.files.getFile(fileid);
    const meta &#x3D; await this.files.getFileMeta(fileid);           
    this.files.setCurrentFileInfo(fileid, meta.name, meta.desc);
    this.prepAndLoadFile(meta.name, fileid, meta.desc, ada);
    this.saveFile();
    
  }

  loadBlankFile(){
    this.clearAll();
    this.files.setCurrentFileInfo(this.files.generateFileId(), &#x27;load blank&#x27;, &#x27;&#x27;);
    this.saveFile();
    
  }

  deleteCurrentFile(){
    this.clearAll();
    if(this.files.file_tree.length &gt; 0){
      this.loadFromDB(this.files.file_tree[0].id)
    }else{
      this.files.setCurrentFileInfo(this.files.generateFileId(), &#x27;new blank file&#x27;, &#x27;&#x27;);
    }
    this.saveFile();
  }

  saveFile(){
        //if this user is logged in, write it to the
        this.fs.saver.ada(
          &#x27;mixer&#x27;, 
          true,
          this.zs.zoom)
          .then(so &#x3D;&gt; {
            this.ss.addMixerHistoryState(so);
          });
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
  }

 


  public toggleCollapsed(){
    this.collapsed &#x3D; !this.collapsed;
  }

<<<<<<< HEAD
  public createNote(){
    this.palette.createNote(null);
  }
  /**
   * called when the user adds a new draft from the sidebar
   * @param obj 
   */
  public newDraftCreated(obj: any){
    const id &#x3D; this.tree.createNode(&quot;draft&quot;, null, null);
    this.tree.loadDraftData({prev_id: null, cur_id: id,}, obj.draft, obj.loom, obj.loom_settings, true);
    this.palette.loadSubDraft(id, obj.draft, null, null, this.zs.zoom);
    //id: number, d: Draft, nodep: NodeComponentProxy, draftp: DraftNodeProxy,  saved_scale: number
=======

  /**
   * this gets called when a new file is started from the topbar
   * @param result 
   */
   importNewFile(result: LoadResponse){
    
    this.processFileData(result.data)
    .then( data &#x3D;&gt; {
      this.palette.changeDesignmode(&#x27;move&#x27;)
      this.clearAll();

      console.log(&quot;imported new file&quot;, result, result.data)
      })
      .catch(console.error);
    
  }


  printTreeStatus(name: string, treenode: Array&lt;TreeNode&gt;){

    treenode.forEach(tn &#x3D;&gt; {
      if(tn &#x3D;&#x3D;&#x3D; undefined){
        console.log(&quot;Undefined Node&quot;, tn); 
        return;
      }

      if(tn.inputs &#x3D;&#x3D;&#x3D; undefined){
        console.log(&quot;Undefined Inputs&quot;, tn); 
        return;  
      }

      if(tn.outputs &#x3D;&#x3D;&#x3D; undefined){
        console.log(&quot;Undefined Outputs&quot;, tn); 
        return;  
      }
      
      switch(tn.node.type){
        case &#x27;cxn&#x27;:
          if(tn.inputs.length !&#x3D;&#x3D; 1 || tn.outputs.length !&#x3D;&#x3D; 1)
          console.log(&quot;Invalid Number of Inputs/Outputs on Connection&quot;, tn); 
          break;

        case &#x27;draft&#x27;:
            if(tn.inputs.length &gt; 1)
            console.log(&quot;Invalid Number of Inputs/Outputs on Draft&quot;, tn); 
            break;
      }


    });
  }



  /**
   * this uses the uploaded node data to create new nodes, in addition to any nodes that may already exist
   * @param nodes the nodes from the upload
   * @returns an array of uploaded ids mapped to unique ids in this instance
   */
  async loadNodes(nodes: Array&lt;NodeComponentProxy&gt;) : Promise&lt;any&gt; {

    const functions &#x3D; nodes.map(n &#x3D;&gt; this.tree.loadNode(&lt;&#x27;draft&#x27;|&#x27;op&#x27;|&#x27;cxn&#x27;&gt; n.type, n.node_id));
    return Promise.all(functions);

>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
  }


  /**
<<<<<<< HEAD
   * something in the materials library changed, check to see if
   * there is a modal showing materials open and update it if there is
   */
   public materialChange() {
    
    this.palette.redrawAllSubdrafts();

    if(this.show_details){
      this.details.redrawSimulation();
    }

    this.saveFile();
 }


 /**
  * the origin must be updated after the file has been loaded. 
  * @param selection 
  */
 updateOrigin(selection: number){
  this.selected_origin &#x3D; selection
  
 }



/**
 * when the origin changes, all drafts on the canavs should be modified to the new position
 * origin changes can ONLY happen on globals
 * flips must be calculated from the prior state
 * @param e 
 */
originChange(e:any){


  const flips &#x3D; utilInstance.getFlips(this.selected_origin, e.value);
  this.selected_origin &#x3D; e.value;
  this.ws.selected_origin_option &#x3D; this.selected_origin;
=======
   * uploads the relationships between the nodes as specified in a load file
   * @param id_map the map from uploaded ids to current ids generated by loadNodes
   * @param tns the uploaded treenode data
   * @returns an array of treenodes and the map associated at each tree node
   */
  async loadTreeNodes(id_map: Array&lt;{prev_id: number, cur_id:number}&gt;, tns: Array&lt;TreeNodeProxy&gt;) : Promise&lt;Array&lt;{tn:TreeNode,entry:{prev_id: number, cur_id: number}}&gt;&gt; {
    

    const updated_tnp: Array&lt;TreeNodeProxy&gt; &#x3D; tns.map(tn &#x3D;&gt; {
     
      //we need these here because firebase does not store arrays of size 0
      if(tn.inputs &#x3D;&#x3D;&#x3D; undefined) tn.inputs &#x3D; [];
      if(tn.outputs &#x3D;&#x3D;&#x3D; undefined) tn.outputs &#x3D; [];


      const input_list &#x3D; tn.inputs.map(input &#x3D;&gt; {
        if(typeof input &#x3D;&#x3D;&#x3D; &#x27;number&#x27;){
          const input_in_map &#x3D; id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; input);

          if(input_in_map !&#x3D;&#x3D; undefined){
            return {tn: input_in_map.cur_id, ndx: 0};
          }else{
            console.error(&quot;could not find matching node&quot;);
          }

        }else{
          const input_in_map &#x3D; id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; input.tn);
          if(input_in_map !&#x3D;&#x3D; undefined){
            return {tn: input_in_map.cur_id, ndx: input.ndx};
          }else{
            console.error(&quot;could not find matching node&quot;);
          }
        } 

       
      });

      const output_list:Array&lt;any&gt; &#x3D; tn.outputs.map(output &#x3D;&gt; {
          //handle files of old type, before inputs were broken into two fields
          if(typeof output &#x3D;&#x3D;&#x3D; &#x27;number&#x27;){
            const output_map &#x3D; id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; output);
            if(output_map !&#x3D;&#x3D; undefined){
             return {tn: output_map.cur_id, ndx: 0};
            }else{
              console.error(&quot;could not find matching node&quot;); 
            }
          }else{
            
            const output_map &#x3D; id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; output.tn);

            if(output_map !&#x3D;&#x3D; undefined){
             return {tn: output_map.cur_id, ndx: output.ndx};
            }else{
              console.error(&quot;could not find matching node&quot;); 
            }
          } 
      });
      
      const new_tn: TreeNodeProxy &#x3D; {
        node: id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; tn.node).cur_id,
        parent: (tn.parent &#x3D;&#x3D;&#x3D; null || tn.parent &#x3D;&#x3D;&#x3D; -1) ? -1 : id_map.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; tn.parent).cur_id,
        inputs: input_list,
        outputs: output_list
      }
      
      //console.log(&quot;new tn is &quot;, new_tn);
      return new_tn;
    })

    const functions &#x3D; updated_tnp.map(tn &#x3D;&gt; this.tree.loadTreeNodeData(id_map, tn.node, tn.parent, tn.inputs, tn.outputs));
    return Promise.all(functions);

  }


  /** 
   * Take a fileObj returned from the fileservice and process
   */
   async processFileData(data: FileObj) : Promise&lt;string|void&gt;{
    this.loading &#x3D; true;

    let entry_mapping &#x3D; [];


    this.updateOrigin(this.ws.selected_origin_option)

    //start processing images first thing 
    const images_to_load &#x3D; [];
   
    data.ops.forEach(op &#x3D;&gt; {
      const internal_op &#x3D; this.ops.getOp(op.name); 
      if(internal_op &#x3D;&#x3D;&#x3D; undefined || internal_op &#x3D;&#x3D; null|| internal_op.params &#x3D;&#x3D;&#x3D; undefined) return;
      const param_types &#x3D; internal_op.params.map(el &#x3D;&gt; el.type);
      param_types.forEach((p, ndx) &#x3D;&gt; {
        if(p &#x3D;&#x3D;&#x3D; &#x27;file&#x27;){
          images_to_load.push(op.params[ndx]);
        } 
      });
    })



    return this.image.loadFiles(images_to_load).then(el &#x3D;&gt; {
      return this.tree.replaceOutdatedOps(data.ops);
    })
    .then(correctedOps &#x3D;&gt; {    
      data.ops &#x3D; correctedOps; 
      return this.loadNodes(data.nodes)
    })
    .then(id_map &#x3D;&gt; {
        entry_mapping &#x3D; id_map;
        return this.loadTreeNodes(id_map, data.treenodes);
      }
    ).then(treenodes &#x3D;&gt; {

      const seednodes: Array&lt;{prev_id: number, cur_id: number}&gt; &#x3D; treenodes
        .filter(tn &#x3D;&gt; this.tree.isSeedDraft(tn.tn.node.id))
        .map(tn &#x3D;&gt; tn.entry);
     

      const seeds: Array&lt;{entry, id, draft, loom, loom_settings, render_colors}&gt; &#x3D; seednodes
      .map(sn &#x3D;&gt;  {


         let d:Draft &#x3D;null;
         let render_colors &#x3D; true;
 
        const draft_node &#x3D; data.nodes.find(node &#x3D;&gt; node.node_id &#x3D;&#x3D;&#x3D; sn.prev_id);
        //let d: Draft &#x3D; initDraft();
        let l: Loom &#x3D; {
          treadling: [],
          tieup: [],
          threading: []
        }

        let ls: LoomSettings &#x3D; {
          frames: this.ws.min_frames,
          treadles: this.ws.min_treadles,
          epi: this.ws.epi,
          units: this.ws.units,
          type: this.ws.type
        }
        if(draft_node !&#x3D;&#x3D; undefined){

          const located_draft &#x3D; data.draft_nodes.find(draft &#x3D;&gt; draft.draft_id &#x3D;&#x3D;&#x3D; draft_node.node_id);
          if(located_draft &#x3D;&#x3D;&#x3D; undefined){
            console.log(&quot;Looking for &quot;, draft_node.node_id,&quot;in&quot;, data.draft_nodes.map(el &#x3D;&gt; el.draft_id))
            console.error(&quot;could not find draft with id in draft list&quot;);
          }
          else{
            d &#x3D; copyDraft(located_draft.draft);
            ls &#x3D; copyLoomSettings(located_draft.loom_settings);
            l &#x3D; copyLoom(located_draft.loom);
            if(located_draft.render_colors !&#x3D;&#x3D; undefined) render_colors &#x3D; located_draft.render_colors; 
          } 

        }else{
          console.error(&quot;draft node could not be found&quot;)
        }

  
        if(d !&#x3D;&#x3D; null &amp;&amp; d !&#x3D;&#x3D; undefined){
          d.id &#x3D; (sn.cur_id); //do this so that all draft ids match the component / node ids
        }else{
          d &#x3D; initDraftWithParams({warps: 1, wefts: 1, drawdown: [[false]]});
          d.id &#x3D; (sn.cur_id);
        }

          return {
            entry: sn,
            id: sn.cur_id,
            draft: d,
            loom: l,
            loom_settings: ls,
            render_colors: render_colors
            }
        
      });

      
      const seed_fns &#x3D; seeds.map(seed &#x3D;&gt; this.tree.loadDraftData(seed.entry, seed.draft, seed.loom,seed.loom_settings, seed.render_colors));
  
      const op_fns &#x3D; data.ops.map(op &#x3D;&gt; {
        const entry &#x3D; entry_mapping.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D; op.node_id);
        return this.tree.loadOpData(entry, op.name, op.params, op.inlets);
      });

      return Promise.all([seed_fns, op_fns]);

    })
    .then(el &#x3D;&gt; {
        return this.tree.validateNodes();
    })
    .then(el &#x3D;&gt; {
      //console.log(&quot;performing top level ops&quot;);
       return  this.tree.performTopLevelOps();
    })
    .then(el &#x3D;&gt; {
      //delete any nodes that no longer need to exist
      this.tree.getDraftNodes()
      .filter(el &#x3D;&gt; el.draft &#x3D;&#x3D;&#x3D; null)
      .forEach(el &#x3D;&gt; {
        if(this.tree.hasParent(el.id)){
          el.draft &#x3D; initDraftWithParams({warps: 1, wefts: 1, pattern: [[createCell(false)]]});
          el.draft.id &#x3D; el.id;
        } else{
          console.log(&quot;removing node &quot;, el.id, el.type, this.tree.hasParent(el.id));
          this.tree.removeNode(el.id);
        } 
      })
    })
    .then(el &#x3D;&gt; {

      return this.tree.nodes.forEach(node &#x3D;&gt; {
        
        if(!(node.component &#x3D;&#x3D;&#x3D; null || node.component &#x3D;&#x3D;&#x3D; undefined)) return;

        const entry &#x3D; entry_mapping.find(el &#x3D;&gt; el.cur_id &#x3D;&#x3D;&#x3D; node.id);
        if(entry &#x3D;&#x3D;&#x3D; undefined) return;

        switch (node.type){
          case &#x27;draft&#x27;:
            
            this.palette.loadSubDraft(node.id, this.tree.getDraft(node.id), data.nodes.find(el &#x3D;&gt; el.node_id &#x3D;&#x3D;&#x3D; entry.prev_id), data.draft_nodes.find(el &#x3D;&gt; el.node_id &#x3D;&#x3D;&#x3D; entry.prev_id), data.scale);
            break;
          case &#x27;op&#x27;:
            const op &#x3D; this.tree.getOpNode(node.id);
            this.palette.loadOperation(op.id, op.name, op.params, op.inlets, data.nodes.find(el &#x3D;&gt; el.node_id &#x3D;&#x3D;&#x3D; entry.prev_id).topleft, data.scale);
            break;
          case &#x27;cxn&#x27;:
            this.palette.loadConnection(node.id)
            break;
        }
      })


    })
    // ).then(el &#x3D;&gt; {
    //   return this.tree.nodes.forEach(node &#x3D;&gt; {
    //     if(!(node.component &#x3D;&#x3D;&#x3D; null || node.component &#x3D;&#x3D;&#x3D; undefined)) return;
    //     switch (node.type){
    //       case &#x27;cxn&#x27;:
    //         this.palette.loadConnection(node.id)
    //         break;
    //     }
    //   })
    // })
    .then(el &#x3D;&gt; {

      //NOW GO THOUGH ALL DRAFT NODES and ADD IN DATA THAT IS REQUIRED
      data.draft_nodes
      .forEach(np &#x3D;&gt; {
        const new_id &#x3D; entry_mapping.find(el &#x3D;&gt; el.prev_id &#x3D;&#x3D;&#x3D; np.node_id);
        const node &#x3D; this.tree.getNode(new_id.cur_id);
        if(node &#x3D;&#x3D;&#x3D; undefined) return;

       (&lt;DraftNode&gt; node).draft.ud_name &#x3D; np.draft_name;
       (&lt;DraftNode&gt; node).loom_settings &#x3D; np.loom_settings; 
      })

      // const dn &#x3D; this.tree.getDraftNodes();
      // dn.forEach(node &#x3D;&gt; {
      //   console.log(&quot;RES&quot;, node.draft, node.loom, node.loom_settings)
      // })

      data.notes.forEach(note &#x3D;&gt; {
        this.palette.createNote(note);
    });
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
  
  const dn: Array&lt;DraftNode&gt; &#x3D; this.tree.getDraftNodes();
  const data &#x3D; dn.map(node &#x3D;&gt; {
    return {
    draft: node.draft, 
    loom: node.loom, 
    horiz: flips.horiz,
    vert: flips.vert}
  });

  // dn.forEach(node &#x3D;&gt; {
  //  if(node.loom !&#x3D;&#x3D; null) console.log(node.loom.treadling)
  // })

  const draft_fns &#x3D; data.map(el &#x3D;&gt; flipDraft(el.draft, el.horiz, el.vert));

  return Promise.all(draft_fns)
  .then(res &#x3D;&gt; {
    for(let i &#x3D; 0; i &lt; dn.length; i++){
      dn[i].draft &#x3D; &lt;Draft&gt;{
        id: res[i].id,
        gen_name: res[i].gen_name,
        ud_name: res[i].ud_name,
        drawdown: res[i].drawdown,
        rowShuttleMapping: res[i].rowShuttleMapping,
        rowSystemMapping: res[i].rowSystemMapping,
        colShuttleMapping: res[i].colShuttleMapping,
        colSystemMapping: res[i].colSystemMapping
      };
    }
    const loom_fns &#x3D; data.map(el &#x3D;&gt; flipLoom(el.loom, el.horiz, el.vert))
    return Promise.all(loom_fns)
  .then(res &#x3D;&gt; {
    for(let i &#x3D; 0; i &lt; dn.length; i++){
      if(res[i] !&#x3D;&#x3D; null){
        dn[i].loom &#x3D; {
          threading: res[i].threading.slice(),
          tieup: res[i].tieup.slice(),
          treadling: res[i].treadling.slice()
        }
      }
    }
  }).then(out &#x3D;&gt; {
    this.saveFile();
  })

    })
    .then(res &#x3D;&gt; {
      // this.palette.rescale(data.scale);
      this.loading &#x3D; false;
      return Promise.resolve(&#x27;alldone&#x27;)
    })
    .catch(e &#x3D;&gt; {
      this.loading &#x3D; false;
      console.log(&quot;ERROR THOWN in process&quot;, e)
    });


<<<<<<< HEAD
})

  


}

epiChange(f: NgForm) {


  if(!f.value.epi){
    f.value.epi &#x3D; 1;
    this.epi &#x3D; f.value.epi;
  } 
  
  //this.loom.overloadEpi(f.value.epi);
  this.ws.epi &#x3D; f.value.epi;

=======
    //print out all trees:



>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

  }

 

<<<<<<< HEAD
}


/**
 * when a user selects a new loom type, the software will pull all subdrafts and update their loom information 
 * @param e 
 * @returns 
 */
loomChange(e:any){

  console.log(&quot;e.value.loomtype&quot;, e.value.loomtype)
   this.ws.type &#x3D; e.value.loomtype;
  if(this.ws.type &#x3D;&#x3D;&#x3D; &#x27;jacquard&#x27;) this.dm.selectDesignMode(&#x27;drawdown&#x27;, &#x27;drawdown_editing_style&#x27;)
  else this.dm.selectDesignMode(&#x27;loom&#x27;, &#x27;drawdown_editing_style&#x27;) 
  
  const dn: Array&lt;DraftNode&gt; &#x3D; this.tree.getDraftNodes();
  dn.forEach(node &#x3D;&gt; {
    node.loom_settings.type &#x3D; e.value.loomtype; 
  })


}
=======
  /**
   * Called from import bitmaps to drafts features. The drafts have already been imported and sent to this function, 
   * which now needs to draw them to the workspace
   * @param drafts 
   */
  loadDrafts(drafts: any){
    const loom:Loom &#x3D; {
      threading:[],
      tieup:[],
      treadling: []
    };

    const loom_settings:LoomSettings &#x3D; {
      type:this.ws.type,
      epi: this.ws.epi,
      units: this.ws.units,
      frames: this.ws.min_frames,
      treadles: this.ws.min_treadles
      
    }

    let topleft &#x3D; this.vp.getTopLeft();

    let max_h &#x3D; 0;
    let cur_h &#x3D; topleft.y + 20; //start offset from top
    let cur_w &#x3D; topleft.x + 50;
    let zoom_factor &#x3D; defaults.mixer_cell_size / this.zs.zoom;
    let x_margin &#x3D; 20 / zoom_factor;
    let y_margin &#x3D; 40 / zoom_factor;

    let view_width &#x3D; this.vp.getWidth() * zoom_factor;

    drafts.forEach(draft &#x3D;&gt; {
      
      
      const id &#x3D; this.tree.createNode(&quot;draft&quot;, null, null);
      this.tree.loadDraftData({prev_id: null, cur_id: id,}, draft, loom, loom_settings, true);
      this.palette.loadSubDraft(id, draft, null, null, this.zs.zoom);

      //position the drafts so that they don&#x27;t all overlap. 
       max_h &#x3D; (wefts(draft.drawdown)*defaults.mixer_cell_size &gt; max_h) ? wefts(draft.drawdown)*defaults.mixer_cell_size : max_h;
      
       let approx_w &#x3D; warps(draft.drawdown);

       //300 because each draft is defined as having min-width of 300pm
       let w &#x3D; (approx_w*defaults.mixer_cell_size &gt; 300) ? approx_w *defaults.mixer_cell_size : 300 / zoom_factor;

       let dn &#x3D; this.tree.getNode(id);
       dn.component.topleft &#x3D; {x: cur_w, y: cur_h};
       
       cur_w +&#x3D; (w + x_margin);
       if(cur_w &gt; view_width){
        cur_w &#x3D; topleft.x + 50;
        cur_h +&#x3D; (max_h+y_margin);
        max_h &#x3D; 0;
       }


    });

    this.palette.addTimelineState();

    
  }


  loadExampleAtURL(name: string){
    const analytics &#x3D; getAnalytics();
    logEvent(analytics, &#x27;onurl&#x27;, {
      items: [{ uid: this.auth.uid, name: name }]
    });

    this.http.get(&#x27;assets/examples/&#x27;+name+&quot;.ada&quot;, {observe: &#x27;response&#x27;}).subscribe((res) &#x3D;&gt; {
      console.log(res);
      if(res.status &#x3D;&#x3D; 404) return;

      this.clearAll();
      return this.fs.loader.ada(name, -1, &#x27;&#x27;, res.body)
     .then(loadresponse &#x3D;&gt; {
       this.loadNewFile(loadresponse)
     });
    }); 
  }


  prepAndLoadFile(name: string, id: number, desc: string, ada: any) : Promise&lt;any&gt;{
      return this.fs.loader.ada(name, id,desc, ada).then(lr &#x3D;&gt; {
        this.loadNewFile(lr);
      });
  }



  clearView() : void {
    this.palette.clearComponents();
    this.vp.clear();

  }

  clearAll() : void{

    console.log(&quot;CLEAR ALL&quot;)
    this.clearView();
    this.tree.clear();
    this.ss.clearTimeline();
    this.notes.clear();
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

  unitChange(e:any){
    
      this.ws.units &#x3D; e.value.units;


<<<<<<< HEAD
  }

  showDraftDetails(id: number){
    console.log(&quot;mixer draft details&quot;, id)
    this.show_details &#x3D; true;
    this.details.loadDraft(id);
    this.dm.selectDesignMode(&#x27;toggle&#x27;,&#x27;draw_modes&#x27;)
=======

  ngOnDestroy(): void {
    this.unsubscribe$.next();
    this.unsubscribe$.complete();
  }


  undo() {

    let so: SaveObj &#x3D; this.ss.restorePreviousMixerHistoryState();
    if(so &#x3D;&#x3D;&#x3D; null || so &#x3D;&#x3D;&#x3D; undefined) return;
    this.fs.loader.ada(this.files.current_file_name, this.files.current_file_id, this.files.current_file_desc, so).then(lr &#x3D;&gt; {
      console.log(&quot;LOADing FILE &quot;, lr);
      this.loadNewFile(lr)
    }
    
    );

  
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
  }
}</code></pre>
    </div>

<<<<<<< HEAD
    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">
&lt;appKeycodes
  (onUndo)&#x3D;&quot;undo()&quot;
  (onRedo)&#x3D;&quot;redo()&quot;
  (updateMixerView)&#x3D;&quot;renderChange($event)&quot;
  (updateDetailView)&#x3D;&quot;detailViewChange()&quot;
  (onCopySelections)&#x3D;&quot;onCopySelections()&quot;
  (onPasteSelections)&#x3D;&quot;onPasteSelections()&quot;

&gt;
&lt;/appKeycodes&gt;

&lt;mat-drawer-container [hasBackdrop]&#x3D;&quot;false&quot; #container class&#x3D;&quot;mat-drawer-container&quot; cdkScrollable&gt;




  &lt;div class&#x3D;&quot;floating_ops&quot;&gt;
    &lt;app-quickop 
    (onOperationAdded)&#x3D;&quot;addOp($event)&quot;  &gt;
    &lt;/app-quickop&gt;
  &lt;/div&gt;


  &lt;!-- THIS IS THE COLLAPSED SIDEBAR --&gt;
  &lt;mat-drawer *ngIf&#x3D;&quot;collapsed&quot;  [disableClose]&#x3D;&quot;true&quot;  class&#x3D;&quot;sidenav_small&quot; mode&#x3D;&quot;over&quot; position&#x3D;&quot;start&quot;  opened &gt;  

    &lt;div class&#x3D;&quot;button_col&quot;&gt;
      &lt;div class&#x3D;&quot;design_opts&quot;&gt;

        &lt;button mat-icon-button
        (click)&#x3D;&quot; collapsed &#x3D; !collapsed&quot;
        class&#x3D;&quot;collapse&quot; 
        [class.nav-opened] &#x3D; &quot;!collapsed&quot;
        value&#x3D;&quot;collapsed&quot;&gt;
        &lt;i class&#x3D;&quot;fa&quot;
          [class.fa-angle-double-right]&#x3D;&quot;collapsed&quot; 
          [class.fa-angle-double-left]&#x3D;&quot;!collapsed&quot;
        aria-hidden&#x3D;&quot;true&quot;&gt;&lt;/i&gt;
        &lt;/button&gt;

    &lt;button #undoEvent 
    mat-icon-button 
    color&#x3D;&quot;primary&quot;
    (click)&#x3D;&quot;undo();&quot;
    [disabled]&#x3D;&quot;ss.undo_disabled&quot;
    matTooltip &#x3D;&quot;undo&quot;&gt;
    &lt;i class&#x3D;&quot;fas fa-undo&quot;&gt;&lt;/i&gt;
    &lt;/button&gt;

    &lt;button #redoEvent 
    mat-icon-button 
    color&#x3D;&quot;primary&quot;
    (click)&#x3D;&quot;redo();&quot;
    [disabled]&#x3D;&quot;ss.redo_disabled &quot;
    matTooltip &#x3D;&quot;redo&quot;&gt;
    &lt;i class&#x3D;&quot;fas fa-redo&quot;&gt;&lt;/i&gt;
    &lt;/button&gt;

    &lt;button 
    mat-icon-button 
    color&#x3D;&quot;primary&quot;
    matTooltip&#x3D; &quot;Note&quot;
    color&#x3D;&quot;primary&quot;
    (click)&#x3D;&quot;createNote()&quot;&gt;
    &lt;i class&#x3D;&quot;fas fa-comment&quot;&gt;&lt;/i&gt;
    &lt;/button&gt;

    &lt;button 
    mat-icon-button 
    color&#x3D;&quot;primary&quot;
    matTooltip&#x3D; &quot;Blank Draft&quot;
    (click)&#x3D;&quot;createNewDraft()&quot;&gt;
    &lt;i class&#x3D;&quot;fas fa-chess-board&quot;&gt;&lt;/i&gt;
    &lt;/button&gt;

    &lt;button 
    mat-icon-button 
    [color]&#x3D;&quot;(dm.isSelected(&#x27;marquee&#x27;,&#x27;design_modes&#x27; ))? &#x27;accent&#x27; : &#x27;primary&#x27;&quot; 
    matTooltip&#x3D; &quot;Select&quot;
    (click)&#x3D;&quot;toggleSelectMode()&quot;&gt;
    &lt;i class&#x3D;&quot;fas fa-expand&quot;&gt;&lt;/i&gt;
    &lt;/button&gt;


    &lt;button
    mat-icon-button color&#x3D;&quot;primary&quot;  
    (click)&#x3D;&quot;onSave({type: &#x27;ada&#x27;})&quot;
    &gt;&lt;i class&#x3D;&quot;fa-solid fa-download&quot;&gt;&lt;/i&gt;
    &lt;/button&gt;
  &lt;/div&gt;

    &lt;div class&#x3D;&quot;adacad&quot;&gt;
    &lt;h1&gt;AdaCAD&lt;/h1&gt;
  &lt;/div&gt;

  &lt;div class&#x3D;&quot;slider-row&quot;&gt;
    &lt;button  mat-icon-button (click)&#x3D;&quot;zoomIn()&quot; color&#x3D;&quot;primary&quot; class&#x3D;&quot;fas fa-search-plus&quot;&gt;&lt;/button&gt;
  

      &lt;mat-slider 
      class&#x3D;&quot;slider&quot;
      [vertical]&#x3D;&quot;true&quot;
      color&#x3D;&quot;primary&quot;
      tickInterval&#x3D;&quot;1&quot; 
      [step]&#x3D;&quot;1&quot; 
      [min]&#x3D; &quot;0&quot;
      [max]&#x3D; &quot;zs.num_steps&quot;
      value&#x3D;&quot;{{zs.zoom_table_ndx}}&quot; 
      (change)&#x3D;&quot;zoomChange($event, &#x27;slider&#x27;)&quot;&gt;&lt;/mat-slider&gt;
      
      &lt;button  mat-icon-button (click)&#x3D;&quot;zoomOut()&quot; color&#x3D;&quot;primary&quot; class&#x3D;&quot;fas fa-search-minus&quot;&gt;&lt;/button&gt; 
      &lt;button
      mat-icon-button 
      [color]&#x3D;&quot;(dm.isSelected(&#x27;pan&#x27;,&#x27;design_modes&#x27; ))? &#x27;accent&#x27; : &#x27;primary&#x27;&quot; 
      (click)&#x3D;&quot;togglePanMode()&quot;
      &gt;&lt;i class&#x3D;&quot;fa-solid fa-hand&quot;&gt;&lt;/i&gt;
      &lt;/button&gt;
        &lt;/div&gt;
  &lt;/div&gt;






  &lt;/mat-drawer&gt;

  &lt;mat-drawer *ngIf&#x3D;&quot;!collapsed&quot;  [disableClose]&#x3D;&quot;true&quot; class&#x3D;&quot;sidenav_opened&quot; mode&#x3D;&quot;over&quot; position&#x3D;&quot;start&quot; opened&gt;  

  &lt;app-topbar #view_tool
  [collapsed]&#x3D;&quot;collapsed&quot;
  [drawer] &#x3D; &quot;drawer&quot;
  (onCollapseSidebar)&#x3D;&quot;collapsed &#x3D; !collapsed&quot;
  source&#x3D;&quot;mixer&quot;
  &gt;
  &lt;/app-topbar&gt;


    &lt;mat-tab-group mat-stretch-tabs&#x3D;&quot;false&quot; mat-align-tabs&#x3D;&quot;start&quot; color&#x3D;&quot;primary&quot; backgroundColor&#x3D;&quot;primary&quot;&gt;
      &lt;mat-tab class&#x3D;&quot;mat-tab-label-custom&quot; label&#x3D;&quot;Files&quot;&gt;     
        &lt;app-filebrowser 
        (onLoadNewFile)&#x3D;&quot;loadNewFile($event);&quot;
        (onLoadFromDB)&#x3D;&quot;loadFromDB($event);&quot;
        (onClearScreen)&#x3D;&quot;loadBlankFile();&quot;
        (onCurrentFileDeleted)&#x3D;&quot;deleteCurrentFile();&quot;
        (onSave)&#x3D;&quot;onSave($event);&quot;&gt;
      &lt;/app-filebrowser&gt;
      &lt;/mat-tab&gt;
      &lt;mat-tab class&#x3D;&quot;mat-tab-label-custom&quot; label&#x3D;&quot;Design&quot;&gt; 
        &lt;app-design #view_tool   
        (onUndo)&#x3D;&quot;undo();&quot; 
        (onRedo)&#x3D;&quot;redo();&quot;
        (onOperationAdded) &#x3D; &quot;operationAdded($event)&quot;
        (onImport) &#x3D; &quot;importNewFile($event)&quot;
        (onLoadDrafts)&#x3D;&quot;loadDrafts($event);&quot;
        (onNoteCreate) &#x3D;&quot;createNote();&quot;     
        (onNewDraftCreated)&#x3D;&quot;newDraftCreated($event)&quot;
        &gt;&lt;/app-design&gt;


      &lt;/mat-tab&gt;
      &lt;mat-tab class&#x3D;&quot;mat-tab-label-custom&quot; label&#x3D;&quot;Settings&quot;&gt;

        &lt;form class&#x3D;&quot;workspace_settings&quot; #envt&#x3D;&quot;ngForm&quot; novalidate&gt;

          &lt;mat-form-field&gt;
            &lt;mat-label&gt;When viewing Draft Details, Place the (0,0) point at: &lt;/mat-label&gt;
            &lt;mat-select (selectionChange) &#x3D;&quot;originChange($event)&quot; [value]&#x3D;&quot;selected_origin&quot;&gt;
              &lt;mat-option *ngFor&#x3D;&quot;let option of origin_options&quot; [value]&#x3D;&quot;option.value&quot;&gt;
                {{option.view}}
              &lt;/mat-option&gt;
            &lt;/mat-select&gt;
          &lt;/mat-form-field&gt;
  
          &lt;mat-form-field&gt;
            &lt;mat-label&gt;Loom Type&lt;/mat-label&gt;
            &lt;mat-select (selectionChange) &#x3D;&quot;loomChange(envt)&quot; [(value)]&#x3D;&quot;loomtype&quot; [(ngModel)]&#x3D;&quot;loomtype&quot; name&#x3D;&quot;loomtype&quot;&gt;
              &lt;mat-option *ngFor&#x3D;&quot;let loomtype of loomtypes&quot; [value]&#x3D;&quot;loomtype.value&quot;&gt;
                {{loomtype.viewValue}}
              &lt;/mat-option&gt;
            &lt;/mat-select&gt;
          &lt;/mat-form-field&gt;
  
          &lt;mat-form-field&gt;
            &lt;mat-label&gt;Default Density Units&lt;/mat-label&gt;
            &lt;mat-select [(value)]&#x3D;&quot;units&quot; [(ngModel)]&#x3D;&quot;units&quot; name&#x3D;&quot;units&quot; (selectionChange) &#x3D;&quot;unitChange(envt)&quot;&gt;
              &lt;mat-option *ngFor&#x3D;&quot;let unit of density_units&quot; [value]&#x3D;&quot;unit.value&quot;&gt;
                {{unit.viewValue}}
              &lt;/mat-option&gt;
            &lt;/mat-select&gt;
            &lt;/mat-form-field&gt;
    
          &lt;mat-form-field&gt;
            &lt;mat-label&gt;Default Density&lt;/mat-label&gt;
            &lt;input matInput  
            name&#x3D;&quot;epi&quot; 
            [(ngModel)]&#x3D;&quot;epi&quot; 
            type&#x3D;&quot;number&quot; 
            min&#x3D; &quot;0&quot; 
            (change)&#x3D;&quot;epiChange(envt)&quot;
            (blur)&#x3D;&quot;epiChange(envt)&quot;&gt;  
    
          &lt;/mat-form-field&gt;
  
    
  
          &lt;/form&gt;

=======
  redo() {

    let so: SaveObj &#x3D; this.ss.restoreNextMixerHistoryState();
    if(so &#x3D;&#x3D;&#x3D; null || so &#x3D;&#x3D;&#x3D; undefined) return;

    this.fs.loader.ada(this.files.current_file_name, this.files.current_file_id,this.files.current_file_desc,  so)
    .then(lr &#x3D;&gt;  this.loadNewFile(lr));

   
  }

  onCopySelections(){
    const selections &#x3D; this.multiselect.copySelections();
    this.selected_nodes_copy &#x3D; selections;
  }
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

  onPasteSelections(){

<<<<<<< HEAD
      &lt;/mat-tab&gt;

      &lt;mat-tab class&#x3D;&quot;mat-tab-label-custom&quot; label&#x3D;&quot;Materials&quot;&gt;
        &lt;app-material-modal
        (onMaterialChange)&#x3D;&quot;materialChange($event)&quot;
        &gt;&lt;/app-material-modal&gt;
      &lt;/mat-tab&gt;

      &lt;mat-tab class&#x3D;&quot;mat-tab-label-custom&quot; label&#x3D;&quot;Examples&quot;&gt;
        &lt;app-examples
        (onLoadExample)&#x3D;&quot;loadNewFile($event)&quot;&gt;
       &lt;/app-examples&gt;  
        &lt;app-loadfile&gt;&lt;/app-loadfile&gt;  

      &lt;/mat-tab&gt;
=======
    //check to make sure something has been copied
    if(this.multiselect.copy &#x3D;&#x3D; undefined) return;

    this.multiselect.copy.then(ada &#x3D;&gt; {

      return this.fs.loader.paste(ada).then(lr &#x3D;&gt; {
        this.insertPasteFile(lr);
      });
    })

   
   

    this.multiselect.clearSelections();
    
  }

  togglePanMode(){
    if(this.dm.isSelected(&#x27;pan&#x27;, &quot;design_modes&quot;)){
      this.dm.selectDesignMode(&#x27;move&#x27;, &#x27;design_modes&#x27;);
    }else{
      this.dm.selectDesignMode(&#x27;pan&#x27;, &#x27;design_modes&#x27;);
    }
    this.palette.designModeChanged();
    //this.show_viewer &#x3D; true;
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

  }

<<<<<<< HEAD
    &lt;/mat-tab-group&gt;


=======
  toggleSelectMode(){
    if(this.dm.isSelected(&#x27;marquee&#x27;, &quot;design_modes&quot;)){
      this.dm.selectDesignMode(&#x27;move&#x27;,&#x27;design_modes&#x27;);

    }else{
      this.dm.selectDesignMode(&#x27;marquee&#x27;,&#x27;design_modes&#x27;);

    }
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

    this.palette.designModeChanged();
  }

  

<<<<<<< HEAD
  &lt;/mat-drawer&gt;

  &lt;mat-drawer  #detail_drawer class&#x3D;&quot;detail_view&quot; mode&#x3D;&quot;over&quot; position&#x3D;&quot;end&quot; [opened]&#x3D;&quot;show_details&quot; [@.disabled]&#x3D;&quot;true&quot;&gt;  

    &lt;app-editor #details (closeDrawer)&#x3D;&quot;closeDetailViewer($event)&quot;&gt;&lt;/app-editor&gt;
    
     &lt;/mat-drawer&gt;

  &lt;!-- &lt;mat-drawer #files class&#x3D;&quot;example-sidenav&quot; mode&#x3D;&quot;side&quot; position&#x3D;&quot;start&quot; opened&gt;  



&lt;/mat-drawer&gt; --&gt;

  &lt;app-palette  
  class&#x3D;&quot;palette mode-{{dm.getSelectedDesignMode(&#x27;design_modes&#x27;).value}}&quot;
  [style.width.px]&#x3D;&#x27;vp.getAbsoluteWidth()&#x27; 
  [style.height.px]&#x3D;&#x27;vp.getAbsoluteHeight()&#x27; 
  #palette  id&#x3D;&quot;scrollable-container&quot;
  (onRevealDraftDetails)&#x3D;&quot;showDraftDetails($event)&quot; &gt;
  &lt;/app-palette&gt;


  &lt;mat-progress-bar mode&#x3D;&quot;indeterminate&quot; *ngIf&#x3D;&quot;loading&quot;&gt;&lt;/mat-progress-bar&gt;
  &lt;canvas id&#x3D;&quot;saver&quot;&gt;&lt;/canvas&gt;

  &lt;div  id&#x3D;&quot;mixerview&quot; class&#x3D;&quot;mixerview&quot;&gt;
  &lt;app-mixerview
  [style.display]&#x3D;&quot;dm.isSelected(&#x27;pan&#x27;,&#x27;design_modes&#x27; ) ? &#x27;block&#x27; : &#x27;none&#x27;&quot;
  (onZoomChange) &#x3D;&quot;zoomChangeExternal($event);&quot;
  (onViewPortMove) &#x3D;&quot;setScroll($event);&quot;
  &gt;&lt;/app-mixerview&gt;
  &lt;/div&gt;


  


&lt;/mat-drawer-container&gt;

</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./mixer.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">canvas{
    position: absolute;
  }

.palette{
  position: absolute;
  top: 0px;
  left: 0px;
}



#saver{
  z-index: -1;
}

.sidenav_small{
  width: 42px;
  display: flex;
  flex-direction: column;


}

.adacad{
position: relative;}

h1{
  transform: rotate(-90deg);
  color: #3f51b5;
  font-weight: bold;
  
}

.mode-pan{
  cursor:grab;
}

.mode-marquee{
  cursor:crosshair;
}

.mode-move{
  cursor:default;
}
=======

    operationAdded(name:string){
      this.palette.addOperation(name);
    }


  /**
   * this is called when a user pushes save from the topbar
   * @param event 
   */
  public async onSave(e: any) : Promise&lt;any&gt;{

    const link &#x3D; document.createElement(&#x27;a&#x27;)


    switch(e.type){
      case &#x27;jpg&#x27;: 

      return this.fs.saver.jpg(this.palette.getPrintableCanvas(e))
      .then(href &#x3D;&gt; {
        link.href&#x3D; href;
        link.download &#x3D; this.files.current_file_name + &quot;.jpg&quot;;
        this.palette.clearCanvas();
        link.click();
      });

      break;

      case &#x27;wif&#x27;: 
         this.palette.downloadVisibleDraftsAsWif();
         return Promise.resolve(null);
      break;

      case &#x27;ada&#x27;: 
      this.fs.saver.ada(
        &#x27;mixer&#x27;, 
        false,
        this.zs.zoom).then(out &#x3D;&gt; {
          link.href &#x3D; &quot;data:application/json;charset&#x3D;UTF-8,&quot; + encodeURIComponent(out.json);
          link.download &#x3D;  this.files.current_file_name + &quot;.ada&quot;;
          link.click();
        })
      break;

      case &#x27;bmp&#x27;:
        this.palette.downloadVisibleDraftsAsBmp();
        return Promise.resolve(null);
      break;
    }
  }

  /**
   * Updates the canvas based on the weave view.
   */
  public renderChange(old_zoom: number) {
    this.palette.rescale(old_zoom);
  }


  /**
   * Updates the canvas based on the weave view.
   */
   public zoomChangeExternal(event: any) {
    this.palette.rescale(event.old_zoom);
  }




  public notesChanged(e:any) {
    console.log(e);
    //this.draft.notes &#x3D; e;
  }

 


  public toggleCollapsed(){
    this.collapsed &#x3D; !this.collapsed;
  }

  public createNote(){
    this.palette.createNote(null);
  }
  /**
   * called when the user adds a new draft from the sidebar
   * @param obj 
   */
  public newDraftCreated(obj: any){
    const id &#x3D; this.tree.createNode(&quot;draft&quot;, null, null);
    this.tree.loadDraftData({prev_id: null, cur_id: id,}, obj.draft, obj.loom, obj.loom_settings, true);
    this.palette.loadSubDraft(id, obj.draft, null, null, this.zs.zoom);
    //id: number, d: Draft, nodep: NodeComponentProxy, draftp: DraftNodeProxy,  saved_scale: number
  }


  /**
   * something in the materials library changed, check to see if
   * there is a modal showing materials open and update it if there is
   */
   public materialChange() {
    
    this.palette.redrawAllSubdrafts();

    if(this.show_details){
      this.details.redrawSimulation();
    }

    this.saveFile();
 }


 /**
  * the origin must be updated after the file has been loaded. 
  * @param selection 
  */
 updateOrigin(selection: number){
  this.selected_origin &#x3D; selection
  
 }



/**
 * when the origin changes, all drafts on the canavs should be modified to the new position
 * origin changes can ONLY happen on globals
 * flips must be calculated from the prior state
 * @param e 
 */
originChange(e:any){


  const flips &#x3D; utilInstance.getFlips(this.selected_origin, e.value);
  this.selected_origin &#x3D; e.value;
  this.ws.selected_origin_option &#x3D; this.selected_origin;
  
  const dn: Array&lt;DraftNode&gt; &#x3D; this.tree.getDraftNodes();
  const data &#x3D; dn.map(node &#x3D;&gt; {
    return {
    draft: node.draft, 
    loom: node.loom, 
    horiz: flips.horiz,
    vert: flips.vert}
  });

  // dn.forEach(node &#x3D;&gt; {
  //  if(node.loom !&#x3D;&#x3D; null) console.log(node.loom.treadling)
  // })

  const draft_fns &#x3D; data.map(el &#x3D;&gt; flipDraft(el.draft, el.horiz, el.vert));

  return Promise.all(draft_fns)
  .then(res &#x3D;&gt; {
    for(let i &#x3D; 0; i &lt; dn.length; i++){
      dn[i].draft &#x3D; &lt;Draft&gt;{
        id: res[i].id,
        gen_name: res[i].gen_name,
        ud_name: res[i].ud_name,
        drawdown: res[i].drawdown,
        rowShuttleMapping: res[i].rowShuttleMapping,
        rowSystemMapping: res[i].rowSystemMapping,
        colShuttleMapping: res[i].colShuttleMapping,
        colSystemMapping: res[i].colSystemMapping
      };
    }
    const loom_fns &#x3D; data.map(el &#x3D;&gt; flipLoom(el.loom, el.horiz, el.vert))
    return Promise.all(loom_fns)
  .then(res &#x3D;&gt; {
    for(let i &#x3D; 0; i &lt; dn.length; i++){
      if(res[i] !&#x3D;&#x3D; null){
        dn[i].loom &#x3D; {
          threading: res[i].threading.slice(),
          tieup: res[i].tieup.slice(),
          treadling: res[i].treadling.slice()
        }
      }
    }
  }).then(out &#x3D;&gt; {
    this.saveFile();
  })



})

  


}

epiChange(f: NgForm) {
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

.mat-slider-vertical{
  height: 33%!important;
  min-height: 50px !important;
}

<<<<<<< HEAD
.slider-row{
  height: 33%;
}
=======
  if(!f.value.epi){
    f.value.epi &#x3D; 1;
    this.epi &#x3D; f.value.epi;
  } 
  
  //this.loom.overloadEpi(f.value.epi);
  this.ws.epi &#x3D; f.value.epi;
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995


.slider-row i{
  display: block;
  height: 48px;
  line-height: 32px;
  padding-top: 8px;
  width: 100%;
}

<<<<<<< HEAD
.slider-row button{

}

.button_col{
  display: flex;
  flex-direction: column;
  height: 95%;
  justify-content: space-between;
  overflow: hidden;
  width: 42px;
  padding-top: 5%;
}
=======
}


/**
 * when a user selects a new loom type, the software will pull all subdrafts and update their loom information 
 * @param e 
 * @returns 
 */
loomChange(e:any){

  console.log(&quot;e.value.loomtype&quot;, e.value.loomtype)
   this.ws.type &#x3D; e.value.loomtype;
  if(this.ws.type &#x3D;&#x3D;&#x3D; &#x27;jacquard&#x27;) this.dm.selectDesignMode(&#x27;drawdown&#x27;, &#x27;drawdown_editing_style&#x27;)
  else this.dm.selectDesignMode(&#x27;loom&#x27;, &#x27;drawdown_editing_style&#x27;) 
  
  const dn: Array&lt;DraftNode&gt; &#x3D; this.tree.getDraftNodes();
  dn.forEach(node &#x3D;&gt; {
    node.loom_settings.type &#x3D; e.value.loomtype; 
  })
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995

.sidenav_opened{
  width:  33%;
}

<<<<<<< HEAD

.floating_ops{
  width: 200px;
  position: fixed;
  top: 1vw;
  left: 80vw;
  z-index: 100;
}



.topbar_sub{
  display: flex;
  flex-direction: row;
  width: 50%;
}

.description{
  font-style: italic;
  width: 80%;
  padding: 0px 0px 8px 8px;
}

.mixerview{
  position: fixed;
  width:200px;
  height: 200px;
  top: calc(92vh - 200px);
  left: 82vw;
}

.collapse{
  color: #3f51b5;
}

.setting_title{
  padding: 18px;
  color: grey;
  font-size: .8em;
}

.nav-opened{
  left: 33%;
}

.mat-form-field {
width: 95%;
}

.detail_view{
  width:66%;
}

.workspace_settings{
width:100%;
padding: 20px;
display: flex;
flex-direction: column;
}

.mat-drawer-content{
  background:hsl(0, 100%, 100%);
}

.mat-drawer-container {
  position: absolute;
  width: 100%;
  height: calc(100vh) !important;
}



.cdk-live-announcer-element{
  display: none;
}
  
  

</code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
=======
}

  unitChange(e:any){
    
      this.ws.units &#x3D; e.value.units;


  }

  showDraftDetails(id: number){
    console.log(&quot;mixer draft details&quot;, id)
    this.show_details &#x3D; true;
    this.details.loadDraft(id);
    this.dm.selectDesignMode(&#x27;toggle&#x27;,&#x27;draw_modes&#x27;)
  }
}</code></pre>
>>>>>>> 31cccde7f6adf564ea3f9ea81d8f58118ffc7995
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><appKeycodes  (onUndo)="undo()"  (onRedo)="redo()"  (updateMixerView)="renderChange($event)"  (updateDetailView)="detailViewChange()"  (onCopySelections)="onCopySelections()"  (onPasteSelections)="onPasteSelections()"></appKeycodes><mat-drawer-container [hasBackdrop]="false" #container class="mat-drawer-container" cdkScrollable>  <div class="floating_ops">    <app-quickop     (onOperationAdded)="addOp($event)"  >    </app-quickop>  </div>  <!-- THIS IS THE COLLAPSED SIDEBAR -->  <mat-drawer *ngIf="collapsed"  [disableClose]="true"  class="sidenav_small" mode="over" position="start"  opened >      <div class="button_col">      <div class="design_opts">        <button mat-icon-button        (click)=" collapsed = !collapsed"        class="collapse"         [class.nav-opened] = "!collapsed"        value="collapsed">        <i class="fa"          [class.fa-angle-double-right]="collapsed"           [class.fa-angle-double-left]="!collapsed"        aria-hidden="true"></i>        </button>    <button #undoEvent     mat-icon-button     color="primary"    (click)="undo();"    [disabled]="ss.undo_disabled"    matTooltip ="undo">    <i class="fas fa-undo"></i>    </button>    <button #redoEvent     mat-icon-button     color="primary"    (click)="redo();"    [disabled]="ss.redo_disabled "    matTooltip ="redo">    <i class="fas fa-redo"></i>    </button>    <button     mat-icon-button     color="primary"    matTooltip= "Note"    color="primary"    (click)="createNote()">    <i class="fas fa-comment"></i>    </button>    <button     mat-icon-button     color="primary"    matTooltip= "Blank Draft"    (click)="createNewDraft()">    <i class="fas fa-chess-board"></i>    </button>    <button     mat-icon-button     [color]="(dm.isSelected(\'marquee\',\'design_modes\' ))? \'accent\' : \'primary\'"     matTooltip= "Select"    (click)="toggleSelectMode()">    <i class="fas fa-expand"></i>    </button>    <button    mat-icon-button color="primary"      (click)="onSave({type: \'ada\'})"    ><i class="fa-solid fa-download"></i>    </button>  </div>    <div class="adacad">    <h1>AdaCAD</h1>  </div>  <div class="slider-row">    <button  mat-icon-button (click)="zoomIn()" color="primary" class="fas fa-search-plus"></button>        <mat-slider       class="slider"      [vertical]="true"      color="primary"      tickInterval="1"       [step]="1"       [min]= "0"      [max]= "zs.num_steps"      value="{{zs.zoom_table_ndx}}"       (change)="zoomChange($event, \'slider\')"></mat-slider>            <button  mat-icon-button (click)="zoomOut()" color="primary" class="fas fa-search-minus"></button>       <button      mat-icon-button       [color]="(dm.isSelected(\'pan\',\'design_modes\' ))? \'accent\' : \'primary\'"       (click)="togglePanMode()"      ><i class="fa-solid fa-hand"></i>      </button>        </div>  </div>  </mat-drawer>  <mat-drawer *ngIf="!collapsed"  [disableClose]="true" class="sidenav_opened" mode="over" position="start" opened>    <app-topbar #view_tool  [collapsed]="collapsed"  [drawer] = "drawer"  (onCollapseSidebar)="collapsed = !collapsed"  source="mixer"  >  </app-topbar>    <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start" color="primary" backgroundColor="primary">      <mat-tab class="mat-tab-label-custom" label="Files">             <app-filebrowser         (onLoadNewFile)="loadNewFile($event);"        (onLoadFromDB)="loadFromDB($event);"        (onClearScreen)="loadBlankFile();"        (onCurrentFileDeleted)="deleteCurrentFile();"        (onSave)="onSave($event);">      </app-filebrowser>      </mat-tab>      <mat-tab class="mat-tab-label-custom" label="Design">         <app-design #view_tool           (onUndo)="undo();"         (onRedo)="redo();"        (onOperationAdded) = "operationAdded($event)"        (onImport) = "importNewFile($event)"        (onLoadDrafts)="loadDrafts($event);"        (onNoteCreate) ="createNote();"             (onNewDraftCreated)="newDraftCreated($event)"        ></app-design>      </mat-tab>      <mat-tab class="mat-tab-label-custom" label="Settings">        <form class="workspace_settings" #envt="ngForm" novalidate>          <mat-form-field>            <mat-label>When viewing Draft Details, Place the (0,0) point at: </mat-label>            <mat-select (selectionChange) ="originChange($event)" [value]="selected_origin">              <mat-option *ngFor="let option of origin_options" [value]="option.value">                {{option.view}}              </mat-option>            </mat-select>          </mat-form-field>            <mat-form-field>            <mat-label>Loom Type</mat-label>            <mat-select (selectionChange) ="loomChange(envt)" [(value)]="loomtype" [(ngModel)]="loomtype" name="loomtype">              <mat-option *ngFor="let loomtype of loomtypes" [value]="loomtype.value">                {{loomtype.viewValue}}              </mat-option>            </mat-select>          </mat-form-field>            <mat-form-field>            <mat-label>Default Density Units</mat-label>            <mat-select [(value)]="units" [(ngModel)]="units" name="units" (selectionChange) ="unitChange(envt)">              <mat-option *ngFor="let unit of density_units" [value]="unit.value">                {{unit.viewValue}}              </mat-option>            </mat-select>            </mat-form-field>              <mat-form-field>            <mat-label>Default Density</mat-label>            <input matInput              name="epi"             [(ngModel)]="epi"             type="number"             min= "0"             (change)="epiChange(envt)"            (blur)="epiChange(envt)">                </mat-form-field>                  </form>      </mat-tab>      <mat-tab class="mat-tab-label-custom" label="Materials">        <app-material-modal        (onMaterialChange)="materialChange($event)"        ></app-material-modal>      </mat-tab>      <mat-tab class="mat-tab-label-custom" label="Examples">        <app-examples        (onLoadExample)="loadNewFile($event)">       </app-examples>          <app-loadfile></app-loadfile>        </mat-tab>    </mat-tab-group>  </mat-drawer>  <mat-drawer  #detail_drawer class="detail_view" mode="over" position="end" [opened]="show_details" [@.disabled]="true">      <app-editor #details (closeDrawer)="closeDetailViewer($event)"></app-editor>         </mat-drawer>  <!-- <mat-drawer #files class="example-sidenav" mode="side" position="start" opened>  </mat-drawer> -->  <app-palette    class="palette mode-{{dm.getSelectedDesignMode(\'design_modes\').value}}"  [style.width.px]=\'vp.getAbsoluteWidth()\'   [style.height.px]=\'vp.getAbsoluteHeight()\'   #palette  id="scrollable-container"  (onRevealDraftDetails)="showDraftDetails($event)" >  </app-palette>  <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>  <canvas id="saver"></canvas>  <div  id="mixerview" class="mixerview">  <app-mixerview  [style.display]="dm.isSelected(\'pan\',\'design_modes\' ) ? \'block\' : \'none\'"  (onZoomChange) ="zoomChangeExternal($event);"  (onViewPortMove) ="setScroll($event);"  ></app-mixerview>  </div>  </mat-drawer-container></div>'
    var COMPONENTS = [{'name': 'AboutModal', 'selector': 'app-about'},{'name': 'ActionsComponent', 'selector': 'app-repeats'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BlankdraftModal', 'selector': 'app-blankdraft'},{'name': 'ConnectionComponent', 'selector': 'app-connection'},{'name': 'CrosssectionComponent', 'selector': 'app-crosssection'},{'name': 'DesignComponent', 'selector': 'app-design'},{'name': 'DraftDetailComponent', 'selector': 'app-editor'},{'name': 'DraftviewerComponent', 'selector': 'app-draft'},{'name': 'ExamplesComponent', 'selector': 'app-examples'},{'name': 'FilebrowserComponent', 'selector': 'app-filebrowser'},{'name': 'ImageComponent', 'selector': 'app-image'},{'name': 'InitModal', 'selector': 'app-init'},{'name': 'InletComponent', 'selector': 'app-inlet'},{'name': 'LoadfileComponent', 'selector': 'app-loadfile'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'LoomModal', 'selector': 'app-loom-modal'},{'name': 'MaterialModal', 'selector': 'app-material-modal'},{'name': 'MixerComponent', 'selector': 'app-mixer'},{'name': 'MixerViewComponent', 'selector': 'app-mixerview'},{'name': 'NoteComponent', 'selector': 'app-note'},{'name': 'OperationComponent', 'selector': 'app-operation'},{'name': 'OpHelpModal', 'selector': 'app-ophelp'},{'name': 'OpsComponent', 'selector': 'app-ops'},{'name': 'PaletteComponent', 'selector': 'app-palette'},{'name': 'ParameterComponent', 'selector': 'app-parameter'},{'name': 'ProfileComponent', 'selector': 'app-profile'},{'name': 'QuickopComponent', 'selector': 'app-quickop'},{'name': 'SelectionComponent', 'selector': 'app-selection'},{'name': 'SidebarComponent', 'selector': 'app-sidebar'},{'name': 'SignupComponent', 'selector': 'app-signup'},{'name': 'SimulationComponent', 'selector': 'app-simulation'},{'name': 'SnackbarComponent', 'selector': 'app-snackbar'},{'name': 'SubdraftComponent', 'selector': 'app-subdraft'},{'name': 'TopbarComponent', 'selector': 'app-topbar'},{'name': 'UploadFormComponent', 'selector': 'upload-form'},{'name': 'WeaverViewComponent', 'selector': 'app-weaverview'}];
    var DIRECTIVES = [{'name': 'KeycodesDirective', 'selector': 'appKeycodes'},{'name': 'MarqueeComponent', 'selector': 'app-marquee'},{'name': 'SelectionComponent', 'selector': 'app-selection'}];
    var ACTUAL_COMPONENT = {'name': 'MixerComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'MixerComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
