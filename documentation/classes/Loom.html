<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>adacad-weaver documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">adacad-weaver documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">











<ol class="breadcrumb">
  <li>Classes</li>
  <li>Loom</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/core/model/loom.ts</code>
        </p>





            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#epi">epi</a>
                            </li>
                            <li>
                                <a href="#frame_mapping">frame_mapping</a>
                            </li>
                            <li>
                                <a href="#min_frames">min_frames</a>
                            </li>
                            <li>
                                <a href="#min_treadles">min_treadles</a>
                            </li>
                            <li>
                                <a href="#num_frames">num_frames</a>
                            </li>
                            <li>
                                <a href="#num_treadles">num_treadles</a>
                            </li>
                            <li>
                                <a href="#threading">threading</a>
                            </li>
                            <li>
                                <a href="#tieup">tieup</a>
                            </li>
                            <li>
                                <a href="#treadling">treadling</a>
                            </li>
                            <li>
                                <a href="#type">type</a>
                            </li>
                            <li>
                                <a href="#units">units</a>
                            </li>
                            <li>
                                <a href="#width">width</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#clearAllData">clearAllData</a>
                            </li>
                            <li>
                                <a href="#clearTieupCol">clearTieupCol</a>
                            </li>
                            <li>
                                <a href="#clearTieupRow">clearTieupRow</a>
                            </li>
                            <li>
                                <a href="#getAffectedDrawdownPoints">getAffectedDrawdownPoints</a>
                            </li>
                            <li>
                                <a href="#getConfig">getConfig</a>
                            </li>
                            <li>
                                <a href="#getEmptyFrame">getEmptyFrame</a>
                            </li>
                            <li>
                                <a href="#getEmptyTreadle">getEmptyTreadle</a>
                            </li>
                            <li>
                                <a href="#hasTieup">hasTieup</a>
                            </li>
                            <li>
                                <a href="#inThreadingRange">inThreadingRange</a>
                            </li>
                            <li>
                                <a href="#inTieupRange">inTieupRange</a>
                            </li>
                            <li>
                                <a href="#inTreadlingRange">inTreadlingRange</a>
                            </li>
                            <li>
                                <a href="#isInFrame">isInFrame</a>
                            </li>
                            <li>
                                <a href="#isInTreadle">isInTreadle</a>
                            </li>
                            <li>
                                <a href="#loadNew">loadNew</a>
                            </li>
                            <li>
                                <a href="#resetFrameMapping">resetFrameMapping</a>
                            </li>
                            <li>
                                <a href="#resetThreading">resetThreading</a>
                            </li>
                            <li>
                                <a href="#resetTieup">resetTieup</a>
                            </li>
                            <li>
                                <a href="#resetTreadling">resetTreadling</a>
                            </li>
                            <li>
                                <a href="#setMinFrames">setMinFrames</a>
                            </li>
                            <li>
                                <a href="#setMinTreadles">setMinTreadles</a>
                            </li>
                            <li>
                                <a href="#updateConfig">updateConfig</a>
                            </li>
                            <li>
                                <a href="#updateFromDrawdown">updateFromDrawdown</a>
                            </li>
                            <li>
                                <a href="#updateNumFramesFromThreading">updateNumFramesFromThreading</a>
                            </li>
                            <li>
                                <a href="#updateNumTreadlesFromTreadling">updateNumTreadlesFromTreadling</a>
                            </li>
                            <li>
                                <a href="#updateThreading">updateThreading</a>
                            </li>
                            <li>
                                <a href="#updateTieup">updateTieup</a>
                            </li>
                            <li>
                                <a href="#updateTieupSize">updateTieupSize</a>
                            </li>
                            <li>
                                <a href="#updateTreadling">updateTreadling</a>
                            </li>
                            <li>
                                <a href="#updateUnused">updateUnused</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, wefts: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, warps: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, frames: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, treadles: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/core/model/loom.ts:30</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>type</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>wefts</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>warps</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>frames</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>treadles</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="epi"></a>
                        <span class="name">
                            <b>
                            epi</b>
                            <a href="#epi"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">src/app/core/model/loom.ts:13</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="frame_mapping"></a>
                        <span class="name">
                            <b>
                            frame_mapping</b>
                            <a href="#frame_mapping"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Array&lt;number&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/core/model/loom.ts:22</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="min_frames"></a>
                        <span class="name">
                            <b>
                            min_frames</b>
                            <a href="#min_frames"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/core/model/loom.ts:20</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="min_treadles"></a>
                        <span class="name">
                            <b>
                            min_treadles</b>
                            <a href="#min_treadles"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="26" class="link-to-prism">src/app/core/model/loom.ts:26</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="num_frames"></a>
                        <span class="name">
                            <b>
                            num_frames</b>
                            <a href="#num_frames"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/app/core/model/loom.ts:21</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="num_treadles"></a>
                        <span class="name">
                            <b>
                            num_treadles</b>
                            <a href="#num_treadles"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/core/model/loom.ts:27</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="threading"></a>
                        <span class="name">
                            <b>
                            threading</b>
                            <a href="#threading"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Array&lt;number&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/core/model/loom.ts:19</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="tieup"></a>
                        <span class="name">
                            <b>
                            tieup</b>
                            <a href="#tieup"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Array&lt;Array&lt;boolean&gt;&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/core/model/loom.ts:30</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="treadling"></a>
                        <span class="name">
                            <b>
                            treadling</b>
                            <a href="#treadling"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Array&lt;number&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="25" class="link-to-prism">src/app/core/model/loom.ts:25</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="type"></a>
                        <span class="name">
                            <b>
                            type</b>
                            <a href="#type"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="12" class="link-to-prism">src/app/core/model/loom.ts:12</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="units"></a>
                        <span class="name">
                            <b>
                            units</b>
                            <a href="#units"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="14" class="link-to-prism">src/app/core/model/loom.ts:14</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="width"></a>
                        <span class="name">
                            <b>
                            width</b>
                            <a href="#width"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/core/model/loom.ts:15</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearAllData"></a>
                    <span class="name">
                        <b>
                            clearAllData
                        </b>
                        <a href="#clearAllData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearAllData(warps, wefts)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="147"
                            class="link-to-prism">src/app/core/model/loom.ts:147</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>warps</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>wefts</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearTieupCol"></a>
                    <span class="name">
                        <b>
                            clearTieupCol
                        </b>
                        <a href="#clearTieupCol"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearTieupCol(i)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="615"
                            class="link-to-prism">src/app/core/model/loom.ts:615</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearTieupRow"></a>
                    <span class="name">
                        <b>
                            clearTieupRow
                        </b>
                        <a href="#clearTieupRow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clearTieupRow(i)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="621"
                            class="link-to-prism">src/app/core/model/loom.ts:621</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAffectedDrawdownPoints"></a>
                    <span class="name">
                        <b>
                            getAffectedDrawdownPoints
                        </b>
                        <a href="#getAffectedDrawdownPoints"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getAffectedDrawdownPoints(obj)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="417"
                            class="link-to-prism">src/app/core/model/loom.ts:417</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>*
takes in an object describing where the change in loom took place and returns a list of affected rows and columns in the draw dow</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ wefts: {}; warps: {}; }</code>

                    </div>
                    <div class="io-description">
                        <p>(wefts: array of affected rows, warps: array of affected columns)</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConfig"></a>
                    <span class="name">
                        <b>
                            getConfig
                        </b>
                        <a href="#getConfig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConfig(obj)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="223"
                            class="link-to-prism">src/app/core/model/loom.ts:223</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>obj</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ i: any; j: any; frame: number; treadle: number; drawdown: any; }</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEmptyFrame"></a>
                    <span class="name">
                        <b>
                            getEmptyFrame
                        </b>
                        <a href="#getEmptyFrame"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getEmptyFrame()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="204"
                            class="link-to-prism">src/app/core/model/loom.ts:204</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEmptyTreadle"></a>
                    <span class="name">
                        <b>
                            getEmptyTreadle
                        </b>
                        <a href="#getEmptyTreadle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getEmptyTreadle()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="193"
                            class="link-to-prism">src/app/core/model/loom.ts:193</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasTieup"></a>
                    <span class="name">
                        <b>
                            hasTieup
                        </b>
                        <a href="#hasTieup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasTieup(i, j)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="493"
                            class="link-to-prism">src/app/core/model/loom.ts:493</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>j</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inThreadingRange"></a>
                    <span class="name">
                        <b>
                            inThreadingRange
                        </b>
                        <a href="#inThreadingRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>inThreadingRange(i, j)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="499"
                            class="link-to-prism">src/app/core/model/loom.ts:499</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>j</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inTieupRange"></a>
                    <span class="name">
                        <b>
                            inTieupRange
                        </b>
                        <a href="#inTieupRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>inTieupRange(i, j)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="487"
                            class="link-to-prism">src/app/core/model/loom.ts:487</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>j</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inTreadlingRange"></a>
                    <span class="name">
                        <b>
                            inTreadlingRange
                        </b>
                        <a href="#inTreadlingRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>inTreadlingRange(i, j)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="513"
                            class="link-to-prism">src/app/core/model/loom.ts:513</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>j</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInFrame"></a>
                    <span class="name">
                        <b>
                            isInFrame
                        </b>
                        <a href="#isInFrame"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isInFrame(warp, frame)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="505"
                            class="link-to-prism">src/app/core/model/loom.ts:505</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>warp</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>frame</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInTreadle"></a>
                    <span class="name">
                        <b>
                            isInTreadle
                        </b>
                        <a href="#isInTreadle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isInTreadle(weft, treadle)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="519"
                            class="link-to-prism">src/app/core/model/loom.ts:519</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>weft</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>treadle</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadNew"></a>
                    <span class="name">
                        <b>
                            loadNew
                        </b>
                        <a href="#loadNew"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadNew(type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, wefts: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, warps: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, frames: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, treadles: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="52"
                            class="link-to-prism">src/app/core/model/loom.ts:52</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>type</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>wefts</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>warps</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>frames</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>treadles</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetFrameMapping"></a>
                    <span class="name">
                        <b>
                            resetFrameMapping
                        </b>
                        <a href="#resetFrameMapping"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetFrameMapping(frames: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="139"
                            class="link-to-prism">src/app/core/model/loom.ts:139</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>frames</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetThreading"></a>
                    <span class="name">
                        <b>
                            resetThreading
                        </b>
                        <a href="#resetThreading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetThreading(warps)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="157"
                            class="link-to-prism">src/app/core/model/loom.ts:157</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>warps</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetTieup"></a>
                    <span class="name">
                        <b>
                            resetTieup
                        </b>
                        <a href="#resetTieup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetTieup(frames, treadles)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="164"
                            class="link-to-prism">src/app/core/model/loom.ts:164</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>frames</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>treadles</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetTreadling"></a>
                    <span class="name">
                        <b>
                            resetTreadling
                        </b>
                        <a href="#resetTreadling"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resetTreadling(wefts)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="175"
                            class="link-to-prism">src/app/core/model/loom.ts:175</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>wefts</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setMinFrames"></a>
                    <span class="name">
                        <b>
                            setMinFrames
                        </b>
                        <a href="#setMinFrames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setMinFrames(frames: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="73"
                            class="link-to-prism">src/app/core/model/loom.ts:73</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>frames</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setMinTreadles"></a>
                    <span class="name">
                        <b>
                            setMinTreadles
                        </b>
                        <a href="#setMinTreadles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setMinTreadles(treadles: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="90"
                            class="link-to-prism">src/app/core/model/loom.ts:90</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>treadles</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateConfig"></a>
                    <span class="name">
                        <b>
                            updateConfig
                        </b>
                        <a href="#updateConfig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateConfig(config)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="302"
                            class="link-to-prism">src/app/core/model/loom.ts:302</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>*
/* This function updates the values of the treadles, 
threading and tie up based on a returned value 
from getConfig</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>config</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ threading: {}; treadling: {}; tieup: {}; }</code>

                    </div>
                    <div class="io-description">
                        <p>a list of the updated points {obj{threading: array&lt;{i,j}&gt;, treadling: array&lt;{i,j}&gt;, tieup  array&lt;{i,j}}}</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateFromDrawdown"></a>
                    <span class="name">
                        <b>
                            updateFromDrawdown
                        </b>
                        <a href="#updateFromDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateFromDrawdown(i, j, drawdown)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="188"
                            class="link-to-prism">src/app/core/model/loom.ts:188</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>j</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>drawdown</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ threading: {}; treadling: {}; tieup: {}; }</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateNumFramesFromThreading"></a>
                    <span class="name">
                        <b>
                            updateNumFramesFromThreading
                        </b>
                        <a href="#updateNumFramesFromThreading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateNumFramesFromThreading()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="590"
                            class="link-to-prism">src/app/core/model/loom.ts:590</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateNumTreadlesFromTreadling"></a>
                    <span class="name">
                        <b>
                            updateNumTreadlesFromTreadling
                        </b>
                        <a href="#updateNumTreadlesFromTreadling"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateNumTreadlesFromTreadling()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="602"
                            class="link-to-prism">src/app/core/model/loom.ts:602</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateThreading"></a>
                    <span class="name">
                        <b>
                            updateThreading
                        </b>
                        <a href="#updateThreading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateThreading(i, j, val)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="536"
                            class="link-to-prism">src/app/core/model/loom.ts:536</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>j</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>val</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateTieup"></a>
                    <span class="name">
                        <b>
                            updateTieup
                        </b>
                        <a href="#updateTieup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateTieup(i, j, val)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="526"
                            class="link-to-prism">src/app/core/model/loom.ts:526</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>j</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>val</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateTieupSize"></a>
                    <span class="name">
                        <b>
                            updateTieupSize
                        </b>
                        <a href="#updateTieupSize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateTieupSize()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="105"
                            class="link-to-prism">src/app/core/model/loom.ts:105</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateTreadling"></a>
                    <span class="name">
                        <b>
                            updateTreadling
                        </b>
                        <a href="#updateTreadling"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateTreadling(i, j, val)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="563"
                            class="link-to-prism">src/app/core/model/loom.ts:563</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>j</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>val</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateUnused"></a>
                    <span class="name">
                        <b>
                            updateUnused
                        </b>
                        <a href="#updateUnused"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateUnused(struct: Array<number>, min: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, num: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="630"
                            class="link-to-prism">src/app/core/model/loom.ts:630</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>struct</td>
                                    <td>
                                            <code>Array&lt;number&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>min</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>num</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>type</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>





    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { connectableObservableDescriptor } from &#x27;rxjs/internal/observable/ConnectableObservable&#x27;;
import utilInstance from &#x27;./util&#x27;;

/**
 * Definition of threading class.
 * @class
 */
const countOccurrences &#x3D; (blah, val) &#x3D;&gt; blah.reduce((a, v) &#x3D;&gt; (v &#x3D;&#x3D;&#x3D; val ? a + 1 : a), 0);

 
export class Loom{
    type: string;
    epi: number;
    units: string;
    width: number;


    //1-d array the same size as warps that has the id for the frame it is associated with or -1. 
    threading: Array&lt;number&gt;; 
    min_frames: number; 
    num_frames: number; //the number frames in use
    frame_mapping: Array&lt;number&gt;;
    
    //1-d array the same size as wefts that has the id for the frame it is associated with or -1. 
    treadling: Array&lt;number&gt;;
    min_treadles: number;
    num_treadles: number;

    // 2-d arraw of size frames x treadles
    tieup: Array&lt;Array&lt;boolean&gt;&gt;; 


    constructor(type: string, wefts: number, warps: number, frames: number, treadles:number) {


        this.type &#x3D; type;
        

        this.min_frames &#x3D; frames;
        this.min_treadles &#x3D; treadles;
        this.num_frames &#x3D; frames;
        this.num_treadles &#x3D; treadles;


        this.resetFrameMapping(frames);
        this.resetThreading(warps);
        this.resetTreadling(wefts);
        this.resetTieup(frames, treadles);
      
    }

     loadNew(type: string, wefts: number, warps: number, frames: number, treadles:number) {



        this.type &#x3D; type;
        
        this.min_frames &#x3D; frames;
        this.min_treadles &#x3D; treadles;
        this.num_frames &#x3D; frames;
        this.num_treadles &#x3D; treadles;


        this.resetFrameMapping(frames);
        this.resetThreading(warps);
        this.resetTreadling(wefts);
        this.resetTieup(frames, treadles);
      
    }



    setMinFrames(frames:number){

      //get the max frame being used
      this.updateNumFramesFromThreading();

      if(frames &gt;&#x3D; this.num_frames){
        this.min_frames &#x3D; frames;
        this.num_frames &#x3D; frames;
        this.resetFrameMapping(frames);
      }else{
        this.min_frames &#x3D; frames;
      }
     this.updateTieupSize();


    }

    setMinTreadles(treadles:number){

      this.updateNumTreadlesFromTreadling();

      if(treadles &gt;&#x3D; this.num_treadles){
        this.min_treadles &#x3D; treadles;
        this.num_treadles &#x3D; treadles;
      }else{
        this.min_treadles &#x3D; treadles;
      }

      this.updateTieupSize();

    }

    updateTieupSize(){

      //if the tieup is larger than the num frames or treadles, trim it
      if(this.num_frames &lt; this.tieup.length){
        var diff &#x3D; this.tieup.length - this.num_frames;
        this.tieup.splice(this.num_frames-1, diff);
      }

      if(this.num_treadles &lt; this.tieup[0].length){
        var diff &#x3D; this.tieup[0].length - this.num_treadles;
        for(var i &#x3D; 0; i &lt; this.num_frames; i++){
          this.tieup[i].splice(this.num_treadles-1, diff);
        }
      }

      //if it got bigger, than add new values
      for(var i &#x3D; 0; i &lt; this.num_frames; i++){
        for(var j &#x3D; 0; j &lt; this.num_treadles; j++){
          if(i &lt; this.tieup.length &amp;&amp; j &lt; this.tieup[0].length){
            //do nothing
          }else if(i &lt; this.tieup.length &amp;&amp; j &gt;&#x3D; this.tieup[0].length){
            this.tieup[i][j] &#x3D; false;
          }else if(i &gt;&#x3D; this.tieup.length &amp;&amp; j &lt; this.tieup[0].length){
            this.tieup[i] &#x3D; [];
            this.tieup[i][j] &#x3D; false;
          }else{
            this.tieup[i] &#x3D; [];
            this.tieup[i][j] &#x3D; false;
          }
        }
      }
    }

    //always sets in reverse order (for now)
    resetFrameMapping(frames: number){
       this.frame_mapping &#x3D; [];
        for(var i &#x3D; 0; i &lt; frames; i++){
          this.frame_mapping.push((frames-1)-i);
        }

    }

    clearAllData(warps, wefts){
      this.num_frames &#x3D; this.min_frames;
      this.num_treadles &#x3D; this.min_treadles;
      this.resetFrameMapping(this.min_frames);
      this.resetThreading(warps);
      this.resetTreadling(wefts);
      this.resetTieup(this.min_frames, this.min_treadles);
    }


    resetThreading(warps){
      this.threading &#x3D; [];
        for (var i &#x3D; 0; i &lt; warps; i++) {
            this.threading.push(-1);
        }
    }

    resetTieup(frames, treadles){

      this.tieup &#x3D; [];
        for (var i &#x3D; 0; i &lt; frames; i++) {
            this.tieup.push([]);
            for(var j &#x3D; 0; j &lt; treadles; j++){
              this.tieup[i].push(false);
            }
        }
    }

    resetTreadling(wefts){

        this.treadling &#x3D; [];
        for (var i &#x3D; 0; i &lt; wefts; i++) {
            this.treadling.push(-1);
        }
    }


   /* updates the threading, tieup, and treadling based on a point in the drawdown
   * @param {i,j} the Row, Column of the changed pixel.
   * @returns {a list of updates made}
   */
    updateFromDrawdown(i, j, drawdown){
      return this.updateConfig(this.getConfig({i: i, j:j, drawdown: drawdown}));
    }


    getEmptyTreadle(){

      for(var i &#x3D; 0; i &lt; this.num_treadles; i++){
        const idx &#x3D; this.treadling.find(element &#x3D;&gt; element &#x3D;&#x3D;&#x3D; i);
        if(idx &#x3D;&#x3D;&#x3D; undefined) return i;
      }

      return this.num_treadles;
    }

    //this will always get the first empty frame
    getEmptyFrame(){

      for(var i &#x3D; 0; i &lt; this.num_frames; i++){
        const idx &#x3D; this.threading.find(element &#x3D;&gt; element &#x3D;&#x3D;&#x3D; i);
        if(idx &#x3D;&#x3D;&#x3D; undefined) return i;
      }

      return this.num_frames;
    }




   /* This function takes a point from the draw down [i,j] in the current view representing rows and columns 
and returns an associated value for threading frames and treadles
   * @param obj{i: i,j: j} the Row, Column of the changed pixel.
   * @returns {obj{i: i, j: j, frame: number, treadle: number}}
   */

    getConfig(obj){


      var config &#x3D; {
        i: obj.i, 
        j: obj.j,
        frame: -1,
        treadle:-1,
        drawdown: obj.drawdown
      }


      var j_pattern &#x3D; obj.drawdown.map(element &#x3D;&gt; element[obj.j]);
      var i_pattern &#x3D; obj.drawdown[obj.i];
      

      //(1) check if the row is unique
      var found &#x3D; false;
      for(var i &#x3D; 0; i &lt; obj.drawdown.length &amp;&amp; !found; i++){
        
        //don&#x27;t check the row we are currently in
        if(i !&#x3D; obj.i){

          const idx &#x3D; obj.drawdown[i].find((element, ndx) &#x3D;&gt; element.isUp() !&#x3D;&#x3D; i_pattern[ndx].isUp());
          if(idx &#x3D;&#x3D;&#x3D; undefined){
              found &#x3D; true;
              config.treadle &#x3D; this.treadling[i];
          }
        }
      }

      if(!found){
        var count &#x3D; countOccurrences(this.treadling, this.treadling[obj.i]);
        if(this.treadling[obj.i] !&#x3D; -1 &amp;&amp; count &#x3D;&#x3D; 1){
          config.treadle &#x3D; this.treadling[obj.i];
        }else{
          config.treadle &#x3D; this.getEmptyTreadle();
        }
      }

     //(1) check if the column is unique
      found &#x3D; false;
      for(var j &#x3D; 0; j &lt; obj.drawdown[0].length &amp;&amp; !found; j++){
        if(j !&#x3D; obj.j){
          const col &#x3D; obj.drawdown.map(element &#x3D;&gt; element[j]);
          const idx &#x3D; col.find((element, ndx) &#x3D;&gt; element.isUp() !&#x3D;&#x3D; j_pattern[ndx].isUp());

          if(idx &#x3D;&#x3D;&#x3D; undefined){
              found &#x3D; true;
              config.frame &#x3D; this.threading[j];
          }
        }
      }


      if(!found ){
        var count &#x3D; countOccurrences(this.threading, this.threading[obj.j]);
        if(this.threading[obj.j] !&#x3D; -1 &amp;&amp; count &#x3D;&#x3D; 1){
          config.frame &#x3D; this.threading[obj.j];
        }else{
          config.frame &#x3D; this.getEmptyFrame();
        }
      }

      return config;
    }





/***
   /* This function updates the values of the treadles, 
   threading and tie up based on a returned value 
   from getConfig
   * @param obj{i: i,j: j} the Row, Column of the changed pixel.
   * @returns a list of the updated points {obj{threading: array&lt;{i,j}&gt;, treadling: array&lt;{i,j}&gt;, tieup  array&lt;{i,j}}}
   */   
      
    updateConfig(config){
      
      var updates &#x3D; {
        threading: [],
        treadling: [],
        tieup: []
      }





      //if this is within the existing frames
      if(config.frame &lt; this.num_frames){
        
        if(this.threading[config.j] !&#x3D; -1){
          updates.threading.push({i: this.threading[config.j], j: config.j, val: false});
        }

        this.threading[config.j] &#x3D; config.frame;
        updates.threading.push({i: config.frame, j: config.j, val: true});



      }else{
        
        //add a frame and then assign this to it
        this.threading[config.j] &#x3D; config.frame;
        updates.threading.push({i: config.frame, j: config.j, val: true})
        this.updateNumFramesFromThreading();
        this.resetFrameMapping(this.num_frames);


      }




      if(config.treadle &lt; this.num_treadles){
        if(this.treadling[config.i] !&#x3D; -1){
          updates.treadling.push({i: config.i, j: this.treadling[config.i], val: false});
          this.treadling[config.i] &#x3D; -1;

        }

        this.treadling[config.i] &#x3D; config.treadle;
        updates.treadling.push({i: config.i, j:  config.treadle, val: true});

      }else{


        this.treadling[config.i] &#x3D; config.treadle;
        updates.treadling.push({i: config.i, j:  config.treadle, val: true});

        //this.num_treadles &#x3D; (config.treadle+1);
        this.updateNumTreadlesFromTreadling();

      }

      //make the tieups match the size
      for(var i &#x3D; 0; i &lt; this.num_frames; i++){
        updates.tieup.push([]);
        for(var j &#x3D; 0; j &lt; this.num_treadles; j++){
          if(i &lt; this.tieup.length &amp;&amp; j &lt; this.tieup[0].length){
            updates.tieup[i][j] &#x3D; ({i: i, j:j, val: this.tieup[i][j]});
          }else if(i &lt; this.tieup.length &amp;&amp; j &gt;&#x3D; this.tieup[0].length){
            this.tieup[i][j] &#x3D; false;
            updates.tieup[i][j] &#x3D; ({i: i, j:j, val: false});
          }else if(i &gt;&#x3D; this.tieup.length &amp;&amp; j &lt; this.tieup[0].length){
            this.tieup[i] &#x3D; [];
            this.tieup[i][j] &#x3D; false;
            updates.tieup[i][j] &#x3D; ({i: i, j:j, val: false});
          }else{
            this.tieup[i] &#x3D; [];
            this.tieup[i][j] &#x3D; false;
            updates.tieup[i][j] &#x3D; ({i: i, j:j, val: false});
          }
        }
      }



      
      //look through each treadle, and see if the tie up needs to be updated
      for(var j &#x3D; 0; j &lt; this.num_treadles; j++){
          const idx &#x3D; this.treadling.findIndex(element &#x3D;&gt; element &#x3D;&#x3D;&#x3D; j);

        if(idx !&#x3D;&#x3D; -1){
            //clear the tieup associated with this treadle
            for(var i &#x3D; 0; i &lt; this.num_frames; i++){
                this.tieup[i][j] &#x3D; false;
                updates.tieup[i][j].val &#x3D; false; 
            }

            //iterate through the draft row in question and update tieups
            for(var jj &#x3D; 0; jj &lt; config.drawdown[idx].length; jj++){
              if(config.drawdown[idx][jj].isUp()){
                  var frame &#x3D; this.threading[jj];
                  this.tieup[frame][j] &#x3D; true;                  
                  updates.tieup[this.threading[jj]][j].val &#x3D; true; 
              }
            }
        }
      }

      return updates;

    }


/***
   * takes in an object describing where the change in loom took place and returns a list of affected rows and columns in the draw dow
   * @param i: the tieup frame, j: the tieup treadle, value: true or false
   * @returns (wefts: array of affected rows, warps: array of affected columns)
   */  
    getAffectedDrawdownPoints(obj){


          var active_thread_cols &#x3D; [];
          var active_tieup_rows &#x3D; [];
          var active_tieup_cols &#x3D; [];
          var active_treadle_rows &#x3D; [];


      //this is a point in the threading
      if(obj.frame !&#x3D;&#x3D; undefined &amp;&amp; obj.warp !&#x3D;&#x3D; undefined){
    


          //get any treadles that are connected to this frame in the tieup
          for(var j &#x3D; 0; j &lt; this.num_treadles; j++){
            if(this.tieup[obj.frame][j]){
              active_tieup_cols.push(j);
            }
          }
          for(var i &#x3D; 0; i &lt; this.treadling.length; i++){
            for(var t &#x3D; 0; t &lt; active_tieup_cols.length; t++){
              var treadle_id &#x3D; active_tieup_cols[t];
              if(this.treadling[i] &#x3D;&#x3D; treadle_id) active_treadle_rows.push(i); 
            }
          }          
          return {wefts: active_treadle_rows, warps: [obj.warp]};
      }

      //this is in the tie-up
      if(obj.frame !&#x3D;&#x3D; undefined &amp;&amp; obj.treadle !&#x3D;&#x3D; undefined){

          //get all 
          for(var i &#x3D; 0; i &lt; this.treadling.length; i++){
              if(this.treadling[i] &#x3D;&#x3D;&#x3D; obj.treadle) active_treadle_rows.push(i); 
          }

          for(var j &#x3D; 0; j &lt; this.threading.length; j++){
              if(this.threading[j] &#x3D;&#x3D;&#x3D; obj.frame) active_thread_cols.push(j);
               
          }
          return {wefts: active_treadle_rows, warps: active_thread_cols};
      }

      //this is an action within the treadling
      if(obj.treadle !&#x3D;&#x3D; undefined &amp;&amp; obj.weft !&#x3D;&#x3D; undefined){


          //whcih frames are associated with this treadle via tie up?
          for(var i &#x3D; 0; i &lt; this.tieup.length; i++){
            if(this.tieup[i][obj.treadle]){
              active_tieup_rows.push(i);
            }
          }


          //get the cells linked with these frames
          for(var ii &#x3D; 0; ii &lt; active_tieup_rows.length; ii++){
              for(var j &#x3D; 0; j &lt; this.threading.length; j++){
                if(this.threading[j] &#x3D;&#x3D; active_tieup_rows[ii]) active_thread_cols.push(j);
              }
          }


          return {wefts: [obj.weft], warps: active_thread_cols};
      }

       return {wefts:[], warps:[]};
    }

    inTieupRange(i, j){
      if(i &gt;&#x3D; 0 &amp;&amp; i &lt; this.tieup.length) return true;
      if(j &gt;&#x3D; 0 &amp;&amp; j &lt; this.tieup[0].length) return true;
      return false;
    }

    hasTieup(i, j):boolean{
      if(!this.inTieupRange(i, j)) return null;
      else return (this.tieup[i][j]); 

    }

    inThreadingRange(i, j){
      if(j &gt;&#x3D; 0 &amp;&amp; j &lt; this.threading.length) return true;
      if(i &gt;&#x3D; 0 &amp;&amp; i &lt; this.num_frames) return true;
      return false;
    }

    isInFrame(warp, frame){
      if(!this.inThreadingRange(frame, warp)){
        return null;
      } 
      else return (this.threading[warp] &#x3D;&#x3D;&#x3D; frame); 

    }

    inTreadlingRange(i, j){
      if(j &gt;&#x3D; 0 &amp;&amp; j &lt; this.treadling.length) return true;
      if(i &gt;&#x3D; 0 &amp;&amp; i &lt; this.num_treadles) return true;
      return false;
    }

    isInTreadle(weft, treadle){
      if(!this.inTreadlingRange(weft, treadle)) return null;
      else return (this.treadling[weft] &#x3D;&#x3D;&#x3D; treadle); 

    }


    updateTieup(i, j, val){
       var updates &#x3D; [];
        this.tieup[i][j] &#x3D; val;
        updates.push({i:i, j:j, val:val});
        return updates;
    }




    updateThreading(i, j, val){
      var updates &#x3D; [];
      var frame &#x3D; this.threading[j];

      if(!this.inThreadingRange(i, j)) return updates;

      //a new value is coming in
      if(val){

        //nothing is assigned to this frame, send an update to unset the pixel
        if(frame !&#x3D;&#x3D; -1) updates.push({i:frame, j: j, val:false});

        updates.push({i:i, j: j, val:val});
        this.threading[j] &#x3D; i;

      }else{

        if(frame &#x3D;&#x3D;&#x3D; i){
          updates.push({i:i, j: j, val:val});
          this.threading[j] &#x3D; -1;
        }

      }
      
      return updates;
    }

    updateTreadling(i, j, val){
      var updates &#x3D; [];
      var treadle &#x3D; this.treadling[i];


      if(!this.inTreadlingRange(i, j)) return updates;

      if(val){

        if(treadle !&#x3D;&#x3D; -1) updates.push({i:i, j: treadle, val:false});
        updates.push({i:i, j: j, val:true});
        this.treadling[i] &#x3D; j;

      }else{

        if(treadle &#x3D;&#x3D;&#x3D; j){
          updates.push({i:i, j: j, val:false});
          this.treadling[i] &#x3D; -1;
        }

      }


      return updates;

    }

    updateNumFramesFromThreading(){
      //sets num_frames from values in the threading draft
      var max &#x3D; -1;

      for(var j&#x3D; 0; j &lt; this.threading.length; j++){
        if(this.threading[j] &gt; max) max &#x3D; this.threading[j];
      }

      this.num_frames &#x3D; max + 1;
      if(this.num_frames &lt; this.min_frames) this.num_frames &#x3D; this.min_frames;
    }

    updateNumTreadlesFromTreadling(){
      //sets num_frames from values in the threading draft
      var max &#x3D; -1;
      for(var j&#x3D; 0; j &lt; this.treadling.length; j++){
        if(this.treadling[j] &gt; max) max &#x3D; this.treadling[j];
      }

      this.num_treadles &#x3D; max + 1;
      if(this.num_treadles &lt; this.min_treadles) this.num_treadles &#x3D; this.min_treadles;
          }



    clearTieupCol(i){
       for(var j &#x3D; 0; j &lt; this.tieup.length; j++){
            this.tieup[j][i] &#x3D; false;
        }
    }

    clearTieupRow(i){
       for(var j &#x3D; 0; j &lt; this.tieup[0].length; j++){
            this.tieup[i][j] &#x3D; false;
       }
    }
  



    updateUnused(struct:Array&lt;number&gt;, min:number, num:number, type:string){

        var status &#x3D; [];
        var zeros &#x3D; []; 
        var condensed &#x3D; false;
        var map &#x3D; [];        //map [new-index] &#x3D; old-index

        //first check if the frames/treadles are being used or not
        //push unusued frames to zero:
        for(var i &#x3D; 0; i &lt; num; i++){
          var occurances &#x3D; countOccurrences(struct, i);
          status[i] &#x3D; occurances;
          if(occurances &#x3D;&#x3D;&#x3D; 0) zeros.push(i);
        }

        
        //if all the frames/treadles have assignments- don&#x27;t do anything
        if(zeros.length &#x3D;&#x3D; 0) return false;
        
        //push non-zero rows in order to map first
        for(var i &#x3D; 0; i &lt; num; i++){
          if(countOccurrences(zeros, i) &#x3D;&#x3D; 0){
            map.push(i);
          }
        }

        //then add zero rows
        for(var i &#x3D; 0; i &lt; zeros.length; i++){
          map.push(zeros[i]);
        }

        var swap_happened &#x3D; false;
        var old_struct &#x3D; struct.slice();
        var old_tieup &#x3D; [];
        
        for(var i &#x3D; 0; i &lt; this.tieup.length; i++){
          old_tieup.push(this.tieup[i].slice());
        }

        
        //reassign the frames/treadles and tieup 
        for(var i &#x3D; 0; i &lt; map.length; i++){
          var new_ndx &#x3D; i; 
          var old_ndx &#x3D; map[i];

          if(new_ndx !&#x3D; old_ndx){

            swap_happened &#x3D; true;


            for(var j &#x3D; 0; j &lt; struct.length; j++){
              
              if(old_struct[j] &#x3D;&#x3D;&#x3D; old_ndx){ 
                struct[j] &#x3D; new_ndx;
              }
            }

            if(type &#x3D;&#x3D;&#x3D; &quot;threading&quot;){
              for(var j &#x3D; 0; j &lt; this.tieup[old_ndx].length; j++){
                this.tieup[new_ndx][j] &#x3D; old_tieup[old_ndx][j]; 
              }
            }else{
              for(var j &#x3D; 0; j &lt; this.tieup.length; j++){
                this.tieup[j][new_ndx] &#x3D; old_tieup[j][old_ndx];
              }
            }
          }
        }


        for(var i &#x3D; 0; i &lt; num; i++){

           var old_index &#x3D; map[i];

           if(status[old_index] &#x3D;&#x3D;&#x3D; 0){

              if(type &#x3D;&#x3D;&#x3D; &quot;threading&quot;){
                
                if(i &gt; (min-1)){
                  //delete a frame
                  //this.num_frames--;
                  this.updateNumFramesFromThreading();
                  this.resetFrameMapping(this.num_frames);
                  this.tieup.splice(i, 1);
                }else{
                  this.clearTieupRow(i);
                }

              } else{

                if(i &gt; (min-1)){
                  this.updateNumTreadlesFromTreadling();
                  //this.num_treadles--;
                  for(var j &#x3D; 0; j &lt; this.tieup.length; j++){
                    this.tieup[j].splice(i, 1);
                  }
                }else{
                  this.clearTieupCol(i)
                }
              }
           }
        }


        for(var i &#x3D; (num-1); i &gt; (min-1); i--){
           
           var old_index &#x3D; map[i];
           
           
           if(status[old_index] &#x3D;&#x3D;&#x3D; 0){
              if(type &#x3D;&#x3D;&#x3D; &quot;threading&quot;){
                //this.num_frames--;
                this.updateNumFramesFromThreading();
                this.resetFrameMapping(this.num_frames);
                this.tieup.splice(i, 1);

              } else{
                this.updateNumTreadlesFromTreadling();
                //this.num_treadles--;
                for(var j &#x3D; 0; j &lt; this.tieup.length; j++){
                  this.tieup[j].splice(i, 1);
                }
              }
           }
        }

        return (swap_happened || this.num_frames &lt; num);
  }

}//end class
</code></pre>
    </div>
</div>



                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'Loom.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
