<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>adacad-weaver documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">adacad-weaver documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">adacad-weaver documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/CoreModule.html" >CoreModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/MixerModule.html" >MixerModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/WeaverModule.html" >WeaverModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AboutModal.html" >AboutModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AboutModal.html" >AboutModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AppComponent.html" >AppComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConnectionComponent.html" >ConnectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConnectionModal.html" >ConnectionModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConnectionModal.html" >ConnectionModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DesignComponent.html" >DesignComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DesignComponent.html" >DesignComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/HistoryComponent.html" >HistoryComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/HistoryComponent.html" >HistoryComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InitModal.html" >InitModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InitModal.html" >InitModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LabelModal.html" >LabelModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LabelModal.html" >LabelModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoomComponent.html" >LoomComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoomComponent.html" >LoomComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MasksComponent.html" >MasksComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MasksComponent.html" >MasksComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialModal.html" >MaterialModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialModal.html" >MaterialModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MixerComponent.html" >MixerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NotesComponent.html" >NotesComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NotesComponent.html" >NotesComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OperationComponent.html" >OperationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PaletteComponent.html" >PaletteComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PatternModal.html" >PatternModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PatternModal.html" >PatternModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PatternsComponent.html" >PatternsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PatternsComponent.html" >PatternsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SchematicComponent.html" >SchematicComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SchematicComponent.html" >SchematicComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ShuttlesModal.html" >ShuttlesModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ShuttlesModal.html" >ShuttlesModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SnackbarComponent.html" >SnackbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SubdraftComponent.html" >SubdraftComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/UploadFormComponent.html" >UploadFormComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ViewComponent.html" >ViewComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ViewComponent.html" >ViewComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/WeaverComponent.html" >WeaverComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-code"></span>
                            <span>Directives</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-directives-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-directives-links"
                            >
                                <li class="link">
                                    <a href="../directives/SelectionComponent.html" >SelectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../directives/WeaveDirective.html" >WeaveDirective</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/AdaCADWeaverPage.html" >AdaCADWeaverPage</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Cell.html" >Cell</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Connection.html" >Connection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Connection.html" >Connection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Draft.html" >Draft</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Loom.html"  class="active" >Loom</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Pattern.html" >Pattern</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Render.html" >Render</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Selection.html" >Selection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Shuttle.html" >Shuttle</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/System.html" >System</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Timeline.html" >Timeline</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Upload.html" >Upload</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Util.html" >Util</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/PatternService.html" >PatternService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/UploadService.html" >UploadService</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/Bounds.html" >Bounds</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignMode.html" >DesignMode</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignModes.html" >DesignModes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DraftInterface.html" >DraftInterface</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/HistoryState.html" >HistoryState</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Interlacement.html" >Interlacement</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/InterlacementVal.html" >InterlacementVal</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoomCoords.html" >LoomCoords</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoomUpdate.html" >LoomUpdate</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-plus"></span>
                            <span>Pipes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-pipes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-pipes-links"
                            >
                                <li class="link">
                                    <a href="../pipes/FilterPipe.html" >FilterPipe</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">adacad-weaver documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/CoreModule.html" >CoreModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/MixerModule.html" >MixerModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/WeaverModule.html" >WeaverModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AboutModal.html" >AboutModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AboutModal.html" >AboutModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AppComponent.html" >AppComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConnectionComponent.html" >ConnectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConnectionModal.html" >ConnectionModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConnectionModal.html" >ConnectionModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DesignComponent.html" >DesignComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DesignComponent.html" >DesignComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/HistoryComponent.html" >HistoryComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/HistoryComponent.html" >HistoryComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InitModal.html" >InitModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InitModal.html" >InitModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LabelModal.html" >LabelModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LabelModal.html" >LabelModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoomComponent.html" >LoomComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoomComponent.html" >LoomComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MasksComponent.html" >MasksComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MasksComponent.html" >MasksComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialModal.html" >MaterialModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialModal.html" >MaterialModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MixerComponent.html" >MixerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NotesComponent.html" >NotesComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NotesComponent.html" >NotesComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OperationComponent.html" >OperationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PaletteComponent.html" >PaletteComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PatternModal.html" >PatternModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PatternModal.html" >PatternModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PatternsComponent.html" >PatternsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PatternsComponent.html" >PatternsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SchematicComponent.html" >SchematicComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SchematicComponent.html" >SchematicComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ShuttlesModal.html" >ShuttlesModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ShuttlesModal.html" >ShuttlesModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SnackbarComponent.html" >SnackbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SubdraftComponent.html" >SubdraftComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/UploadFormComponent.html" >UploadFormComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ViewComponent.html" >ViewComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ViewComponent.html" >ViewComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/WeaverComponent.html" >WeaverComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-code"></span>
                                   <span>Directives</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#directives-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="directives-links"
                   >
                                       <li class="link">
                                           <a href="../directives/SelectionComponent.html" >SelectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../directives/WeaveDirective.html" >WeaveDirective</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/AdaCADWeaverPage.html" >AdaCADWeaverPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Cell.html" >Cell</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Connection.html" >Connection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Connection.html" >Connection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Draft.html" >Draft</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Loom.html"  class="active" >Loom</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Pattern.html" >Pattern</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Render.html" >Render</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Selection.html" >Selection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Shuttle.html" >Shuttle</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/System.html" >System</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Timeline.html" >Timeline</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Upload.html" >Upload</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Util.html" >Util</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/PatternService.html" >PatternService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/UploadService.html" >UploadService</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/Bounds.html" >Bounds</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignMode.html" >DesignMode</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignModes.html" >DesignModes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DraftInterface.html" >DraftInterface</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/HistoryState.html" >HistoryState</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Interlacement.html" >Interlacement</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/InterlacementVal.html" >InterlacementVal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoomCoords.html" >LoomCoords</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoomUpdate.html" >LoomUpdate</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-plus"></span>
                                   <span>Pipes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#pipes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="pipes-links"
                   >
                                       <li class="link">
                                           <a href="../pipes/FilterPipe.html" >FilterPipe</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content class">
                   <div class="content-data">






<ol class="breadcrumb">
  <li>Classes</li>
  <li>Loom</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
    <li class="active">
        <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
    </li>
    <li>
        <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="infos">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/core/model/loom.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>The Loom class stores the threading, tieup, and treadling informatino for a given draft.</p>

            </p>

            <section>
                <h3 id="constructor">Constructor</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <code>constructor(type: string, wefts: number, warps: number, frames: number, treadles: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>constructs a new loom object</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>type</b>
                                                            </div>
                                                            <div>
                                                                <p>current handled types are &#39;frame&#39; and &#39;jacquard&#39;</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>wefts</b>
                                                            </div>
                                                            <div>
                                                                <p>number of wefts of the drawdown</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>warps</b>
                                                            </div>
                                                            <div>
                                                                <p>number of warps in the drawdown</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>frames</b>
                                                            </div>
                                                            <div>
                                                                <p>the number of frames available in this loom</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>treadles</b>
                                                            </div>
                                                            <div>
                                                                <p>the number of treadles available in this loom</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>

            <section>
                <h3 id="methods">Methods</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> loadNew</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>loadNew(type: string, wefts: number, warps: number, frames: number, treadles: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>loads a new set of data into this existing loom object</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>type</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>wefts</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>warps</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>frames</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>treadles</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> setMinFrames</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>setMinFrames(frames: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> setMinTreadles</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>setMinTreadles(treadles: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateTieupSize</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateTieupSize()</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>scans the current frames and treadles for unused and updates the size accordingly</p>
            </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> resetFrameMapping</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>resetFrameMapping(frames: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> clearAllData</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>clearAllData(warps: number, wefts: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>clears all the data in this object, resets to sizes described by warps and wefts</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>warps</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>wefts</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                            <div class="io-description">
                                                
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> resetThreading</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>resetThreading(warps: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> resetTieup</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>resetTieup(frames: number, treadles: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> resetTreadling</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>resetTreadling(wefts: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateFromDrawdown</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateFromDrawdown(ndx: Interlacement, drawdown: <a href="../classes/Cell.html" >Cell[][]</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>updates the threading, tieup, and treadling in response to an update upon the drawdown</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>ndx</b>
                                                            </div>
                                                            <div>
                                                                <p>the updated location </p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>drawdown</b>
                                                            </div>
                                                            <div>
                                                                <p>an Array of Cells representing the drawdown</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code><a href="../classes/Loom.html" target="_self" >LoomUpdate</a></code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>a list of all the treadling, threading, and tieups that need to be updated</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> getEmptyTreadle</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>getEmptyTreadle()</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> getEmptyFrame</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>getEmptyFrame()</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> getConfig</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>getConfig(ndx: Interlacement, drawdown: <a href="../classes/Cell.html" >Cell[][]</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>describes the required frame andd treadle assignment for a given interlacement within the drawdown</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>ndx</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>drawdown</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code><a href="../classes/Loom.html" target="_self" >LoomCoords</a></code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>a description of the assigned frames and treadles</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateConfig</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateConfig(config: <a href="../classes/Loom.html" >LoomCoords</a>)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code><a href="../classes/Loom.html" target="_self" >LoomUpdate</a></code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> getAffectedDrawdownPoints</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>getAffectedDrawdownPoints(obj: any)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> inTieupRange</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>inTieupRange(ndx: Interlacement)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>boolean</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> hasTieup</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>hasTieup(ndx: Interlacement)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>boolean</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> inThreadingRange</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>inThreadingRange(ndx: Interlacement)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>boolean</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> isInFrame</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>isInFrame(warp: number, frame: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>checks if the given warp is assigned to the given frame</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>warp</b>
                                                            </div>
                                                            <div>
                                                                <p>the warm in the draft</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>frame</b>
                                                            </div>
                                                            <div>
                                                                <p>the frame in question</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>boolean</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>null if out of range or true/false if it is in this warp</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> inTreadlingRange</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>inTreadlingRange(ndx: Interlacement)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>boolean</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> isInTreadle</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>isInTreadle(weft: number, treadle: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>checks if the given weft is assigned to the given treadle</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>weft</b>
                                                            </div>
                                                            <div>
                                                                <p>the weft in the draft</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>treadle</b>
                                                            </div>
                                                            <div>
                                                                <p>the treadle in question</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>boolean</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>null if out of range or true/false if it is in this weft</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateTieup</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateTieup(ndx: InterlacementVal)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>InterlacementVal[]</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateThreading</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateThreading(ndx: InterlacementVal)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>updates the therading given this interlacement val</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>ndx</b>
                                                            </div>
                                                            <div>
                                                                
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>InterlacementVal[]</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>a list of the updates made</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateTreadling</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateTreadling(ndx: InterlacementVal)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>InterlacementVal[]</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateNumFramesFromThreading</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateNumFramesFromThreading()</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateNumTreadlesFromTreadling</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateNumTreadlesFromTreadling()</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> clearTieupCol</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>clearTieupCol(i: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> clearTieupRow</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>clearTieupRow(i: number)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>void</code>
            
                                        </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> updateUnused</b>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
            <code>updateUnused(struct: number[], min: number, num: number, type: string)</code>
                                </td>
                            </tr>
            
                            <tr>
                                <td class="col-md-4">
                                        <div class="io-description"><p>scans through the loom and reorients the assignments to condense into the minimum number of frames and columns</p>
            </div>
                                        <div class="io-description">
                                                <b>Parameters :</b>
                                                <ul class="jsdoc-params">
                                                        <li>
                                                            <div>
                                                                <b>struct</b>
                                                            </div>
                                                            <div>
                                                                <p>the array of threading/treadling to check</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>min</b>
                                                            </div>
                                                            <div>
                                                                <p>the min number of this struct</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>num</b>
                                                            </div>
                                                            <div>
                                                                <p>the current number used in this struct</p>
            
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div>
                                                                <b>type</b>
                                                            </div>
                                                            <div>
                                                                <p>describes if it is threadling or threading</p>
            
                                                            </div>
                                                        </li>
                                                </ul>
                                        </div>
                                        <div class="io-description">
                                            <b>Returns: </b>    <code>boolean</code>
            
                                        </div>
                                            <div class="io-description">
                                                <p>boolean indicating whether or not condensing took place</p>
            
                                            </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>


            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> epi</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>epi:     <code>number</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> frame_mapping</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>frame_mapping:     <code>number[]</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> min_frames</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>min_frames:     <code>number</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> min_treadles</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>min_treadles:     <code>number</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> num_frames</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>num_frames:     <code>number</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> num_treadles</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>num_treadles:     <code>number</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> threading</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>threading:     <code>number[]</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> tieup</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>tieup:     <code>boolean[][]</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> treadling</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>treadling:     <code>number[]</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> type</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>type:     <code>string</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> units</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>units:     <code>string</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                            <tr>
                                <td class="col-md-4">
                                    <b> width</b>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-4">
                                    <code>width:     <code>number</code>
            </bcode>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>
    </div>
    <div class="tab-pane fade tab-source-code" id="source">
        <pre><code class="hljs javascript">import { Cell } from &#x27;./cell&#x27;;
import { Interlacement, InterlacementVal, LoomCoords, LoomUpdate } from &#x27;./datatypes&#x27;;
import utilInstance from &#x27;./util&#x27;;
/**
 * The Loom class stores the threading, tieup, and treadling informatino for a given draft.
 * @param type &#x27;frame&#x27; or &#x27;jacquard&#x27;
 * @param epi  a number describing the density of the weave 
 * @param units a string fom the density units type that describes if it should be read in epi or ends per 10 cm
 * @param the width of the fabric given the epi and number of warps
 * @param threading array the same size as warps that has the id for the frame it is associated with or -1. 
 * @param min_frames the available number of frames on the loom (as defined by user)
 * @param num_frames the total number of frames required for the given drawdown
 * @param frame_mapping used to describe the ordering of frames in the view 
 * @param treadling array the same size as wefts that has the id for the frame it is associated with or -1. 
 * @param min_treadles the available number of treadles on the loom (as defined by user)
 * @param num_treadles the total number of treadles required for the given drawdown
 * @param tieup a 2D array of boooleans size frames x treadles that represents the tieup
 */ 
export class Loom{
    type: string;
    epi: number;
    units: string;
    width: number;


    threading: Array&lt;number&gt;; 
    min_frames: number; 
    num_frames: number; //the number frames in use
    frame_mapping: Array&lt;number&gt;;
    
    treadling: Array&lt;number&gt;;
    min_treadles: number;
    num_treadles: number;

    // 2-d arraw of size frames x treadles
    tieup: Array&lt;Array&lt;boolean&gt;&gt;; 

    /**
     * constructs a new loom object
     * @param type current handled types are &#x27;frame&#x27; and &#x27;jacquard&#x27;
     * @param wefts number of wefts of the drawdown
     * @param warps number of warps in the drawdown
     * @param frames the number of frames available in this loom
     * @param treadles the number of treadles available in this loom
     */
    constructor(type: string, wefts: number, warps: number, frames: number, treadles:number) {


        this.type &#x3D; type;
        

        this.min_frames &#x3D; frames; 
        this.min_treadles &#x3D; treadles;
        this.num_frames &#x3D; frames; 
        this.num_treadles &#x3D; treadles;


        this.resetFrameMapping(frames);
        this.resetThreading(warps);
        this.resetTreadling(wefts);
        this.resetTieup(frames, treadles);
      
    }

    /**
     * loads a new set of data into this existing loom object
     * @param type 
     * @param wefts 
     * @param warps 
     * @param frames 
     * @param treadles 
     */
     loadNew(type: string, wefts: number, warps: number, frames: number, treadles:number) {



        this.type &#x3D; type;
        
        this.min_frames &#x3D; frames;
        this.min_treadles &#x3D; treadles;
        this.num_frames &#x3D; frames;
        this.num_treadles &#x3D; treadles;


        this.resetFrameMapping(frames);
        this.resetThreading(warps);
        this.resetTreadling(wefts);
        this.resetTieup(frames, treadles);
      
    }



    setMinFrames(frames:number){

      //get the max frame being used
      this.updateNumFramesFromThreading();

      if(frames &gt;&#x3D; this.num_frames){
        this.min_frames &#x3D; frames;
        this.num_frames &#x3D; frames;
        this.resetFrameMapping(frames);
      }else{
        this.min_frames &#x3D; frames;
      }
     this.updateTieupSize();


    }

    setMinTreadles(treadles:number){

      this.updateNumTreadlesFromTreadling();

      if(treadles &gt;&#x3D; this.num_treadles){
        this.min_treadles &#x3D; treadles;
        this.num_treadles &#x3D; treadles;
      }else{
        this.min_treadles &#x3D; treadles;
      }

      this.updateTieupSize();

    }

    /**
     * scans the current frames and treadles for unused and updates the size accordingly
     */
    updateTieupSize(){

      //if the tieup is larger than the num frames or treadles, trim it
      if(this.num_frames &lt; this.tieup.length){
        var diff &#x3D; this.tieup.length - this.num_frames;
        this.tieup.splice(this.num_frames-1, diff);
      }

      if(this.num_treadles &lt; this.tieup[0].length){
        var diff &#x3D; this.tieup[0].length - this.num_treadles;
        for(var i &#x3D; 0; i &lt; this.num_frames; i++){
          this.tieup[i].splice(this.num_treadles-1, diff);
        }
      }

      //if it got bigger, than add new values
      for(var i &#x3D; 0; i &lt; this.num_frames; i++){
        for(var j &#x3D; 0; j &lt; this.num_treadles; j++){
          if(i &lt; this.tieup.length &amp;&amp; j &lt; this.tieup[0].length){
            //do nothing
          }else if(i &lt; this.tieup.length &amp;&amp; j &gt;&#x3D; this.tieup[0].length){
            this.tieup[i][j] &#x3D; false;
          }else if(i &gt;&#x3D; this.tieup.length &amp;&amp; j &lt; this.tieup[0].length){
            this.tieup[i] &#x3D; [];
            this.tieup[i][j] &#x3D; false;
          }else{
            this.tieup[i] &#x3D; [];
            this.tieup[i][j] &#x3D; false;
          }
        }
      }
    }

    //always sets in reverse order (for now)
    resetFrameMapping(frames: number){
       this.frame_mapping &#x3D; [];
        for(var i &#x3D; 0; i &lt; frames; i++){
          this.frame_mapping.push((frames-1)-i);
        }

    }

    /**
     * clears all the data in this object, resets to sizes described by warps and wefts
     * @param warps 
     * @param wefts 
     */
    clearAllData(warps:number, wefts:number){
      this.num_frames &#x3D; this.min_frames;
      this.num_treadles &#x3D; this.min_treadles;
      this.resetFrameMapping(this.min_frames);
      this.resetThreading(warps);
      this.resetTreadling(wefts);
      this.resetTieup(this.min_frames, this.min_treadles);
    }


    resetThreading(warps:number){
      this.threading &#x3D; [];
        for (var i &#x3D; 0; i &lt; warps; i++) {
            this.threading.push(-1);
        }
    }

    resetTieup(frames:number, treadles:number){

      this.tieup &#x3D; [];
        for (var i &#x3D; 0; i &lt; frames; i++) {
            this.tieup.push([]);
            for(var j &#x3D; 0; j &lt; treadles; j++){
              this.tieup[i].push(false);
            }
        }
    }

    resetTreadling(wefts:number){

        this.treadling &#x3D; [];
        for (var i &#x3D; 0; i &lt; wefts; i++) {
            this.treadling.push(-1);
        }
    }


   /* updates the threading, tieup, and treadling based on a point in the drawdown
   * @param {i,j} the Row, Column of the changed pixel.
   * @returns {a list of updates made}
   */

    /**
     * updates the threading, tieup, and treadling in response to an update upon the drawdown
     * @param ndx the updated location 
     * @param drawdown an Array of Cells representing the drawdown
     * @returns a list of all the treadling, threading, and tieups that need to be updated
     */
    updateFromDrawdown(ndx: Interlacement, drawdown: Array&lt;Array&lt;Cell&gt;&gt;): LoomUpdate{
      return this.updateConfig(this.getConfig(ndx, drawdown));
    }


    getEmptyTreadle(){

      for(var i &#x3D; 0; i &lt; this.num_treadles; i++){
        const idx &#x3D; this.treadling.find(element &#x3D;&gt; element &#x3D;&#x3D;&#x3D; i);
        if(idx &#x3D;&#x3D;&#x3D; undefined) return i;
      }

      return this.num_treadles;
    }

    //this will always get the first empty frame
    getEmptyFrame(){

      for(var i &#x3D; 0; i &lt; this.num_frames; i++){
        const idx &#x3D; this.threading.find(element &#x3D;&gt; element &#x3D;&#x3D;&#x3D; i);
        if(idx &#x3D;&#x3D;&#x3D; undefined) return i;
      }

      return this.num_frames;
    }

/**
 * describes the required frame andd treadle assignment for a given interlacement within the drawdown
 * @param ndx 
 * @param drawdown 
 * @returns a description of the assigned frames and treadles
 */
getConfig(ndx:Interlacement, drawdown: Array&lt;Array&lt;Cell&gt;&gt;):LoomCoords{


      var config: LoomCoords &#x3D; {
        ndx: ndx,
        frame: -1,
        treadle:-1,
        drawdown: drawdown
      }


      var j_pattern &#x3D; drawdown.map(element &#x3D;&gt; element[ndx.j]);
      var i_pattern &#x3D; drawdown[ndx.i];
      

      //(1) check if the row is unique
      var found &#x3D; false;
      for(var i &#x3D; 0; i &lt; drawdown.length &amp;&amp; !found; i++){
        
        //don&#x27;t check the row we are currently in
        if(i !&#x3D; ndx.i){

          const idx &#x3D; drawdown[i].find((element, ndx) &#x3D;&gt; element.isUp() !&#x3D;&#x3D; i_pattern[ndx].isUp());
          if(idx &#x3D;&#x3D;&#x3D; undefined){
              found &#x3D; true;
              config.treadle &#x3D; this.treadling[i];
          }
        }
      }

      if(!found){
        var count &#x3D; utilInstance.countOccurrences(this.treadling, this.treadling[ndx.i]);
        if(this.treadling[ndx.i] !&#x3D; -1 &amp;&amp; count &#x3D;&#x3D; 1){
          config.treadle &#x3D; this.treadling[ndx.i];
        }else{
          config.treadle &#x3D; this.getEmptyTreadle();
        }
      }

     //(1) check if the column is unique
      found &#x3D; false;
      for(var j &#x3D; 0; j &lt; drawdown[0].length &amp;&amp; !found; j++){
        if(j !&#x3D; ndx.j){
          const col &#x3D; drawdown.map(element &#x3D;&gt; element[j]);
          const idx &#x3D; col.find((element, ndx) &#x3D;&gt; element.isUp() !&#x3D;&#x3D; j_pattern[ndx].isUp());

          if(idx &#x3D;&#x3D;&#x3D; undefined){
              found &#x3D; true;
              config.frame &#x3D; this.threading[j];
          }
        }
      }


      if(!found ){
        var count &#x3D; utilInstance.countOccurrences(this.threading, this.threading[ndx.j]);
        if(this.threading[ndx.j] !&#x3D; -1 &amp;&amp; count &#x3D;&#x3D; 1){
          config.frame &#x3D; this.threading[ndx.j];
        }else{
          config.frame &#x3D; this.getEmptyFrame();
        }
      }

      return config;
    }






    updateConfig(config:LoomCoords):LoomUpdate{
      
      var updates:LoomUpdate &#x3D; {
        threading: [],
        treadling: [],
        tieup: []
      }


      //if this is within the existing frames
      if(config.frame &lt; this.num_frames){
        
        if(this.threading[config.ndx.j] !&#x3D; -1){
          updates.threading.push({i: this.threading[config.ndx.j], j: config.ndx.j, val: false});
        }

        this.threading[config.ndx.j] &#x3D; config.frame;
        updates.threading.push({i: config.frame, j: config.ndx.j, val: true});



      }else{
        
        //add a frame and then assign this to it
        this.threading[config.ndx.j] &#x3D; config.frame;
        updates.threading.push({i: config.frame, j: config.ndx.j, val: true})
        this.updateNumFramesFromThreading();
        this.resetFrameMapping(this.num_frames);
      }




      if(config.treadle &lt; this.num_treadles){
        if(this.treadling[config.ndx.i] !&#x3D; -1){
          updates.treadling.push({i: config.ndx.i, j: this.treadling[config.ndx.i], val: false});
          this.treadling[config.ndx.i] &#x3D; -1;

        }

        this.treadling[config.ndx.i] &#x3D; config.treadle;
        updates.treadling.push({i: config.ndx.i, j:  config.treadle, val: true});

      }else{


        this.treadling[config.ndx.i] &#x3D; config.treadle;
        updates.treadling.push({i: config.ndx.i, j:  config.treadle, val: true});

        //this.num_treadles &#x3D; (config.treadle+1);
        this.updateNumTreadlesFromTreadling();

      }

      //make the tieups match the size
      for(var i &#x3D; 0; i &lt; this.num_frames; i++){
        updates.tieup.push([]);
        for(var j &#x3D; 0; j &lt; this.num_treadles; j++){
          if(i &lt; this.tieup.length &amp;&amp; j &lt; this.tieup[0].length){
            updates.tieup[i][j] &#x3D; ({i: i, j:j, val: this.tieup[i][j]});
          }else if(i &lt; this.tieup.length &amp;&amp; j &gt;&#x3D; this.tieup[0].length){
            this.tieup[i][j] &#x3D; false;
            updates.tieup[i][j] &#x3D; ({i: i, j:j, val: false});
          }else if(i &gt;&#x3D; this.tieup.length &amp;&amp; j &lt; this.tieup[0].length){
            this.tieup[i] &#x3D; [];
            this.tieup[i][j] &#x3D; false;
            updates.tieup[i][j] &#x3D; ({i: i, j:j, val: false});
          }else{
            this.tieup[i] &#x3D; [];
            this.tieup[i][j] &#x3D; false;
            updates.tieup[i][j] &#x3D; ({i: i, j:j, val: false});
          }
        }
      }

      
      //look through each treadle, and see if the tie up needs to be updated
      for(var j &#x3D; 0; j &lt; this.num_treadles; j++){
          const idx &#x3D; this.treadling.findIndex(element &#x3D;&gt; element &#x3D;&#x3D;&#x3D; j);

        if(idx !&#x3D;&#x3D; -1){
            //clear the tieup associated with this treadle
            for(var i &#x3D; 0; i &lt; this.num_frames; i++){
                this.tieup[i][j] &#x3D; false;
                updates.tieup[i][j].val &#x3D; false; 
            }

            //iterate through the draft row in question and update tieups
            for(var jj &#x3D; 0; jj &lt; config.drawdown[idx].length; jj++){
              if(config.drawdown[idx][jj].isUp()){
                  var frame &#x3D; this.threading[jj];
                  this.tieup[frame][j] &#x3D; true;                  
                  updates.tieup[this.threading[jj]][j].val &#x3D; true; 
              }
            }
        }
      }

      return updates;

    }


/***
   * takes in an object describing where the change in loom took place and returns a list of affected rows and columns in the draw dow
   * @param i: the tieup frame, j: the tieup treadle, value: true or false
   * @returns (wefts: array of affected rows, warps: array of affected columns)
   */  
    getAffectedDrawdownPoints(obj){


          var active_thread_cols &#x3D; [];
          var active_tieup_rows &#x3D; [];
          var active_tieup_cols &#x3D; [];
          var active_treadle_rows &#x3D; [];


      //this is a point in the threading
      if(obj.frame !&#x3D;&#x3D; undefined &amp;&amp; obj.warp !&#x3D;&#x3D; undefined){
    


          //get any treadles that are connected to this frame in the tieup
          for(var j &#x3D; 0; j &lt; this.num_treadles; j++){
            if(this.tieup[obj.frame][j]){
              active_tieup_cols.push(j);
            }
          }
          for(var i &#x3D; 0; i &lt; this.treadling.length; i++){
            for(var t &#x3D; 0; t &lt; active_tieup_cols.length; t++){
              var treadle_id &#x3D; active_tieup_cols[t];
              if(this.treadling[i] &#x3D;&#x3D; treadle_id) active_treadle_rows.push(i); 
            }
          }          
          return {wefts: active_treadle_rows, warps: [obj.warp]};
      }

      //this is in the tie-up
      if(obj.frame !&#x3D;&#x3D; undefined &amp;&amp; obj.treadle !&#x3D;&#x3D; undefined){

          //get all 
          for(var i &#x3D; 0; i &lt; this.treadling.length; i++){
              if(this.treadling[i] &#x3D;&#x3D;&#x3D; obj.treadle) active_treadle_rows.push(i); 
          }

          for(var j &#x3D; 0; j &lt; this.threading.length; j++){
              if(this.threading[j] &#x3D;&#x3D;&#x3D; obj.frame) active_thread_cols.push(j);
               
          }
          return {wefts: active_treadle_rows, warps: active_thread_cols};
      }

      //this is an action within the treadling
      if(obj.treadle !&#x3D;&#x3D; undefined &amp;&amp; obj.weft !&#x3D;&#x3D; undefined){


          //whcih frames are associated with this treadle via tie up?
          for(var i &#x3D; 0; i &lt; this.tieup.length; i++){
            if(this.tieup[i][obj.treadle]){
              active_tieup_rows.push(i);
            }
          }


          //get the cells linked with these frames
          for(var ii &#x3D; 0; ii &lt; active_tieup_rows.length; ii++){
              for(var j &#x3D; 0; j &lt; this.threading.length; j++){
                if(this.threading[j] &#x3D;&#x3D; active_tieup_rows[ii]) active_thread_cols.push(j);
              }
          }


          return {wefts: [obj.weft], warps: active_thread_cols};
      }

       return {wefts:[], warps:[]};
    }


    
    inTieupRange(ndx: Interlacement):boolean{
      if(ndx.i &gt;&#x3D; 0 &amp;&amp; ndx.i &lt; this.tieup.length) return true;
      if(ndx.j &gt;&#x3D; 0 &amp;&amp; ndx.j &lt; this.tieup[0].length) return true;
      return false;
    }

    hasTieup(ndx: Interlacement):boolean{
      if(!this.inTieupRange(ndx)) return null;
      else return (this.tieup[ndx.i][ndx.j]); 

    }


    inThreadingRange(ndx: Interlacement):boolean{
      if(ndx.j &gt;&#x3D; 0 &amp;&amp; ndx.j &lt; this.threading.length) return true;
      if(ndx.i &gt;&#x3D; 0 &amp;&amp; ndx.i &lt; this.num_frames) return true;
      return false;
    }


    /**
     * checks if the given warp is assigned to the given frame
     * @param warp the warm in the draft
     * @param frame the frame in question
     * @returns null if out of range or true/false if it is in this warp
     */
    isInFrame(warp:number, frame:number):boolean{
      if(!this.inThreadingRange({i:frame, j:warp, si: -1})){
        return null;
      } 
      else return (this.threading[warp] &#x3D;&#x3D;&#x3D; frame); 

    }

    inTreadlingRange(ndx: Interlacement):boolean{
      if(ndx.j &gt;&#x3D; 0 &amp;&amp; ndx.j &lt; this.treadling.length) return true;
      if(ndx.i &gt;&#x3D; 0 &amp;&amp; ndx.i &lt; this.num_treadles) return true;
      return false;
    }

    /**
     * checks if the given weft is assigned to the given treadle
     * @param weft the weft in the draft
     * @param treadle the treadle in question
     * @returns null if out of range or true/false if it is in this weft
     */
    isInTreadle(weft:number, treadle:number):boolean{
      if(!this.inTreadlingRange({i: weft, j:treadle, si: -1})) return null;
      else return (this.treadling[weft] &#x3D;&#x3D;&#x3D; treadle); 
    }



    updateTieup(ndx: InterlacementVal): Array&lt;InterlacementVal&gt;{
       var updates:Array&lt;InterlacementVal&gt; &#x3D; [];
        this.tieup[ndx.i][ndx.j] &#x3D; ndx.val;
        updates.push({i:ndx.i, j:ndx.j, val:ndx.val});
        return updates;
    }



    /**
     * updates the therading given this interlacement val
     * @param ndx 
     * @returns a list of the updates made
     */
    updateThreading(ndx: InterlacementVal):Array&lt;InterlacementVal&gt;{
      var updates &#x3D; [];
      var frame &#x3D; this.threading[ndx.j];

      if(!this.inThreadingRange({i:ndx.i, j:ndx.j, si: -1})) return updates;

      //a new value is coming in
      if(ndx.val){

        //nothing is assigned to this frame, send an update to unset the pixel
        if(frame !&#x3D;&#x3D; -1) updates.push({i:frame, j: ndx.j, val:false});

        updates.push({i:ndx.i, j: ndx.j, val:ndx.val});

      }else{

        if(frame &#x3D;&#x3D;&#x3D; ndx.i){
          updates.push({i:ndx.i, j: ndx.j, val:ndx.val});
          this.threading[ndx.j] &#x3D; -1;
        }

      }
      
      return updates;
    }


    updateTreadling(ndx: InterlacementVal):Array&lt;InterlacementVal&gt;{
      var updates &#x3D; [];
      var treadle &#x3D; this.treadling[ndx.i];


      if(!this.inTreadlingRange({i:ndx.i, j:ndx.j, si: -1})) return updates;

      if(ndx.val){

        if(treadle !&#x3D;&#x3D; -1) updates.push({i:ndx.i, j: treadle, val:false});
        updates.push({i:ndx.i, j: ndx.j, val:true});
        this.treadling[ndx.i] &#x3D; ndx.j;

      }else{

        if(treadle &#x3D;&#x3D;&#x3D; ndx.j){
          updates.push({i:ndx.i, j: ndx.j, val:false});
          this.treadling[ndx.i] &#x3D; -1;
        }

      }

      return updates;

    }

    updateNumFramesFromThreading(){
      //sets num_frames from values in the threading draft
      var max &#x3D; -1;

      for(var j&#x3D; 0; j &lt; this.threading.length; j++){
        if(this.threading[j] &gt; max) max &#x3D; this.threading[j];
      }

      this.num_frames &#x3D; max + 1;
      if(this.num_frames &lt; this.min_frames) this.num_frames &#x3D; this.min_frames;
    }

    updateNumTreadlesFromTreadling(){
      //sets num_frames from values in the threading draft
      var max &#x3D; -1;
      for(var j&#x3D; 0; j &lt; this.treadling.length; j++){
        if(this.treadling[j] &gt; max) max &#x3D; this.treadling[j];
      }

      this.num_treadles &#x3D; max + 1;
      if(this.num_treadles &lt; this.min_treadles) this.num_treadles &#x3D; this.min_treadles;
    }



    clearTieupCol(i:number){
       for(var j &#x3D; 0; j &lt; this.tieup.length; j++){
            this.tieup[j][i] &#x3D; false;
        }
    }

    clearTieupRow(i:number){
       for(var j &#x3D; 0; j &lt; this.tieup[0].length; j++){
            this.tieup[i][j] &#x3D; false;
       }
    }
  


    /**
     * scans through the loom and reorients the assignments to condense into the minimum number of frames and columns
     * @param struct the array of threading/treadling to check
     * @param min the min number of this struct
     * @param num the current number used in this struct
     * @param type describes if it is threadling or threading
     * @returns boolean indicating whether or not condensing took place
     */
    updateUnused(struct:Array&lt;number&gt;, min:number, num:number, type:string):boolean{

        var status &#x3D; [];
        var zeros &#x3D; []; 
        var map &#x3D; [];        //map [new-index] &#x3D; old-index

        //first check if the frames/treadles are being used or not
        //push unusued frames to zero:
        for(var i &#x3D; 0; i &lt; num; i++){
          var occurances &#x3D; utilInstance.countOccurrences(struct, i);
          status[i] &#x3D; occurances;
          if(occurances &#x3D;&#x3D;&#x3D; 0) zeros.push(i);
        }

        
        //if all the frames/treadles have assignments- don&#x27;t do anything
        if(zeros.length &#x3D;&#x3D; 0) return false;
        
        //push non-zero rows in order to map first
        for(var i &#x3D; 0; i &lt; num; i++){
          if(utilInstance.countOccurrences(zeros, i) &#x3D;&#x3D; 0){
            map.push(i);
          }
        }

        //then add zero rows
        for(var i &#x3D; 0; i &lt; zeros.length; i++){
          map.push(zeros[i]);
        }

        var swap_happened &#x3D; false;
        var old_struct &#x3D; struct.slice();
        var old_tieup &#x3D; [];
        
        for(var i &#x3D; 0; i &lt; this.tieup.length; i++){
          old_tieup.push(this.tieup[i].slice());
        }

        
        //reassign the frames/treadles and tieup 
        for(var i &#x3D; 0; i &lt; map.length; i++){
          var new_ndx &#x3D; i; 
          var old_ndx &#x3D; map[i];

          if(new_ndx !&#x3D; old_ndx){

            swap_happened &#x3D; true;


            for(var j &#x3D; 0; j &lt; struct.length; j++){
              
              if(old_struct[j] &#x3D;&#x3D;&#x3D; old_ndx){ 
                struct[j] &#x3D; new_ndx;
              }
            }

            if(type &#x3D;&#x3D;&#x3D; &quot;threading&quot;){
              for(var j &#x3D; 0; j &lt; this.tieup[old_ndx].length; j++){
                this.tieup[new_ndx][j] &#x3D; old_tieup[old_ndx][j]; 
              }
            }else{
              for(var j &#x3D; 0; j &lt; this.tieup.length; j++){
                this.tieup[j][new_ndx] &#x3D; old_tieup[j][old_ndx];
              }
            }
          }
        }


        for(var i &#x3D; 0; i &lt; num; i++){

           var old_index &#x3D; map[i];

           if(status[old_index] &#x3D;&#x3D;&#x3D; 0){

              if(type &#x3D;&#x3D;&#x3D; &quot;threading&quot;){
                
                if(i &gt; (min-1)){
                  //delete a frame
                  //this.num_frames--;
                  this.updateNumFramesFromThreading();
                  this.resetFrameMapping(this.num_frames);
                  this.tieup.splice(i, 1);
                }else{
                  this.clearTieupRow(i);
                }

              } else{

                if(i &gt; (min-1)){
                  this.updateNumTreadlesFromTreadling();
                  //this.num_treadles--;
                  for(var j &#x3D; 0; j &lt; this.tieup.length; j++){
                    this.tieup[j].splice(i, 1);
                  }
                }else{
                  this.clearTieupCol(i)
                }
              }
           }
        }


        for(var i &#x3D; (num-1); i &gt; (min-1); i--){
           
           var old_index &#x3D; map[i];
           
           
           if(status[old_index] &#x3D;&#x3D;&#x3D; 0){
              if(type &#x3D;&#x3D;&#x3D; &quot;threading&quot;){
                //this.num_frames--;
                this.updateNumFramesFromThreading();
                this.resetFrameMapping(this.num_frames);
                this.tieup.splice(i, 1);

              } else{
                this.updateNumTreadlesFromTreadling();
                //this.num_treadles--;
                for(var j &#x3D; 0; j &lt; this.tieup.length; j++){
                  this.tieup[j].splice(i, 1);
                }
              }
           }
        }

        return (swap_happened || this.num_frames &lt; num);
  }

}//end class
</code></pre>
    </div>
</div>





                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
