<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>adacad-weaver documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">adacad-weaver documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">adacad-weaver documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/CoreModule.html" >CoreModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/MixerModule.html" >MixerModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/WeaverModule.html" >WeaverModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AboutModal.html" >AboutModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AboutModal.html" >AboutModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AppComponent.html" >AppComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConnectionComponent.html" >ConnectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConnectionModal.html" >ConnectionModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConnectionModal.html" >ConnectionModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DesignComponent.html" >DesignComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DesignComponent.html" >DesignComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/HistoryComponent.html" >HistoryComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/HistoryComponent.html" >HistoryComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InitModal.html" >InitModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InitModal.html" >InitModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LabelModal.html" >LabelModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LabelModal.html" >LabelModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoomComponent.html" >LoomComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoomComponent.html" >LoomComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MasksComponent.html" >MasksComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MasksComponent.html" >MasksComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialModal.html" >MaterialModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialModal.html" >MaterialModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MixerComponent.html" >MixerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NotesComponent.html" >NotesComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NotesComponent.html" >NotesComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OperationComponent.html" >OperationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PaletteComponent.html" >PaletteComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PatternModal.html" >PatternModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PatternModal.html" >PatternModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PatternsComponent.html" >PatternsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PatternsComponent.html" >PatternsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SchematicComponent.html" >SchematicComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SchematicComponent.html" >SchematicComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ShuttlesModal.html" >ShuttlesModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ShuttlesModal.html" >ShuttlesModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SnackbarComponent.html" >SnackbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SubdraftComponent.html" >SubdraftComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/UploadFormComponent.html" >UploadFormComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ViewComponent.html" >ViewComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ViewComponent.html" >ViewComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/WeaverComponent.html" >WeaverComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-code"></span>
                            <span>Directives</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-directives-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-directives-links"
                            >
                                <li class="link">
                                    <a href="../directives/SelectionComponent.html" >SelectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../directives/WeaveDirective.html" >WeaveDirective</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/AdaCADWeaverPage.html" >AdaCADWeaverPage</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Cell.html" >Cell</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Connection.html" >Connection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Connection.html" >Connection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Draft.html" >Draft</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Loom.html" >Loom</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Pattern.html" >Pattern</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Render.html" >Render</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Selection.html" >Selection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Shuttle.html" >Shuttle</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/System.html" >System</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Timeline.html" >Timeline</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Upload.html" >Upload</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Util.html" >Util</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/PatternService.html" >PatternService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/UploadService.html" >UploadService</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignMode.html" >DesignMode</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignModes.html" >DesignModes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DraftInterface.html" >DraftInterface</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/HistoryState.html" >HistoryState</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Interlacement.html" >Interlacement</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ToolModes.html"  class="active" >ToolModes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-plus"></span>
                            <span>Pipes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-pipes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-pipes-links"
                            >
                                <li class="link">
                                    <a href="../pipes/FilterPipe.html" >FilterPipe</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">adacad-weaver documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/CoreModule.html" >CoreModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/MixerModule.html" >MixerModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/WeaverModule.html" >WeaverModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AboutModal.html" >AboutModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AboutModal.html" >AboutModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AppComponent.html" >AppComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConnectionComponent.html" >ConnectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConnectionModal.html" >ConnectionModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConnectionModal.html" >ConnectionModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DesignComponent.html" >DesignComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DesignComponent.html" >DesignComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/HistoryComponent.html" >HistoryComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/HistoryComponent.html" >HistoryComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InitModal.html" >InitModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InitModal.html" >InitModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LabelModal.html" >LabelModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LabelModal.html" >LabelModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoomComponent.html" >LoomComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoomComponent.html" >LoomComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MasksComponent.html" >MasksComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MasksComponent.html" >MasksComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialModal.html" >MaterialModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialModal.html" >MaterialModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MixerComponent.html" >MixerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NotesComponent.html" >NotesComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NotesComponent.html" >NotesComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OperationComponent.html" >OperationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PaletteComponent.html" >PaletteComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PatternModal.html" >PatternModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PatternModal.html" >PatternModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PatternsComponent.html" >PatternsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PatternsComponent.html" >PatternsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SchematicComponent.html" >SchematicComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SchematicComponent.html" >SchematicComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ShuttlesModal.html" >ShuttlesModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ShuttlesModal.html" >ShuttlesModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SnackbarComponent.html" >SnackbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SubdraftComponent.html" >SubdraftComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/UploadFormComponent.html" >UploadFormComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ViewComponent.html" >ViewComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ViewComponent.html" >ViewComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/WeaverComponent.html" >WeaverComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-code"></span>
                                   <span>Directives</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#directives-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="directives-links"
                   >
                                       <li class="link">
                                           <a href="../directives/SelectionComponent.html" >SelectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../directives/WeaveDirective.html" >WeaveDirective</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/AdaCADWeaverPage.html" >AdaCADWeaverPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Cell.html" >Cell</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Connection.html" >Connection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Connection.html" >Connection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Draft.html" >Draft</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Loom.html" >Loom</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Pattern.html" >Pattern</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Render.html" >Render</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Selection.html" >Selection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Shuttle.html" >Shuttle</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/System.html" >System</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Timeline.html" >Timeline</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Upload.html" >Upload</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Util.html" >Util</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/PatternService.html" >PatternService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/UploadService.html" >UploadService</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignMode.html" >DesignMode</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignModes.html" >DesignModes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DraftInterface.html" >DraftInterface</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/HistoryState.html" >HistoryState</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Interlacement.html" >Interlacement</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ToolModes.html"  class="active" >ToolModes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-plus"></span>
                                   <span>Pipes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#pipes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="pipes-links"
                   >
                                       <li class="link">
                                           <a href="../pipes/FilterPipe.html" >FilterPipe</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content interface">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Interfaces</li>
  <li>ToolModes</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
    <li class="active">
        <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
    </li>
    <li>
        <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="infos">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/weaver/weaver.component.ts</code>
        </p>





            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>value</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>value:     <code>string</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>viewValue</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>viewValue:     <code>string</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>string</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
            </section>
    </div>
    <div class="tab-pane fade tab-source-code" id="source">
        <pre><code class="hljs javascript">import { Component, ElementRef, OnInit, OnDestroy, HostListener, ViewChild, ChangeDetectionStrategy } from &#x27;@angular/core&#x27;;
import {enableProdMode} from &#x27;@angular/core&#x27;;

import { PatternService } from &#x27;../core/provider/pattern.service&#x27;;
import { WeaveDirective } from &#x27;./directives/weave.directive&#x27;;
import { ScrollDispatcher } from &#x27;@angular/cdk/overlay&#x27;;
import { Timeline } from &#x27;../core/model/timeline&#x27;;
import { Draft } from &#x27;../core/model/draft&#x27;;
import { Render } from &#x27;../core/model/render&#x27;;
import { Pattern } from &#x27;../core/model/pattern&#x27;;
import { MatDialog, MatDialogConfig } from &quot;@angular/material/dialog&quot;;
import { ConnectionModal } from &#x27;./modal/connection/connection.modal&#x27;;
import { InitModal } from &#x27;./modal/init/init.modal&#x27;;
import { LabelModal } from &#x27;./modal/label/label.modal&#x27;;
import {Subject} from &#x27;rxjs&#x27;;
import {takeUntil} from &#x27;rxjs/operators&#x27;;
import {cloneDeep, now} from &#x27;lodash&#x27;;
import { Cell } from &#x27;../core/model/cell&#x27;;


//disables some angular checking mechanisms
//enableProdMode();


/**
 * Controller of the Weaver component.
 * @class
 */

interface LoomTypes {
  value: string;
  viewValue: string;
}

interface MaterialTypes {
  value: number;
  viewValue: string;
}

interface DensityUnits {
  value: string;
  viewValue: string;
}


interface ViewModes {
  value: string;
  viewValue: string;
}

interface ToolModes{
  value: string; 
  viewValue: string;
}

interface DesignActions{
  value: string;
  viewValue: string;
  icon: string;
}

interface DesignModes{
  value: string;
  viewValue: string;
  icon: string;
}



@Component({
  selector: &#x27;app-weaver&#x27;,
  templateUrl: &#x27;./weaver.component.html&#x27;,
  styleUrls: [&#x27;./weaver.component.scss&#x27;]
})
export class WeaverComponent implements OnInit {
  /**
   * The reference to the weave directive.
   * @property {WeaveDirective}
   */
  @ViewChild(WeaveDirective, {static: false}) weaveRef;
  @ViewChild(&#x27;bitmapImage&#x27;, {static: false}) bitmap;



  design_modes: DesignModes[]&#x3D;[
    {value: &#x27;toggle&#x27;, viewValue: &#x27;Toggle Heddle&#x27;, icon: &quot;fas fa-adjust&quot;},
    {value: &#x27;up&#x27;, viewValue: &#x27;Set Heddle Up&#x27;, icon: &quot;fas fa-square&quot;},
    {value: &#x27;down&#x27;, viewValue: &#x27;Set Heddle Down&#x27;, icon: &quot;far fa-square&quot;}
  ];

  
  //operations you can perform on a selection 
  design_actions: DesignActions[] &#x3D; [
    {value: &#x27;toggle&#x27;, viewValue: &#x27;Invert Region&#x27;, icon: &quot;fas fa-adjust&quot;},
    {value: &#x27;up&#x27;, viewValue: &#x27;Set Region Heddles Up&#x27;, icon: &quot;fas fa-square&quot;},
    {value: &#x27;down&#x27;, viewValue: &#x27;Set Region Heddles Down&#x27;, icon: &quot;far fa-square&quot;},
    {value: &#x27;flip_x&#x27;, viewValue: &#x27;Vertical Flip&#x27;, icon: &quot;fas fa-arrows-alt-v&quot;},
    {value: &#x27;flip_y&#x27;, viewValue: &#x27;Horizontal Flip&#x27;, icon: &quot;fas fa-arrows-alt-h&quot;},
    {value: &#x27;shift_left&#x27;, viewValue: &#x27;Shift 1 Warp Left&#x27;, icon: &quot;fas fa-arrow-left&quot;},
    {value: &#x27;shift_up&#x27;, viewValue: &#x27;Shift 1 Pic Up&#x27;, icon: &quot;fas fa-arrow-up&quot;},
    {value: &#x27;copy&#x27;, viewValue: &#x27;Copy Selected Region&#x27;, icon: &quot;fa fa-clone&quot;},
    {value: &#x27;paste&#x27;, viewValue: &#x27;Paste Copyed Pattern to Selected Region&#x27;, icon: &quot;fa fa-paste&quot;}
  ];

  /**
   * The name of the current selected brush.
   * @property {string}
   */
  design_mode &#x3D; {
    name:&#x27;toggle&#x27;,
    id: -1
  }

  /**
   * The weave Draft object.
   * @property {Draft}
   */
  draft: Draft;

 /**
   * The weave Render object.
   * @property {Render}
   */
  render: Render &#x3D; new Render(false);

 /**
   * The weave Timeline object.
   * @property {Render}
   */
  timeline: Timeline &#x3D; new Timeline();


  /**
  The current selection, as boolean array 
  **/
  copy: Array&lt;Array&lt;boolean&gt;&gt;;


 /**
   * The types of looms this version will support.
   * @property {LoomType}
   */
  loomtypes: LoomTypes[] &#x3D; [
    {value: &#x27;frame&#x27;, viewValue: &#x27;Shaft&#x27;},
    {value: &#x27;jacquard&#x27;, viewValue: &#x27;Jacquard&#x27;}
  ];


  material_types: MaterialTypes[] &#x3D; [
    {value: 0, viewValue: &#x27;Non-Conductive&#x27;},
    {value: 1, viewValue: &#x27;Conductive&#x27;},
    {value: 2, viewValue: &#x27;Resistive&#x27;}
  ];

  density_units: DensityUnits[] &#x3D; [
    {value: &#x27;in&#x27;, viewValue: &#x27;Ends per Inch&#x27;},
    {value: &#x27;cm&#x27;, viewValue: &#x27;Ends per 10cm &#x27;}
  ];

  view_modes: ViewModes[] &#x3D; [
      {value: &#x27;visual&#x27;, viewValue: &#x27;Visual&#x27;},
      {value: &#x27;pattern&#x27;, viewValue: &#x27;Draft&#x27;},
      {value: &#x27;yarn&#x27;, viewValue: &#x27;Circuit&#x27;}
     // {value: &#x27;mask&#x27;, viewValue: &#x27;Masks&#x27;}

    ];





  /**
   * The list of all patterns saved. Provided by pattern service.
   * @property {Array&lt;Pattern&gt;}
   */
  //patterns;


  selected;

  private unsubscribe$ &#x3D; new Subject();

  default_patterns:any;
  collapsed:boolean &#x3D; false;
  dims:any;

  draftelement:any;
  scrollingSubscription: any;

  /// ANGULAR FUNCTIONS
  /**
   * @constructor
   * ps - pattern service (variable name is initials). Subscribes to the patterns and used
   * to get and update stitches.
   * dialog - Anglar Material dialog module. Used to control the popup modals.
   */
  constructor(private ps: PatternService, private dialog: MatDialog, public scroll: ScrollDispatcher) {


    this.scrollingSubscription &#x3D; this.scroll
          .scrolled()
          .subscribe((data: any) &#x3D;&gt; {
            this.onWindowScroll(data);
    });


    //initialize with a draft so that we can load some things faster. 
    let d &#x3D;  this.getDraftFromLocalStore();
    
    this.copy &#x3D; [[false,true],[false,true]];



    if(d !&#x3D;&#x3D; undefined)

    this.draft &#x3D; new Draft(JSON.parse(d));
    this.draft.name &#x3D; this.draft.name;
    this.timeline.addHistoryState(this.draft);
    
    this.default_patterns &#x3D; [];


    this.ps.getPatterns().subscribe((res) &#x3D;&gt; {
       for(var i in res.body){
          this.default_patterns.push(res.body[i]);
       }
    }); 

    this.render.view_frames &#x3D; (this.draft.loom.type &#x3D;&#x3D;&#x3D; &#x27;frame&#x27;) ? true : false;     
    if (this.draft.patterns &#x3D;&#x3D;&#x3D; undefined) this.draft.patterns &#x3D; this.default_patterns;

  }

  private onWindowScroll(data: any) {
    this.weaveRef.rescale();
  }



  reInit(result){
    console.log(&quot;reinit&quot;);

    this.draft.reload(result);
    this.timeline.addHistoryState(this.draft);

    this.render.view_frames &#x3D; (this.draft.loom.type &#x3D;&#x3D;&#x3D; &#x27;frame&#x27;) ? true : false;     

    if (this.draft.patterns &#x3D;&#x3D;&#x3D; undefined) this.draft.patterns &#x3D; this.default_patterns;
    

    this.weaveRef.onNewDraftLoaded();


    this.weaveRef.redraw({
      drawdown: true, 
      loom:true, 
      warp_systems: true, 
      weft_systems: true, 
      warp_materials: true,
      weft_materials:true
    });

    this.weaveRef.rescale();

  }
  
  ngOnInit(){
    
  }

  ngAfterViewInit() {

  
    const dialogRef &#x3D; this.dialog.open(InitModal, {
      data: {loomtypes: this.loomtypes, density_units: this.density_units}
    });


    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if(result !&#x3D;&#x3D; undefined) this.reInit(result);
   });


    this.weaveRef.onNewDraftLoaded();

    this.weaveRef.redraw({
      drawdown: true, 
      loom:true, 
      warp_systems: true, 
      weft_systems: true, 
      warp_materials: true,
      weft_materials:true
    });

    this.weaveRef.rescale();
  
    
  }


  ngOnDestroy(): void {
    this.unsubscribe$.next();
    this.unsubscribe$.complete();
  }

  undo() {
    let d: Draft &#x3D; this.timeline.restorePreviousHistoryState();
    console.log(&quot;Prevous State is &quot;, d);
    if(d &#x3D;&#x3D;&#x3D; undefined || d &#x3D;&#x3D;&#x3D; null) return;

    this.draft.reload(d);    
    this.weaveRef.onNewDraftLoaded();
    this.weaveRef.redraw({
      drawdown: true, 
      loom:true, 
      warp_systems: true, 
      weft_systems: true, 
      warp_materials: true,
      weft_materials:true
    });

    this.weaveRef.rescale(); 
  }

  redo() {
    let d: Draft &#x3D; this.timeline.restoreNextHistoryState();
    console.log(&quot;Next State is &quot;, d);

    if(d &#x3D;&#x3D;&#x3D; undefined || d &#x3D;&#x3D;&#x3D; null) return;

    console.log(d);

    this.draft.reload(d);    
    this.weaveRef.onNewDraftLoaded();
    this.weaveRef.redraw({
      drawdown: true, 
      loom:true, 
      warp_systems: true, 
      weft_systems: true, 
      warp_materials: true,
      weft_materials:true
    });

    this.weaveRef.rescale(); 
  }

  /// EVENTS




/**
   * Call zoom in on Shift+p.
   * @extends WeaveComponent
   * @param {Event} shift+p
   * @returns {void}
   */
  @HostListener(&#x27;window:keydown.Shift.p&#x27;, [&#x27;$event&#x27;])
  private keyEventZoomIn(e) {
    console.log(&quot;zoom in&quot;);
    this.render.zoomIn();
    this.weaveRef.rescale();


  }
/**
   * Call zoom out on Shift+o.
   * @extends WeaveComponent
   * @param {Event} shift+o
   * @returns {void}
   */
  @HostListener(&#x27;window:keydown.Shift.o&#x27;, [&#x27;$event&#x27;])
  private keyEventZoomOut(e) {
    console.log(&quot;zoom out&quot;);
    this.render.zoomOut();
    this.weaveRef.rescale();
  }


  /**
   * Sets selected area to clear
   * @extends WeaveComponent
   * @param {Event} delete key pressed
   * @returns {void}
   */

  @HostListener(&#x27;window:keydown.e&#x27;, [&#x27;$event&#x27;])
  private keyEventErase(e) {
    this.design_mode &#x3D; {
      name: &#x27;down&#x27;,
      id: -1
    };
    this.weaveRef.unsetSelection();

  }

  /**
   * Sets brush to point on key control + d.
   * @extends WeaveComponent
   * @param {Event} e - Press Control + d
   * @returns {void}
   */
  @HostListener(&#x27;window:keydown.d&#x27;, [&#x27;$event&#x27;])
  private keyEventPoint(e) {
    this.design_mode &#x3D; {
      name: &#x27;up&#x27;,
      id: -1};
    this.weaveRef.unsetSelection();

  }

  /**
   * Sets brush to select on key control + s
   * @extends WeaveComponent
   * @param {Event} e - Press Control + s
   * @returns {void}
   */
  @HostListener(&#x27;window:keydown.s&#x27;, [&#x27;$event&#x27;])
  private keyEventSelect(e) {
    this.design_mode &#x3D; {
      name: &#x27;select&#x27;,
      id: -1};
    this.weaveRef.unsetSelection();

  }

  /**
   * Sets key control to invert on control + x
   * @extends WeaveComponent
   * @param {Event} e - Press Control + x
   * @returns {void}
   */
  @HostListener(&#x27;window:keydown.x&#x27;, [&#x27;$event&#x27;])
  private keyEventInvert(e) {
    this.design_mode &#x3D; {
      name: &#x27;toggle&#x27;,
      id: -1
    };
    this.weaveRef.unsetSelection();

  }

  /**
   * Sets key to copy 
   * @extends WeaveComponent
   * @param {Event} e - Press Control + x
   * @returns {void}
   */
  // @HostListener(&#x27;window:keydown.c&#x27;, [&#x27;$event&#x27;])
  // private keyEventCopy(e) {
  //   this.onCopy();  
  // }

    /**
   * Sets key to copy 
   * @extends WeaveComponent
   * @param {Event} e - Press Control + x
   * @returns {void}
   */
  @HostListener(&#x27;window:keydown.p&#x27;, [&#x27;$event&#x27;])
  private keyEventPaste(e) {
    this.onPaste({});
  }

  /**
   * Updates the canvas based on the weave view.
   * @extends WeaveComponent
   * @param {Event} e - view change event from design component.
   * @returns {void}
   */
  public viewChange(value: any) {
    
    this.render.setCurrentView(value);

    if(this.render.isYarnBasedView()) this.draft.computeYarnPaths();

    this.weaveRef.redraw({
      drawdown: true
    });
  }

  /**
   * Change the name of the brush to reflect selected brush.
   * @extends WeaveComponent
   * @param {Event} e - brush change event from design component.
   * @returns {void}
   */
  public onDesignModeChange(e:any) {

    this.design_mode &#x3D; {
      name: e.name,
      id: e.id
    }

    console.log(&quot;design mode&quot;, this.design_mode.name, this.design_mode.id);
    this.weaveRef.unsetSelection();

  }

  /**
   * Tell the weave directive to fill selection with pattern.
   * @extends WeaveComponent
   * @param {Event} e - fill event from design component.
   * @returns {void}
   */
  public onFill(e) {
    
    var p &#x3D; this.draft.patterns[e.id].pattern;
    
    this.draft.fillArea(this.weaveRef.selection, p, &#x27;original&#x27;);

    if(this.render.showingFrames()) this.draft.recomputeLoom();

    if(this.render.isYarnBasedView()) this.draft.computeYarnPaths();
    
    this.weaveRef.redraw({drawdown:true, loom:true});

    this.timeline.addHistoryState(this.draft);
    
  }

  /**
   * Tell weave reference to clear selection.
   * @extends WeaveComponent
   * @param {Event} Delte - clear event from design component.
   * @returns {void}
   */
  public onClear(b:boolean) {
    
    const c: Cell &#x3D; new Cell(b);

    this.draft.fillArea(this.weaveRef.selection, [[c]], &#x27;original&#x27;)

    if(this.render.showingFrames()) this.draft.recomputeLoom();

    if(this.render.isYarnBasedView()) this.draft.computeYarnPaths();

    this.weaveRef.copyArea();

    this.weaveRef.redraw({drawdown:true, loom:true});

    this.timeline.addHistoryState(this.draft);

  }

  public onScroll(){
    console.log(&quot;I has scroll&quot;);
  }

  /**
   * Weave reference masks pattern over selected area.
   * @extends WeaveComponent
   * @param {Event} e - mask event from design component.
   * @returns {void}
   */
  public onMask(e) {
    // console.log(e);
    // var p &#x3D; this.draft.patterns[e.id].pattern;
    // this.weaveRef.maskArea(p);
    // this.redraw();
  }

  /**
   * Tells weave reference to paste copied pattern.
   * @extends WeaveComponent
   * @param {Event} e - paste event from design component.
   * @returns {void}
   */
  public onPaste(e) {

    var p &#x3D; this.weaveRef.copy;


    var type;

    if(e.type &#x3D;&#x3D;&#x3D; undefined) type &#x3D; &quot;original&quot;;
    else type &#x3D;  e.type;

    this.draft.fillArea(this.weaveRef.selection, p, type);

    if(this.render.showingFrames()) this.draft.recomputeLoom();
    
    if(this.render.isYarnBasedView()) this.draft.computeYarnPaths();

    this.timeline.addHistoryState(this.draft);

    this.weaveRef.copyArea();

    this.weaveRef.redraw({drawdown:true, loom:true, weft_materials: true, warp_materials:true, weft_systems:true, warp_systems:true});
 

  }

  /**
   * Creates the copied pattern within the weave reference
   * @extends WeaveComponent
   * @param {Event} e - copy event from design component.
   * @returns {void}
   */
  public onCopy() {

    console.log(&quot;on copy&quot;, this.copy);

    this.design_mode &#x3D; {
      name: &#x27;copy&#x27;,
      id: -1
    };
  }

  /**
   *
   *
   */
  public onSave(e: any) {

    e.bitmap &#x3D; this.bitmap;
    console.log(e);

    if (e.type &#x3D;&#x3D;&#x3D; &quot;bmp&quot;) this.weaveRef.saveBMP(e.name, e);
    else if (e.type &#x3D;&#x3D;&#x3D; &quot;ada&quot;) this.weaveRef.saveADA(e.name, e);
    else if (e.type &#x3D;&#x3D;&#x3D; &quot;wif&quot;) this.weaveRef.saveWIF(e.name, e);
    else if (e.type &#x3D;&#x3D;&#x3D; &quot;jpg&quot;) this.weaveRef.savePrintableDraft(e.name, e);
    
  }

  /**
   * Open the connection modal.
   * @extends WeaveComponent
   * @returns {void}
   */
  public openConnectionDialog() {

    const dialogRef &#x3D; this.dialog.open(ConnectionModal, {data: {shuttles: this.draft.shuttles}});

    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if (result) {
        this.draft.connections.push(result);
      }
    });
  }


  /**
   * Open the label modal.
   * @extends WeaveComponent
   * @returns {void}
   */
  public openLabelDialog() {

    const dialogRef &#x3D; this.dialog.open(LabelModal);

    dialogRef.afterClosed().subscribe(result &#x3D;&gt; {
      if (result) {
        console.log(result);
      }
    });
  }



  /// PUBLIC FUNCTIONS
  /**
   * 
   * @extends WeaveComponent
   * @returns {void}
   */
  public print(e) {
    console.log(e);
  }

  /**
   * Inserts an empty row on system, system
   */
  public shuttleColorChange() {
    this.weaveRef.redraw({drawdown: true, warp_materials:true,  weft_materials:true});
    this.timeline.addHistoryState(this.draft);
  }

  /**
   * Inserts an empty row on system, system
   */
  public insertRow(i, shuttle, system) {

    this.draft.insertRow(i, shuttle, system);
    //this.draft.updateConnections(i, 1);
    
    this.weaveRef.redraw({drawdown: true, loom:true, weft_systems: true, weft_materials:true});
    this.timeline.addHistoryState(this.draft);

  }

  public cloneRow(i, c, shuttle, system) {
    this.draft.cloneRow(i, c, shuttle, system);
   // this.draft.updateConnections(i, 1);

    this.weaveRef.redraw({drawdown: true, loom:true, weft_systems: true, weft_materials:true});
    this.timeline.addHistoryState(this.draft);

  }

  public deleteRow(i) {
    this.draft.deleteRow(i);
   // this.draft.updateConnections(i, -1);
    this.weaveRef.redraw({drawdown: true, loom:true, weft_systems: true, weft_materials:true});
    this.timeline.addHistoryState(this.draft);

    //this.onAddRow.emit();
  }

    /**
   * In
   * @extends WeaveComponent
   * @returns {void}
   */
  public insertCol(i, shuttle,system) {
    this.draft.insertCol(i, shuttle,system);
    this.weaveRef.redraw({drawdown: true, loom:true, warp_systems: true, warp_materials:true});
    this.draft.computeYarnPaths();
    this.timeline.addHistoryState(this.draft);

  }

  public cloneCol(i, shuttle,system) {
    this.draft.cloneCol(i, shuttle,system);
    this.weaveRef.redraw({drawdown: true, loom:true, warp_systems: true, warp_materials:true});
    this.draft.computeYarnPaths();
    this.timeline.addHistoryState(this.draft);

  }


  public deleteCol(i) {
    this.draft.deleteCol(i);
    //this.draft.updateConnections(i, -1);
    this.weaveRef.redraw({drawdown: true, loom:true, warp_systems: true, warp_materials:true});
    this.draft.computeYarnPaths();
    this.timeline.addHistoryState(this.draft);


  }

  public updatePatterns(e: any) {
    // this.patterns &#x3D; e.patterns;
    // this.draft.patterns &#x3D; this.patterns;
    this.draft.patterns &#x3D; e.patterns;

  }

  public updateWarpSystems(pattern: Array&lt;number&gt;) {
    console.log(&quot;update warp sys&quot;, pattern);
    this.draft.updateWarpSystemsFromPattern(pattern);
    this.weaveRef.redraw({drawdown: true, warp_systems: true});

  }

  public updateWeftSystems(pattern: Array&lt;number&gt;) {
    console.log(&quot;update weft sys&quot;, pattern);

    this.draft.updateWeftSystemsFromPattern(pattern);
    this.weaveRef.redraw({drawdown: true, weft_systems: true});

  }

  public updateWarpShuttles(pattern: Array&lt;number&gt;) {
    console.log(&quot;update warp shut&quot;, pattern);

    this.draft.updateWarpShuttlesFromPattern(pattern);
    this.weaveRef.redraw({drawdown: true, warp_materials: true});

  }

  public updateWeftShuttles(pattern: Array&lt;number&gt;) {
    console.log(&quot;update weft shutf&quot;, pattern);

    this.draft.updateWeftShuttlesFromPattern(pattern);
    this.draft.computeYarnPaths();
    this.weaveRef.redraw({drawdown: true, weft_materials: true});

  }

  // public createMaterial(e: any) {
  //   this.draft.addMaterial(e.material); 
  //   this.weaveRef.redraw();
  // }

  public createShuttle(e: any) {
    this.draft.addShuttle(e.shuttle); 
  }

  public createWarpSystem(e: any) {
    this.draft.addWarpSystem(e.system);
  }

  public createWeftSystem(e: any) {
    this.draft.addWarpSystem(e.system);
  }

  public hideWarpSystem(e:any) {
    
    this.weaveRef.redraw({drawdown: true, loom:true, warp_systems: true, warp_materials:true});
  }

  public showWarpSystem(e:any) {

    this.weaveRef.redraw({drawdown: true, loom:true, warp_systems: true, warp_materials:true});
  }  

  public hideWeftSystem(e:any) {
   
    this.draft.updateVisible();
    
    this.weaveRef.redraw({drawdown: true, loom:true, weft_systems: true, weft_materials:true});
  }

  public showWeftSystem(e:any) {

    this.draft.updateVisible();

    this.weaveRef.redraw({drawdown: true, loom:true, weft_systems: true, weft_materials:true});
  }


  public notesChanged(e:any) {

    console.log(e);
   this.draft.notes &#x3D; e;
  }

  // public hideShuttle(e:any) {
  //   this.draft.updateVisible();
  //   this.weaveRef.redraw();
  //   this.weaveRef.redrawLoom();
  // }

  // public showShuttle(e:any) {
  //   this.draft.updateVisible();
  //   this.weaveRef.redraw();
  //   this.weaveRef.redrawLoom();
  // }

  public epiChange(e:any){
    this.draft.epi &#x3D; e.epi;
    this.draft.recomputeWidth();
  }

  public unitChange(e:any){
    this.draft.units &#x3D; e.units;
    this.draft.recomputeWidth();    

  }

  public thicknessChange(e:any){

    if(this.render.isYarnBasedView()) this.weaveRef.redraw({drawdown: true});
  }


  public loomChange(e:any){
    
    this.draft.loom.type &#x3D; e.loomtype;

    if(this.draft.loom.type &#x3D;&#x3D; &#x27;jacquard&#x27;){
      this.render.view_frames &#x3D; false;
    }else{
      this.render.view_frames &#x3D; true;
      this.weaveRef.recomputeLoom();
    }
    
    this.weaveRef.redraw({loom: true});

  }

  public frameChange(e:any){
    this.draft.loom.setMinFrames(e.value);
    this.weaveRef.redraw({loom: true});
  }

  public treadleChange(e:any){
    this.draft.loom.setMinTreadles(e.value);
    this.weaveRef.redraw({loom: true});
  }


  public warpNumChange(e:any) {
    if(e.warps &#x3D;&#x3D; &quot;&quot;) return;

    if(e.warps &gt; this.draft.warps){
      var diff &#x3D; e.warps - this.draft.warps;
      
      for(var i &#x3D; 0; i &lt; diff; i++){  
         this.draft.insertCol(i, 0,0);
      }
    }else{
      var diff &#x3D; this.draft.warps - e.warps;
      for(var i &#x3D; 0; i &lt; diff; i++){  
        this.draft.deleteCol(this.draft.warps-1);
      }

    }

    this.draft.recomputeWidth();

    this.timeline.addHistoryState(this.draft);

    if(this.render.isYarnBasedView()) this.draft.computeYarnPaths();

    this.weaveRef.redraw({drawdown: true, loom: true, warp_systems: true, warp_materials:true});

  }

  public weftNumChange(e:any) {
  
    if(e.wefts &#x3D;&#x3D;&#x3D; &quot;&quot; || e.wefts &#x3D;&#x3D;&quot;null&quot;) return;

    if(e.wefts &gt; this.draft.wefts){
      var diff &#x3D; e.wefts - this.draft.wefts;
      
      for(var i &#x3D; 0; i &lt; diff; i++){  
        this.draft.insertRow(e.wefts+i, 0, 0);
      }
    }else{
      var diff &#x3D; this.draft.wefts - e.wefts;
      for(var i &#x3D; 0; i &lt; diff; i++){  
        this.draft.deleteRow(this.draft.wefts-1);
      }

    }

    this.timeline.addHistoryState(this.draft);

    if(this.render.isYarnBasedView()) this.draft.computeYarnPaths();

    this.weaveRef.redraw({drawdown: true, loom: true, warp_systems: true, warp_materials:true});


  }

  public createPattern(e: any) {
    // e.pattern.id &#x3D; this.patterns.length;
    // this.patterns.push(e.pattern);
    // this.draft.patterns &#x3D; this.patterns;
    e.pattern.id &#x3D; this.draft.patterns.length;
    this.draft.patterns.push(e.pattern);
  }


//should this just hide the pattern or fully remove it, could create problems with undo/redo
   public removePattern(e: any) {
    this.draft.patterns &#x3D; this.draft.patterns.filter(pattern &#x3D;&gt; pattern !&#x3D;&#x3D; e.pattern);
  }


  public updateSelection(e:any){
    this.copy &#x3D; e;
  }


  public toggleViewFrames(){

    this.render.toggleViewFrames();

    if(this.render.view_frames &amp;&amp; this.draft.loom.type &#x3D;&#x3D; &quot;frame&quot;){
      this.weaveRef.recomputeLoom();
    }

    this.weaveRef.redraw({loom:true});
   
  }

  public renderChange(e: any){
     
     if(e.source &#x3D;&#x3D;&#x3D; &quot;slider&quot;){
        this.render.setZoom(e.value);
        this.weaveRef.rescale();

     } 

     if(e.source &#x3D;&#x3D;&#x3D; &quot;in&quot;){
        this.render.zoomIn();
        this.weaveRef.rescale();

     } 

     if(e.source &#x3D;&#x3D;&#x3D; &quot;out&quot;){
        this.render.zoomOut();
        this.weaveRef.rescale();

     } 
     if(e.source &#x3D;&#x3D;&#x3D; &quot;front&quot;){
        this.render.setFront(e.checked);
        this.weaveRef.redraw({drawdown:true});
     }      
  }

  public toggleCollapsed(){
    this.collapsed &#x3D; !this.collapsed;
  }






//careful! calling this from console will clear all data in local storage
public clearLocalStorage(){

  var total &#x3D; 0;
  for(var x in localStorage) {
    localStorage.removeItem(x);
  }
  console.log( &quot;LOCAL STORAGE CLEARED&quot;);
  console.log(&quot;local storage size now &quot;+localStorage.length);
}


//call this from console when you want to write a file of the data
public downloadLocalStorage(){
  // let d_log &#x3D; loadRawLog();

  // let oldest_stamp &#x3D; d_log[0].timestamp;
  //   let newest_stamp &#x3D;   d_log[0].timestamp


  // for(var d in d_log){
  //   if(d_log[d].timestamp &gt; newest_stamp) newest_stamp &#x3D; d_log[d].timestamp;
  //   if(d_log[d].timestamp &lt; oldest_stamp) oldest_stamp &#x3D; d_log[d].timestamp;
  // }

  //   console.log(oldest_stamp, newest_stamp);
  // let writer &#x3D; createWriter(oldest_stamp+&quot;_&quot;+newest_stamp+&quot;.csv&quot;);
  // writer.write([&quot;timestamp&quot;, &quot;region&quot;, &quot;value&quot;]);
  // writer.write(&#x27;\n&#x27;);

  // for(var d in d_log){
  //   writer.write([d_log[d].timestamp, d_log[d].region, d_log[d].value]);
  //   writer.write(&#x27;\n&#x27;);
  // }
  // writer.close();


}


public getDraftFromLocalStore() : string{
  var aValue &#x3D; localStorage.getItem(&quot;draft&quot;);
  return aValue;
}

//load raw log into memory so we can process it for the visualization
//this will be called once everytime we switch into vis mode, though log entries may be
//accumulated in the backgroudn that won&#x27;t affect this
public loadRawLog(){
  //clear the log so we can load it fresh
  // console.log(Date.now());

   var d_log &#x3D; [];
  // //console.log(localStorage.length);

  // for(var x in localStorage) {
  //   if(typeof(localStorage[x]) &#x3D;&#x3D; &quot;string&quot;){
  //     time_region &#x3D; split(x, &quot;:&quot;)
  //     value &#x3D; localStorage[x];

  //     d_log.push({
  //     timestamp: time_region[0],
  //     region: time_region[1],
  //     value: value}
  //   );
  //   }
  // }

  return d_log;

}



}
</code></pre>
    </div>
</div>




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
