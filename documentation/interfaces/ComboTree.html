<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>adacad documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	    <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">adacad documentation</a>
            <button type="button" class="btn btn-default btn-menu fa fa-bars" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
            <div id="book-search-input" role="search">
                <input type="text" placeholder="Type to search">
            </div>
            <nav>
            
                <ul class="list">
            
                    <li class="title">
                        <a href="../">adacad documentation</a>
                    </li>
            
                    <li class="divider"></li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                        <ul class="links">
                                <li class="link">
                                    <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                </li>
                                <li class="link">
                                    <a 
                                        
                                         href="../overview.html" 
                                         href="../overview.html" 
                                        >
                                        <span class="fa fa-th"></span>Overview
                                    </a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="./modules.html" >
                            <span class="fa fa-archive"></span>
                            <span>Modules</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-modules-links"
                            ></span>
                        </a>
                        <ul class="links collapse in"
                                id="xs-modules-links"
                            >
                                <li class="link">
                                    <a href="../modules/AppModule.html" >AppModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/CoreModule.html" >CoreModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/DraftDetailModule.html" >DraftDetailModule</a>
                                </li>
                                <li class="link">
                                    <a href="../modules/MixerModule.html" >MixerModule</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-cogs"></span>
                            <span>Components</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-components-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-components-links"
                            >
                                <li class="link">
                                    <a href="../components/AboutModal.html" >AboutModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ActionsComponent.html" >ActionsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/AppComponent.html" >AppComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/BlankdraftModal.html" >BlankdraftModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ConnectionComponent.html" >ConnectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/CrosssectionComponent.html" >CrosssectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DesignComponent.html" >DesignComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DraftDetailComponent.html" >DraftDetailComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/DraftviewerComponent.html" >DraftviewerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ExamplesComponent.html" >ExamplesComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/FilebrowserComponent.html" >FilebrowserComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ImageComponent.html" >ImageComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InitModal.html" >InitModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/InletComponent.html" >InletComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoadfileComponent.html" >LoadfileComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoginComponent.html" >LoginComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/LoomModal.html" >LoomModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialModal.html" >MaterialModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MixerComponent.html" >MixerComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/MixerViewComponent.html" >MixerViewComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/NoteComponent.html" >NoteComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OpHelpModal.html" >OpHelpModal</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OperationComponent.html" >OperationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/OpsComponent.html" >OpsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/PaletteComponent.html" >PaletteComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ParameterComponent.html" >ParameterComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/ProfileComponent.html" >ProfileComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/QuickopComponent.html" >QuickopComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SelectionComponent.html" >SelectionComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SidebarComponent.html" >SidebarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SignupComponent.html" >SignupComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SimulationComponent.html" >SimulationComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SnackbarComponent.html" >SnackbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SubdraftComponent.html" >SubdraftComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/UploadFormComponent.html" >UploadFormComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../components/WeaverViewComponent.html" >WeaverViewComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-code"></span>
                            <span>Directives</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-directives-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-directives-links"
                            >
                                <li class="link">
                                    <a href="../directives/KeycodesDirective.html" >KeycodesDirective</a>
                                </li>
                                <li class="link">
                                    <a href="../directives/MarqueeComponent.html" >MarqueeComponent</a>
                                </li>
                                <li class="link">
                                    <a href="../directives/SelectionComponent.html" >SelectionComponent</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-file-code-o"></span>
                            <span>Classes</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-classes-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-classes-links"
                            >
                                <li class="link">
                                    <a href="../classes/AdaCADWeaverPage.html" >AdaCADWeaverPage</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/MyErrorStateMatcher.html" >MyErrorStateMatcher</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Selection.html" >Selection</a>
                                </li>
                                <li class="link">
                                    <a href="../classes/Util.html" >Util</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-long-arrow-down"></span>
                            <span>Injectables</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-injectables-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-injectables-links"
                            >
                                <li class="link">
                                    <a href="../injectables/AuthService.html" >AuthService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/CollectionService.html" >CollectionService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ExampleserviceService.html" >ExampleserviceService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/FabricssimService.html" >FabricssimService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/FileService.html" >FileService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/FilesystemService.html" >FilesystemService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ImageService.html" >ImageService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/InkService.html" >InkService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/LayersService.html" >LayersService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/MaterialsService.html" >MaterialsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/MultiselectService.html" >MultiselectService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/NotesService.html" >NotesService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/OperationDescriptionsService.html" >OperationDescriptionsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/OperationService.html" >OperationService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/PatternfinderService.html" >PatternfinderService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/RenderService.html" >RenderService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/SimulationService.html" >SimulationService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/StateService.html" >StateService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/SystemsService.html" >SystemsService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/TreeService.html" >TreeService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/UploadService.html" >UploadService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/VaeService.html" >VaeService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/VersionService.html" >VersionService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ViewportService.html" >ViewportService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/WorkspaceService.html" >WorkspaceService</a>
                                </li>
                                <li class="link">
                                    <a href="../injectables/ZoomService.html" >ZoomService</a>
                                </li>
                        </ul>
                    </li>
            
                    <li class="chapter">
                        <div class="simple">
                            <span class="fa fa-info"></span>
                            <span>Interfaces</span>
                            <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                    data-target="#xs-interfaces-links"
                                ></span>
                        </div>
                        <ul class="links collapse in"
                                id="xs-interfaces-links"
                            >
                                <li class="link">
                                    <a href="../interfaces/AnalyzedImage.html" >AnalyzedImage</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Bounds.html" >Bounds</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Cell.html" >Cell</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ComboNode.html" >ComboNode</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ComboTree.html"  class="active" >ComboTree</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DesignMode.html" >DesignMode</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Draft.html" >Draft</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DraftMap.html" >DraftMap</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/DraftNodeProxy.html" >DraftNodeProxy</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FileObj.html" >FileObj</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/FileSaver.html" >FileSaver</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Fileloader.html" >Fileloader</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/HistoryState.html" >HistoryState</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/IOTuple.html" >IOTuple</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Ink.html" >Ink</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Interlacement.html" >Interlacement</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/InterlacementVal.html" >InterlacementVal</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Item.html" >Item</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoadResponse.html" >LoadResponse</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Material.html" >Material</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MaterialMap.html" >MaterialMap</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Model.html" >Model</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/NodeComponentProxy.html" >NodeComponentProxy</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Note.html" >Note</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/OpComponentProxy.html" >OpComponentProxy</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/OpInput.html" >OpInput</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/OpParamVal.html" >OpParamVal</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/OperationClassification.html" >OperationClassification</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Point.html" >Point</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/SaveObj.html" >SaveObj</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/StatusMessage.html" >StatusMessage</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/System.html" >System</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/TreeNode.html" >TreeNode</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/TreeNodeProxy.html" >TreeNodeProxy</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/Upload.html" >Upload</a>
                                </li>
                                <li class="link">
                                    <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                </li>
                        </ul>
                    </li>
            
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                    </li>
            
                    <li class="chapter">
                        <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                    </li>
            
                    <li class="divider"></li>
                    <li class="copyright">
                            Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                        <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                            </a>
                    </li>
            
                </ul>
            
            </nav>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <nav>
                   
                       <ul class="list">
                   
                           <li class="title">
                               <a href="../">adacad documentation</a>
                           </li>
                   
                           <li class="divider"></li>
                   
                               <div id="book-search-input" role="search">
                                   <input type="text" placeholder="Type to search">
                               </div>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../"><span class="fa fa-home"></span>Getting started</a>
                               <ul class="links">
                                       <li class="link">
                                           <a href="../" ><span class="fa fa-file-text-o"></span>README</a>
                                       </li>
                                       <li class="link">
                                           <a 
                                               
                                                href="../overview.html" 
                                                href="../overview.html" 
                                               >
                                               <span class="fa fa-th"></span>Overview
                                           </a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="./modules.html" >
                                   <span class="fa fa-archive"></span>
                                   <span>Modules</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#modules-links"
                                   ></span>
                               </a>
                               <ul class="links collapse in"
                                       id="modules-links"
                   >
                                       <li class="link">
                                           <a href="../modules/AppModule.html" >AppModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/AppRoutingModule.html" >AppRoutingModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/CoreModule.html" >CoreModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/DraftDetailModule.html" >DraftDetailModule</a>
                                       </li>
                                       <li class="link">
                                           <a href="../modules/MixerModule.html" >MixerModule</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-cogs"></span>
                                   <span>Components</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#components-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="components-links"
                   >
                                       <li class="link">
                                           <a href="../components/AboutModal.html" >AboutModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ActionsComponent.html" >ActionsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/AppComponent.html" >AppComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/BlankdraftModal.html" >BlankdraftModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ConnectionComponent.html" >ConnectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/CrosssectionComponent.html" >CrosssectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DesignComponent.html" >DesignComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DraftDetailComponent.html" >DraftDetailComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/DraftviewerComponent.html" >DraftviewerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ExamplesComponent.html" >ExamplesComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/FilebrowserComponent.html" >FilebrowserComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ImageComponent.html" >ImageComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InitModal.html" >InitModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/InletComponent.html" >InletComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoadfileComponent.html" >LoadfileComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoginComponent.html" >LoginComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/LoomModal.html" >LoomModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialModal.html" >MaterialModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MaterialsComponent.html" >MaterialsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MixerComponent.html" >MixerComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/MixerViewComponent.html" >MixerViewComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/NoteComponent.html" >NoteComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OpHelpModal.html" >OpHelpModal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OperationComponent.html" >OperationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/OpsComponent.html" >OpsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/PaletteComponent.html" >PaletteComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ParameterComponent.html" >ParameterComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/ProfileComponent.html" >ProfileComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/QuickopComponent.html" >QuickopComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SelectionComponent.html" >SelectionComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SidebarComponent.html" >SidebarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SignupComponent.html" >SignupComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SimulationComponent.html" >SimulationComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SnackbarComponent.html" >SnackbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SubdraftComponent.html" >SubdraftComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/SystemsComponent.html" >SystemsComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/TopbarComponent.html" >TopbarComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/UploadFormComponent.html" >UploadFormComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../components/WeaverViewComponent.html" >WeaverViewComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-code"></span>
                                   <span>Directives</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#directives-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="directives-links"
                   >
                                       <li class="link">
                                           <a href="../directives/KeycodesDirective.html" >KeycodesDirective</a>
                                       </li>
                                       <li class="link">
                                           <a href="../directives/MarqueeComponent.html" >MarqueeComponent</a>
                                       </li>
                                       <li class="link">
                                           <a href="../directives/SelectionComponent.html" >SelectionComponent</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-file-code-o"></span>
                                   <span>Classes</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#classes-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="classes-links"
                   >
                                       <li class="link">
                                           <a href="../classes/AdaCADWeaverPage.html" >AdaCADWeaverPage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/MyErrorStateMatcher.html" >MyErrorStateMatcher</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Selection.html" >Selection</a>
                                       </li>
                                       <li class="link">
                                           <a href="../classes/Util.html" >Util</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../routes.html" ><span class="fa fa-code-fork"></span>Routes</a>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-long-arrow-down"></span>
                                   <span>Injectables</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#injectables-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="injectables-links"
                   >
                                       <li class="link">
                                           <a href="../injectables/AuthService.html" >AuthService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/CollectionService.html" >CollectionService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/DesignmodesService.html" >DesignmodesService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ExampleserviceService.html" >ExampleserviceService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/FabricssimService.html" >FabricssimService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/FileService.html" >FileService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/FilesystemService.html" >FilesystemService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ImageService.html" >ImageService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/InkService.html" >InkService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/LayersService.html" >LayersService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/MaterialsService.html" >MaterialsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/MultiselectService.html" >MultiselectService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/NotesService.html" >NotesService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/OperationDescriptionsService.html" >OperationDescriptionsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/OperationService.html" >OperationService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/PatternfinderService.html" >PatternfinderService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/RenderService.html" >RenderService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/SimulationService.html" >SimulationService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/StateService.html" >StateService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/SystemsService.html" >SystemsService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/TreeService.html" >TreeService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/UploadService.html" >UploadService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/VaeService.html" >VaeService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/VersionService.html" >VersionService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ViewportService.html" >ViewportService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/WorkspaceService.html" >WorkspaceService</a>
                                       </li>
                                       <li class="link">
                                           <a href="../injectables/ZoomService.html" >ZoomService</a>
                                       </li>
                               </ul>
                           </li>
                   
                           <li class="chapter">
                               <div class="simple">
                                   <span class="fa fa-info"></span>
                                   <span>Interfaces</span>
                                   <span class="menu-toggler fa fa-angle-up" data-toggle="collapse"
                                           data-target="#interfaces-links"
                   ></span>
                               </div>
                               <ul class="links collapse in"
                                       id="interfaces-links"
                   >
                                       <li class="link">
                                           <a href="../interfaces/AnalyzedImage.html" >AnalyzedImage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Bounds.html" >Bounds</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Cell.html" >Cell</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ComboNode.html" >ComboNode</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ComboTree.html"  class="active" >ComboTree</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DensityUnits.html" >DensityUnits</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignActions.html" >DesignActions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DesignMode.html" >DesignMode</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Draft.html" >Draft</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DraftMap.html" >DraftMap</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/DraftNodeProxy.html" >DraftNodeProxy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FileObj.html" >FileObj</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/FileSaver.html" >FileSaver</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Fileloader.html" >Fileloader</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/HistoryState.html" >HistoryState</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/IOTuple.html" >IOTuple</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Ink.html" >Ink</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Interlacement.html" >Interlacement</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/InterlacementVal.html" >InterlacementVal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Item.html" >Item</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoadResponse.html" >LoadResponse</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/LoomTypes.html" >LoomTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Material.html" >Material</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MaterialMap.html" >MaterialMap</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/MaterialTypes.html" >MaterialTypes</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Model.html" >Model</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/NodeComponentProxy.html" >NodeComponentProxy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Note.html" >Note</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/OpComponentProxy.html" >OpComponentProxy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/OpInput.html" >OpInput</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/OpParamVal.html" >OpParamVal</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/OperationClassification.html" >OperationClassification</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Point.html" >Point</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/SaveObj.html" >SaveObj</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/StartOptions.html" >StartOptions</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/StatusMessage.html" >StatusMessage</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/System.html" >System</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/TreeNode.html" >TreeNode</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/TreeNodeProxy.html" >TreeNodeProxy</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/Upload.html" >Upload</a>
                                       </li>
                                       <li class="link">
                                           <a href="../interfaces/ViewModes.html" >ViewModes</a>
                                       </li>
                               </ul>
                           </li>
                   
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../miscellaneous.html" ><span class="fa fa-cubes"></span>Miscellaneous</a>
                           </li>
                   
                           <li class="chapter">
                               <a data-type="chapter-link" href="../coverage.html" ><span class="fa fa-tasks"></span>Documentation coverage</a>
                           </li>
                   
                           <li class="divider"></li>
                           <li class="copyright">
                                   Documentation generated using <a href="https://compodoc.github.io/compodoc/" target="_blank">
                                               <img src="..//images/compodoc-vectorise.svg" class="img-responsive">
                                   </a>
                           </li>
                   
                       </ul>
                   
                   </nav>
               </div>
               <div class="content interface">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Interfaces</li>
  <li>ComboTree</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
    <li class="active">
        <a href="#infos" id="infos-tab" role="tab" data-toggle="tab">Infos</a>
    </li>
    <li>
        <a href="#source" role="tab" id="source-tab" data-toggle="tab">Source</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="infos">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/core/operations/combinatorics/combinatorics.ts</code>
        </p>





            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>set</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>set:     <code>number[][]</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>number[][]</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <b>top</b>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>top:     <code>ComboNode</code>
</bcode>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>ComboNode</code>

                                        </td>
                                    </tr>



                        </tbody>
                    </table>
            </section>
    </div>
    <div class="tab-pane fade tab-source-code" id="source">
        <pre><code class="hljs javascript">import { createCell, getCellValue, setCellValue } from &quot;../../model/cell&quot;;
import { BoolParam, Draft, NumParam, Operation, OpInput, OpParamVal } from &quot;../../model/datatypes&quot;;
import { initDraftWithParams, isUp, warps, wefts } from &quot;../../model/drafts&quot;;
import { getOpParamValById } from &quot;../../model/operations&quot;;


const name &#x3D; &quot;combos&quot;;
const old_names &#x3D; [];

//PARAMS
const ends:NumParam &#x3D;  
      {name: &#x27;size&#x27;,
      type: &#x27;number&#x27;,
        min: 2,
        max: 4,
      value: 3,
      dx: &#x27;the size of the structure&#x27;
      }

const selection: NumParam &#x3D; 
    {name: &#x27;selection&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 22874,
    value: 1,
    dx: &#x27;the id of the generated structure you would like to view&#x27;
    }

const download: BoolParam &#x3D; 
    {
    name: &#x27;download all&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &#x27;&#x27;,
    truestate: &#x27;downloading&#x27;,
    value: 0,
    dx: &quot;when this is set to true, it will trigger download of an image of the whole set everytime it recomputes, this may result in multiple downloads&quot;
    }


const params &#x3D; [ends, selection, download];

//INLETS

const inlets &#x3D; [];


const  perform &#x3D; (param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const size: number &#x3D; getOpParamValById(0, param_vals);
      let selection: number &#x3D; getOpParamValById(1, param_vals);
      const download: number &#x3D; getOpParamValById(2, param_vals);

      //adjust by one to convert user input to the array index of the structure
      selection -&#x3D; 1;

      //for larger set sizes, you must split up the download into multiple files
      const divisor &#x3D; (size - 3 &gt; 0) ? Math.pow(2,(size-3)): 1;

      return getSet(size, size)
      .then(alldrafts &#x3D;&gt; { 

        if(download){

          for(let set_id &#x3D; 0; set_id &lt; divisor; set_id++){
            
            const cc &#x3D; 10;
            const set_data &#x3D; getDrafts(set_id, divisor);

            let b:HTMLCanvasElement &#x3D; &lt;HTMLCanvasElement&gt;document.createElement(&#x27;canvas&#x27;); 
            let context &#x3D; b.getContext(&#x27;2d&#x27;);
            b.width &#x3D; (cc*(size+5))*20;
            b.height &#x3D; Math.ceil(set_data.length  / 20)*((5+size)*cc);
            context.fillStyle &#x3D; &quot;white&quot;;
            context.fillRect(0,0,b.width,b.height);

            set_data.forEach((set, ndx) &#x3D;&gt; {
              
              const top &#x3D; Math.floor(ndx / 20) * (wefts(set.draft.drawdown)+5)*cc + 10;
              const left &#x3D; ndx % 20 * (warps(set.draft.drawdown)+5)*cc + 10; 
              
              context.font &#x3D; &quot;8px Arial&quot;;
              context.fillStyle &#x3D; &quot;#000000&quot;
              context.fillText((set.id+1).toString(),left, top-2,size*cc)
              context.strokeRect(left,top,size*cc,size*cc);

              for (let i &#x3D; 0; i &lt; wefts(set.draft.drawdown); i++) {
                for (let j &#x3D; 0; j &lt; warps(set.draft.drawdown); j++) {
                  drawCell(context, set.draft, cc, i, j, top, left);
                }
              }            
            })

            // console.log(&quot;b&quot;, b);
            const a &#x3D; document.createElement(&#x27;a&#x27;)
            a.href &#x3D; b.toDataURL(&quot;image/jpg&quot;)
            a.download &#x3D; &quot;allvalid_&quot;+size+&quot;x&quot;+size+&quot;_drafts_&quot;+set_id+&quot;.jpg&quot;;
            a.click();
          }

        }

        
        return Promise.resolve([getDraft(selection).draft]);

      })
      
  }   


const generateName &#x3D; (param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    const selection: number &#x3D; getOpParamValById(1, param_vals);
    const size: number &#x3D; getOpParamValById(0, param_vals);

  return size+&#x27;x&#x27;+size+&#x27;-&#x27;+selection;
}


export const combinatorics: Operation &#x3D; {name, old_names, params, inlets, perform, generateName};



/**** CUSTOM FUNCTIONS FOR GENERATING ALL POSSIBLE STRUCRTURES****/


interface ComboTree {
    set: Array&lt;Array&lt;number&gt;&gt;,
    top: ComboNode
  }
  
  interface ComboNode {
    parent: ComboNode;
    value: number,
    set: Array&lt;Array&lt;number&gt;&gt;,
    children: Array&lt;ComboNode&gt;;
  }

  let cur_set: any &#x3D; {warps: 0, wefts: 0};
  let all_possible_drafts: Array&lt;{draft:Draft, id:number}&gt; &#x3D; [];
  let min_interlacements: number &#x3D; 1;


  function drawCell(cx, draft, cell_size, i, j, top,  left){
    let is_up &#x3D; isUp(draft.drawdown, i, j);
    let color &#x3D; &quot;#ffffff&quot;
   
    if(is_up){
      color &#x3D; &#x27;#000000&#x27;;
    }else{
      color &#x3D; &#x27;#ffffff&#x27;;
    }
    cx.fillStyle &#x3D; color;
    cx.strokeStyle &#x3D; &#x27;#000000&#x27;;

 

    //hack, draw upside down to account for later flip
    i &#x3D; (wefts(draft.drawdown)-1) - i;

    cx.strokeRect(left+j*cell_size, top+i*cell_size, cell_size, cell_size);
    cx.fillRect(left+j*cell_size, top+i*cell_size, cell_size, cell_size);
  }


  /**
   * returns all the values from the valid set that match the sequence
   * @param seq 
   * @param valid 
   */
  function filterForSeq(seq: Array&lt;number&gt;, valid: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;Array&lt;number&gt;&gt;{
    let filtered &#x3D; valid.slice();
    seq.forEach((val, ndx) &#x3D;&gt; {
      filtered &#x3D; filtered.filter(set &#x3D;&gt; set[ndx] &#x3D;&#x3D; val);
    });
    return filtered;
  }


  /**
   * prints the tree for verification
   * @param tree 
   */
  function printTree(tree: ComboTree){

    console.log(&quot;***PRINT TREE***&quot;);
    printNodes([tree.top]);
  }

  function printNodes(nodes: Array&lt;ComboNode&gt;){
    
    nodes.forEach(node &#x3D;&gt; {
     // console.log(&quot;Node: &quot;, this.traceSequenceViaParents(node), node.set);
      printNodes(node.children);
    });
  }


  /**
   * given a node, it creates the sequence (e.g. 0110) that it represnts by calling each parent
   * @param node a tree node from which to start
   * @returns the sequence reprsented by this node. 
   */
  function traceSequenceViaParents(node: ComboNode) : Array&lt;number&gt;{
    let seq &#x3D; [];
    while(node.parent !&#x3D;&#x3D; null){
      seq &#x3D; [node.value].concat(seq);
      node &#x3D; node.parent;
    }
    return seq;
  }


  /**
   * converts the valid set into a tree, where the root/top node branches between 0, 1 at each child. 
   * therefore, every valid set traverses the tree. Each treenode stores the valid sets at its location
   * allowing for each row add to be a lookup operation
   * @param valid the valid set of combinations
   * @returns a Combination Tree accounting for every valid set
   */
  function createTreeFromValidSet(valid: Array&lt;Array&lt;number&gt;&gt;) : Promise&lt;ComboTree&gt; {

    let tree:ComboTree &#x3D; {
      set: valid.slice(),
      top: {
        parent: null,
        value: -1,
        set: valid.slice(),
        children: []},
    }


    valid.forEach(valid_set &#x3D;&gt; {

      let node &#x3D; tree.top;

      valid_set.forEach(val &#x3D;&gt; {
            
         const found &#x3D; node.children.filter(el &#x3D;&gt; el.value &#x3D;&#x3D;&#x3D; val);
         if(found.length &#x3D;&#x3D; 0){
           const combo_node: ComboNode &#x3D; {
            parent: node,
            value: val,
            set: [valid_set],
            children: []
            }
            node.children.push(combo_node);
            node &#x3D; combo_node;
          }else{
            node &#x3D; found[0];
            node.set.push(valid_set);
          }
      });
    })

    return Promise.resolve(tree);

  }


  /**
   * initializes a set of all possible valid drafts of a given dimension
   * Right now must be square and have a minimum of 1 interlacement
   * @param wefts the number of wefts of the structure
   * @param warps the number of warps in the structure
   * @returns a promise containing the array of all drafts generated
   */
  function initSet(wefts: number, warps: number) : Promise&lt;Array&lt;{draft:Draft, id:number}&gt;&gt;{

    cur_set &#x3D; {warps:0, wefts:0};
    all_possible_drafts &#x3D; [];

    return getAllPossible(warps-1)
    .then(possible &#x3D;&gt; {
      return makeValid(possible);
    })
    .then(valid &#x3D;&gt; {

      return createTreeFromValidSet(valid);


    }).then(tree &#x3D;&gt; {

      printTree(tree);

      let drafts: Array&lt;Draft&gt; &#x3D; [];
       let opts &#x3D; getOptions([], tree);
       
       opts.forEach(opt &#x3D;&gt; {

        const draft: Draft &#x3D; initDraftWithParams({warps: warps, wefts: wefts});
    
        for(let i &#x3D; 0; i &lt; wefts; i++){
          for(let j &#x3D; 0; j &lt; warps; j++){
            if(i &#x3D;&#x3D; 0) draft.drawdown[i][j] &#x3D; setCellValue(draft.drawdown[i][j], ((opt[j] &#x3D;&#x3D; 0) ? false: true));
          }
        }
        
        drafts &#x3D; drafts.concat([draft]);

      });

      //drafts.forEach(el &#x3D;&gt; utilInstance.printDraft(el));

      
      const its &#x3D; (wefts * 2) -1;
      for(let i &#x3D; 1; i &lt;&#x3D; its; i++){
       drafts &#x3D; expandDrafts(drafts, tree, i, wefts);
       //drafts.forEach(el &#x3D;&gt; utilInstance.printDraft(el));

      }

      //drafts.forEach(el &#x3D;&gt; utilInstance.printDraft(el));

      all_possible_drafts &#x3D; drafts.map((el, ndx) &#x3D;&gt; {return {draft: el, id: ndx}});
      cur_set.wefts &#x3D; wefts;
       cur_set.warps &#x3D; warps;
      return Promise.resolve(all_possible_drafts);


    });

  }


  /**
   * gets the set of a defined size. If that set is already in memory, it returns it. If not, it generates it.
   * @param warps the warps to check
   * @param wefts the wefts to check
   * @returns a boolean 
   */
  function getSet(warps: number, wefts: number) : Promise&lt;Array&lt;{draft:Draft, id:number}&gt;&gt; {
    if(warps &#x3D;&#x3D;&#x3D; cur_set.warps &amp;&amp; wefts &#x3D;&#x3D;&#x3D; cur_set.wefts) return Promise.resolve(all_possible_drafts);
    else return initSet(warps, wefts);
  }

  /**
   * gets the draft at location NDX from the current set of generated drafts
   * @param ndx the index to return
   * @returns returns the draft at the index, or an empty draft if so
   */
  function getDraft(ndx: number) : {draft: Draft, id: number}{
    const found &#x3D; all_possible_drafts.find(el &#x3D;&gt; el.id &#x3D;&#x3D; ndx)
    if(found &#x3D;&#x3D; undefined) return {draft: initDraftWithParams({wefts: 1, warps: 1}), id: -1};
    else return found;
  }

  /**
   * gets the draft at location NDX from the current set of generated drafts
   * @param ndx the index to return
   * @returns returns the draft at the index, or an empty draft if so
   */
  function getDrafts(ndx: number, divisor: number) : Array&lt;{draft: Draft, id: number}&gt;{
    const set_size &#x3D; Math.floor(all_possible_drafts.length/divisor);
    const begin &#x3D; ndx * set_size;
    const stop &#x3D; begin + set_size;
    const drafts &#x3D; all_possible_drafts.filter(el &#x3D;&gt; (el.id &gt;&#x3D; begin &amp;&amp; el.id &lt;&#x3D; stop));
    return drafts;
  }

  /**
   * gets a list of possible drafts by adding a single row or column
   * @param vsd an array of drafts and associated valid sets
   * @param ndx the index in the adding of row columns
   * @param wefts the size of the structure
   * @returns an (expanded)array of drafts and associated valid sets
   */
  function expandDrafts(drafts: Array&lt;Draft&gt;, tree: ComboTree, ndx: number, wefts: number) : Array&lt;Draft&gt; {

    let all_drafts: Array&lt; Draft&gt; &#x3D; [];
    drafts.forEach(draft &#x3D;&gt; {
      if(ndx % 2 &#x3D;&#x3D; 0) all_drafts &#x3D; all_drafts.concat(addRow(draft, tree, Math.floor(ndx/2), wefts));
      if(ndx % 2 &#x3D;&#x3D; 1) all_drafts &#x3D; all_drafts.concat(addCol(draft, tree, Math.floor(ndx/2), wefts));
    })

    //console.log(&quot;returning from all drafts&quot;, all_drafts.length);
    return all_drafts;


  }


  /**
   * adds a row to the set of drafts added
   * @param vsd 
   * @param i 
   * @param n 
   * @returns 
   */
  function addRow(draft: Draft, tree: ComboTree, i:number, n: number){
    let expanded_drafts &#x3D; [];  
    //console.log(&quot;adding rows to &quot;, vsd);

    let set &#x3D; [];
    for(let j &#x3D; 0; j &lt; i; j++){
      set.push(getCellValue(draft.drawdown[i][j]) ? 1 : 0);
    }
    //console.log(&quot;Generated set &quot;, set, );


    let opts &#x3D; getOptions(set, tree);
    //console.log(&quot;generated options&quot;, opts);
    opts.forEach(opt &#x3D;&gt; {

      let pattern &#x3D; [];
      pattern &#x3D; draft.drawdown.slice();
      //add to the draft and push
      for(let j &#x3D; 0; j &lt; n; j++){
        pattern[i][j] &#x3D; (opt[j] &#x3D;&#x3D; 0) ? createCell(false) : createCell(true);
      }

      expanded_drafts.push(initDraftWithParams({warps: n, wefts: n, pattern: pattern.slice()}));
      
    });


    return expanded_drafts;
  }

  function addCol(draft: Draft, tree: ComboTree, j:number, n: number){
    //console.log(&quot;adding cols to &quot;, vsd);

    let expanded_drafts &#x3D; [];

    let set &#x3D; [];
    for(let i &#x3D; 0; i &lt; (j+1); i++){
      set.push(getCellValue(draft.drawdown[i][j]) ? 1 : 0);
    }

    let opts &#x3D;getOptions(set, tree);
    //console.log(&quot;generated options for set&quot;, set, opts);

    opts.forEach(opt &#x3D;&gt; {

      let pattern &#x3D; [];
      pattern &#x3D; draft.drawdown.slice();
      //add to the draft and push
      for(let i &#x3D; 0; i &lt; n; i++){
        pattern[i][j] &#x3D; (opt[i] &#x3D;&#x3D; 0) ? createCell(false) : createCell(true);
      }

      expanded_drafts.push(initDraftWithParams({warps: n, wefts: n, pattern: pattern.slice()}));
      
    });
    //console.log(&quot;****returning ****&quot;);
   // expanded_drafts.forEach(el &#x3D;&gt; utilInstance.printDraft(el.draft))
    return expanded_drafts;
  }



  /**
   * uses the input sequence to identify the node of possible children
   * @param seq the input sequence to locate 
   * @param tree the tree to search
   * @returns 
   */
  function getOptions(seq: Array&lt;Number&gt;, tree: ComboTree) : Array&lt;Array&lt;number&gt;&gt;{

    let children &#x3D; tree.top.children.slice();
    
    if(seq.length &#x3D;&#x3D; 0) return tree.set.slice();
    //get to the node we need
    let node &#x3D; null;


    seq.forEach(val &#x3D;&gt; {
      node &#x3D; children.find(el &#x3D;&gt; el.value &#x3D;&#x3D; val);
      if(node &#x3D;&#x3D;&#x3D; undefined) children &#x3D; [];
      else children &#x3D; node.children.slice();
    });

    if(node &#x3D;&#x3D;&#x3D; undefined) return [];
    else return node.set.slice();
  }

  /**
   * if there is all zeros or all ones, it adds a contrasting bit at the end, or both bits 
   * @param all_possible 
   * @returns 
   */
  function makeValid(all_possible: Array&lt;Array&lt;number&gt;&gt;) : Promise&lt;Array&lt;Array&lt;number&gt;&gt;&gt;{
    const all_valid &#x3D; [];

    for(let i &#x3D; 0; i &lt; all_possible.length; i++){
      if(all_possible[i].find(el &#x3D;&gt; el &#x3D;&#x3D; 0) &#x3D;&#x3D;&#x3D; undefined){
        all_valid.push(all_possible[i].concat([0]))
      }else if(all_possible[i].find(el &#x3D;&gt; el &#x3D;&#x3D; 1) &#x3D;&#x3D;&#x3D; undefined){
        all_valid.push(all_possible[i].concat([1]))
      }else{
        all_valid.push(all_possible[i].concat([0]))
        all_valid.push(all_possible[i].concat([1]))
      }
    }

    return Promise.resolve(all_valid);
  }



  /**
   * generates a list of all valid sums with n factors that total t. 
   * all elements &gt; 0
   * @param n 
   */
  function getAllPossible(n: number): Promise&lt;Array&lt;Array&lt;number&gt;&gt;&gt;{

    let all_combos &#x3D; [];

    for(let i &#x3D; 0; i &lt; n; i++){
      all_combos &#x3D; addBit(all_combos);
    }
    return Promise.resolve(all_combos);
    
  }


  

  function addBit(set: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;Array&lt;number&gt;&gt; {
    
    const expanded_set &#x3D; [];

    if(set.length &#x3D;&#x3D; 0){
      expanded_set.push([0]);
      expanded_set.push([1]);
    }else{
      for(let i &#x3D; 0; i &lt; set.length; i++){
        expanded_set.push(set[i].concat([0]));
        expanded_set.push(set[i].concat([1]));
      }
    }
    return expanded_set;
  }



</code></pre>
    </div>
</div>




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
           </div>
       </div>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/search/search.js"></script>
       <script src="../js/search/lunr.min.js"></script>
       <script src="../js/search/search-lunr.js"></script>

       <script src="../js/menu.js"></script>
       <script src="../js/libs/highlight.pack.js"></script>
       <script src="../js/libs/highlightjs-line-numbers.min.js"></script>
       <script src="../js/search/search_index.js"></script>
       <script>
            document.addEventListener('DOMContentLoaded', function() {
                hljs.initHighlightingOnLoad();
                hljs.initLineNumbersOnLoad();
            });
       </script>

    </body>
</html>
