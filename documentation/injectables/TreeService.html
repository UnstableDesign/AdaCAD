<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>adacad documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">adacad documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >TreeService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/core/provider/tree.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>this class registers the relationships between subdrafts, operations, and connections</p>

            </p>



            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#nodes" >nodes</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#open_connection" >open_connection</a>
                            </li>
                            <li>
                                <a href="#preview" >preview</a>
                            </li>
                            <li>
                                <a href="#tree" >tree</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#addConnection" >addConnection</a>
                            </li>
                            <li>
                                <a href="#adjustTreadlingForSaving" >adjustTreadlingForSaving</a>
                            </li>
                            <li>
                                <a href="#areSiblings" >areSiblings</a>
                            </li>
                            <li>
                                <a href="#canAcceptConnections" >canAcceptConnections</a>
                            </li>
                            <li>
                                <a href="#clear" >clear</a>
                            </li>
                            <li>
                                <a href="#convertTreeToGenerations" >convertTreeToGenerations</a>
                            </li>
                            <li>
                                <a href="#createNode" >createNode</a>
                            </li>
                            <li>
                                <a href="#exportDraftNodeProxiesForSaving" >exportDraftNodeProxiesForSaving</a>
                            </li>
                            <li>
                                <a href="#exportNodesForSaving" >exportNodesForSaving</a>
                            </li>
                            <li>
                                <a href="#exportOpMetaForSaving" >exportOpMetaForSaving</a>
                            </li>
                            <li>
                                <a href="#exportTreeForSaving" >exportTreeForSaving</a>
                            </li>
                            <li>
                                <a href="#getComponent" >getComponent</a>
                            </li>
                            <li>
                                <a href="#getComponents" >getComponents</a>
                            </li>
                            <li>
                                <a href="#getConnection" >getConnection</a>
                            </li>
                            <li>
                                <a href="#getConnectionAtInlet" >getConnectionAtInlet</a>
                            </li>
                            <li>
                                <a href="#getConnectionComponentFromSubdraft" >getConnectionComponentFromSubdraft</a>
                            </li>
                            <li>
                                <a href="#getConnectionInput" >getConnectionInput</a>
                            </li>
                            <li>
                                <a href="#getConnectionOutput" >getConnectionOutput</a>
                            </li>
                            <li>
                                <a href="#getConnections" >getConnections</a>
                            </li>
                            <li>
                                <a href="#getConnectionsInvolving" >getConnectionsInvolving</a>
                            </li>
                            <li>
                                <a href="#getDirtyDrafts" >getDirtyDrafts</a>
                            </li>
                            <li>
                                <a href="#getDownstreamOperations" >getDownstreamOperations</a>
                            </li>
                            <li>
                                <a href="#getDraft" >getDraft</a>
                            </li>
                            <li>
                                <a href="#getDraftInputs" >getDraftInputs</a>
                            </li>
                            <li>
                                <a href="#getDraftName" >getDraftName</a>
                            </li>
                            <li>
                                <a href="#getDraftNodes" >getDraftNodes</a>
                            </li>
                            <li>
                                <a href="#getDraftOutputs" >getDraftOutputs</a>
                            </li>
                            <li>
                                <a href="#getDrafts" >getDrafts</a>
                            </li>
                            <li>
                                <a href="#getGenerationChildren" >getGenerationChildren</a>
                            </li>
                            <li>
                                <a href="#getInletOfCxn" >getInletOfCxn</a>
                            </li>
                            <li>
                                <a href="#getInputs" >getInputs</a>
                            </li>
                            <li>
                                <a href="#getInputsAtNdx" >getInputsAtNdx</a>
                            </li>
                            <li>
                                <a href="#getInputsWithNdx" >getInputsWithNdx</a>
                            </li>
                            <li>
                                <a href="#getLoom" >getLoom</a>
                            </li>
                            <li>
                                <a href="#getLooms" >getLooms</a>
                            </li>
                            <li>
                                <a href="#getLoomSettings" >getLoomSettings</a>
                            </li>
                            <li>
                                <a href="#getNewDraftProxies" >getNewDraftProxies</a>
                            </li>
                            <li>
                                <a href="#getNode" >getNode</a>
                            </li>
                            <li>
                                <a href="#getNodeConnections" >getNodeConnections</a>
                            </li>
                            <li>
                                <a href="#getNodeIdList" >getNodeIdList</a>
                            </li>
                            <li>
                                <a href="#getNodeIndex" >getNodeIndex</a>
                            </li>
                            <li>
                                <a href="#getNodesToUpdateOnMove" >getNodesToUpdateOnMove</a>
                            </li>
                            <li>
                                <a href="#getNodesWithDependenciesSatisfied" >getNodesWithDependenciesSatisfied</a>
                            </li>
                            <li>
                                <a href="#getNonCxnInputs" >getNonCxnInputs</a>
                            </li>
                            <li>
                                <a href="#getNonCxnOutputs" >getNonCxnOutputs</a>
                            </li>
                            <li>
                                <a href="#getOpComponentInputs" >getOpComponentInputs</a>
                            </li>
                            <li>
                                <a href="#getOpenConnection" >getOpenConnection</a>
                            </li>
                            <li>
                                <a href="#getOperations" >getOperations</a>
                            </li>
                            <li>
                                <a href="#getOpInputs" >getOpInputs</a>
                            </li>
                            <li>
                                <a href="#getOpNode" >getOpNode</a>
                            </li>
                            <li>
                                <a href="#getOpNodes" >getOpNodes</a>
                            </li>
                            <li>
                                <a href="#getOutputs" >getOutputs</a>
                            </li>
                            <li>
                                <a href="#getPreview" >getPreview</a>
                            </li>
                            <li>
                                <a href="#getPreviewComponent" >getPreviewComponent</a>
                            </li>
                            <li>
                                <a href="#getSubdraftParent" >getSubdraftParent</a>
                            </li>
                            <li>
                                <a href="#getTopLevelDrafts" >getTopLevelDrafts</a>
                            </li>
                            <li>
                                <a href="#getTopLevelOps" >getTopLevelOps</a>
                            </li>
                            <li>
                                <a href="#getTreeNode" >getTreeNode</a>
                            </li>
                            <li>
                                <a href="#getType" >getType</a>
                            </li>
                            <li>
                                <a href="#getUniqueId" >getUniqueId</a>
                            </li>
                            <li>
                                <a href="#getUnusuedConnections" >getUnusuedConnections</a>
                            </li>
                            <li>
                                <a href="#getUpstreamDrafts" >getUpstreamDrafts</a>
                            </li>
                            <li>
                                <a href="#getUpstreamOperations" >getUpstreamOperations</a>
                            </li>
                            <li>
                                <a href="#getViewRef" >getViewRef</a>
                            </li>
                            <li>
                                <a href="#hasInput" >hasInput</a>
                            </li>
                            <li>
                                <a href="#hasNdx" >hasNdx</a>
                            </li>
                            <li>
                                <a href="#hasOpenConnection" >hasOpenConnection</a>
                            </li>
                            <li>
                                <a href="#hasParent" >hasParent</a>
                            </li>
                            <li>
                                <a href="#hasPreview" >hasPreview</a>
                            </li>
                            <li>
                                <a href="#hasSingleChild" >hasSingleChild</a>
                            </li>
                            <li>
                                <a href="#isMultipleParent" >isMultipleParent</a>
                            </li>
                            <li>
                                <a href="#isParent" >isParent</a>
                            </li>
                            <li>
                                <a href="#isSeedDraft" >isSeedDraft</a>
                            </li>
                            <li>
                                <a href="#isSibling" >isSibling</a>
                            </li>
                            <li>
                                <a href="#isValidIOTuple" >isValidIOTuple</a>
                            </li>
                            <li>
                                <a href="#loadDraftData" >loadDraftData</a>
                            </li>
                            <li>
                                <a href="#loadNode" >loadNode</a>
                            </li>
                            <li>
                                <a href="#loadOpData" >loadOpData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#loadTreeNodeData" >loadTreeNodeData</a>
                            </li>
                            <li>
                                <a href="#onDynanmicOperationParamChange" >onDynanmicOperationParamChange</a>
                            </li>
                            <li>
                                <a href="#opHasHiddenChild" >opHasHiddenChild</a>
                            </li>
                            <li>
                                <a href="#performGenerationOps" >performGenerationOps</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#performOp" >performOp</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#performTopLevelOps" >performTopLevelOps</a>
                            </li>
                            <li>
                                <a href="#print" >print</a>
                            </li>
                            <li>
                                <a href="#removeConnectionNode" >removeConnectionNode</a>
                            </li>
                            <li>
                                <a href="#removeConnectionNodeById" >removeConnectionNodeById</a>
                            </li>
                            <li>
                                <a href="#removeNode" >removeNode</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#removeNodeTreeAssociations" >removeNodeTreeAssociations</a>
                            </li>
                            <li>
                                <a href="#removeOperationNode" >removeOperationNode</a>
                            </li>
                            <li>
                                <a href="#removeSubdraftNode" >removeSubdraftNode</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#replaceOutdatedOps" >replaceOutdatedOps</a>
                            </li>
                            <li>
                                <a href="#setDirty" >setDirty</a>
                            </li>
                            <li>
                                <a href="#setDraftAndRecomputeLoom" >setDraftAndRecomputeLoom</a>
                            </li>
                            <li>
                                <a href="#setDraftClean" >setDraftClean</a>
                            </li>
                            <li>
                                <a href="#setDraftOnly" >setDraftOnly</a>
                            </li>
                            <li>
                                <a href="#setDraftPattern" >setDraftPattern</a>
                            </li>
                            <li>
                                <a href="#setLoom" >setLoom</a>
                            </li>
                            <li>
                                <a href="#setLoomAndRecomputeDrawdown" >setLoomAndRecomputeDrawdown</a>
                            </li>
                            <li>
                                <a href="#setLoomSettings" >setLoomSettings</a>
                            </li>
                            <li>
                                <a href="#setNodeComponent" >setNodeComponent</a>
                            </li>
                            <li>
                                <a href="#setNodesClear" >setNodesClear</a>
                            </li>
                            <li>
                                <a href="#setNodeViewRef" >setNodeViewRef</a>
                            </li>
                            <li>
                                <a href="#setOpenConnection" >setOpenConnection</a>
                            </li>
                            <li>
                                <a href="#setOpParams" >setOpParams</a>
                            </li>
                            <li>
                                <a href="#setPreview" >setPreview</a>
                            </li>
                            <li>
                                <a href="#setPreviewDraft" >setPreviewDraft</a>
                            </li>
                            <li>
                                <a href="#setSubdraftParent" >setSubdraftParent</a>
                            </li>
                            <li>
                                <a href="#sweepInlets" >sweepInlets</a>
                            </li>
                            <li>
                                <a href="#unsetOpenConnection" >unsetOpenConnection</a>
                            </li>
                            <li>
                                <a href="#unsetPreview" >unsetPreview</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateDraftsFromResults" >updateDraftsFromResults</a>
                            </li>
                            <li>
                                <a href="#updateLooms" >updateLooms</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#validateNodes" >validateNodes</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(ws: <a href="../injectables/WorkspaceService.html" target="_self">WorkspaceService</a>, ops: <a href="../injectables/OperationService.html" target="_self">OperationService</a>, imageservice: <a href="../injectables/ImageService.html" target="_self">ImageService</a>, systemsservice: <a href="../injectables/SystemsService.html" target="_self">SystemsService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/core/provider/tree.service.ts:30</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>ws</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/WorkspaceService.html" target="_self" >WorkspaceService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ops</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/OperationService.html" target="_self" >OperationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>imageservice</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ImageService.html" target="_self" >ImageService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>systemsservice</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SystemsService.html" target="_self" >SystemsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addConnection"></a>
                    <span class="name">
                        <span ><b>addConnection</b></span>
                        <a href="#addConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>addConnection(from: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, from_ndx: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, to: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, to_ndx: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, cxn: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1632"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1632</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>adds a connection from subddraft to operation. connections can be of the type
subdraft -&gt; op (input to op)
op -&gt; subdraft (output generatedd by op)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>from</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>from_ndx</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>to</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>to_ndx</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>cxn</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of the ids of the elements connected to this op</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="adjustTreadlingForSaving"></a>
                    <span class="name">
                        <span ><b>adjustTreadlingForSaving</b></span>
                        <a href="#adjustTreadlingForSaving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>adjustTreadlingForSaving(tread: Array<Array<number>>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2013"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2013</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>tread</td>
                                    <td>
                                            <code>Array&lt;Array&lt;number&gt;&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;Array&lt;number&gt;&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="areSiblings"></a>
                    <span class="name">
                        <span ><b>areSiblings</b></span>
                        <a href="#areSiblings"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>areSiblings(a_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, b_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="961"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:961</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>test if two components are siblings (e.g. they have the same parent).
if we pass the same id in for both, it will return false</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>a_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>b_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>a boolean</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canAcceptConnections"></a>
                    <span class="name">
                        <span ><b>canAcceptConnections</b></span>
                        <a href="#canAcceptConnections"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>canAcceptConnections(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, inlet: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="863"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:863</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>called on an operation to check if it can accept connections from a given subdraft</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the operation in question</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>inlet</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the inlet id we are looking at</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clear"></a>
                    <span class="name">
                        <span ><b>clear</b></span>
                        <a href="#clear"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>clear()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="663"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:663</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>clears all the data associated with this tree</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertTreeToGenerations"></a>
                    <span class="name">
                        <span ><b>convertTreeToGenerations</b></span>
                        <a href="#convertTreeToGenerations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>convertTreeToGenerations()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1977"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1977</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>converts the tree into an array where each element belongs to a similar &quot;generation&quot; meaning the first generation had no parents/inputs, and the subsequent generations are descending from that.
returns a list of ids referencing the element ids belonging to each generation
should return an array that has the same number of elements as the tree overall</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;Array&lt;number&gt;&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createNode"></a>
                    <span class="name">
                        <span ><b>createNode</b></span>
                        <a href="#createNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createNode(type: "draft" | "op" | "cxn", component: <a href="../undefineds/Operation.html" target="_self">SubdraftComponent | OperationComponent | ConnectionComponent</a>, ref: ViewRef)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="709"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:709</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>create an node and add it to the tree (without relationships)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>type</td>
                                    <td>
                                            <code>&quot;draft&quot; | &quot;op&quot; | &quot;cxn&quot;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the type of component</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>component</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >SubdraftComponent | OperationComponent | ConnectionComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the compoenent instance</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>ref</td>
                                    <td>
                                            <code>ViewRef</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        <p>the id assigned</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exportDraftNodeProxiesForSaving"></a>
                    <span class="name">
                        <span ><b>exportDraftNodeProxiesForSaving</b></span>
                        <a href="#exportDraftNodeProxiesForSaving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>exportDraftNodeProxiesForSaving()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2035"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2035</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>converts draft nodes into a form suited for export.
drafts with parents are not saved, as their data is generated from operations on load.</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Array&lt;DraftNodeProxy&gt;&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of objects that describe nodes</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exportNodesForSaving"></a>
                    <span class="name">
                        <span ><b>exportNodesForSaving</b></span>
                        <a href="#exportNodesForSaving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>exportNodesForSaving(current_scale: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1995"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1995</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>converts all of the nodes in this tree for saving.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>current_scale</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/NodeComponentProxy.html" target="_self" >Array&lt;NodeComponentProxy&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>an array of objects that describe nodes</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exportOpMetaForSaving"></a>
                    <span class="name">
                        <span ><b>exportOpMetaForSaving</b></span>
                        <a href="#exportOpMetaForSaving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>exportOpMetaForSaving()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2243"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2243</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>exports all operation nodes with information that can be reloaded</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OpComponentProxy.html" target="_self" >Array&lt;OpComponentProxy&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="exportTreeForSaving"></a>
                    <span class="name">
                        <span ><b>exportTreeForSaving</b></span>
                        <a href="#exportTreeForSaving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>exportTreeForSaving()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2274"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2274</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Array&lt;TreeNodeProxy&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getComponent"></a>
                    <span class="name">
                        <span ><b>getComponent</b></span>
                        <a href="#getComponent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getComponent(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="763"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:763</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >SubdraftComponent | ConnectionComponent | OperationComponent</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getComponents"></a>
                    <span class="name">
                        <span ><b>getComponents</b></span>
                        <a href="#getComponents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getComponents()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="768"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:768</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;any&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConnection"></a>
                    <span class="name">
                        <span ><b>getConnection</b></span>
                        <a href="#getConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConnection(a: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, b: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1735"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1735</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given two nodes, returns the id of the connection node connecting them</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>a</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>one node</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>b</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the otehr node node</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        <p>the node id of the connection, or -1 if that connection is not found</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConnectionAtInlet"></a>
                    <span class="name">
                        <span ><b>getConnectionAtInlet</b></span>
                        <a href="#getConnectionAtInlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConnectionAtInlet(from: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, to: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, ndx: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1709"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1709</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a from, to, and inlet index, return the connection id</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>from</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>to</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ndx</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        <p>the node id of the connection, or -1 if that connection is not found</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConnectionComponentFromSubdraft"></a>
                    <span class="name">
                        <span ><b>getConnectionComponentFromSubdraft</b></span>
                        <a href="#getConnectionComponentFromSubdraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConnectionComponentFromSubdraft(sd_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1688"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1688</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sd_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/ConnectionComponent.html" target="_self" >ConnectionComponent</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConnectionInput"></a>
                    <span class="name">
                        <span ><b>getConnectionInput</b></span>
                        <a href="#getConnectionInput"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConnectionInput(node_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1891"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1891</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConnectionOutput"></a>
                    <span class="name">
                        <span ><b>getConnectionOutput</b></span>
                        <a href="#getConnectionOutput"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConnectionOutput(node_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1906"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1906</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConnections"></a>
                    <span class="name">
                        <span ><b>getConnections</b></span>
                        <a href="#getConnections"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConnections()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1562"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1562</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/ConnectionComponent.html" target="_self" >Array&lt;ConnectionComponent&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConnectionsInvolving"></a>
                    <span class="name">
                        <span ><b>getConnectionsInvolving</b></span>
                        <a href="#getConnectionsInvolving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getConnectionsInvolving(node_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="561"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:561</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>literal type</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDirtyDrafts"></a>
                    <span class="name">
                        <span ><b>getDirtyDrafts</b></span>
                        <a href="#getDirtyDrafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDirtyDrafts()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="427"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:427</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns a list of all the node ids of drafts that are dirty (including preview)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDownstreamOperations"></a>
                    <span class="name">
                        <span ><b>getDownstreamOperations</b></span>
                        <a href="#getDownstreamOperations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDownstreamOperations(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="989"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:989</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a node, recusively walks the tree and returns a list of all the operations that are affected</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of operation ids for nodes that need recalculating</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDraft"></a>
                    <span class="name">
                        <span ><b>getDraft</b></span>
                        <a href="#getDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDraft(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1547"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1547</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDraftInputs"></a>
                    <span class="name">
                        <span ><b>getDraftInputs</b></span>
                        <a href="#getDraftInputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDraftInputs(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1830"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1830</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns the ids of all nodes connected to the input node that are draft nodes</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDraftName"></a>
                    <span class="name">
                        <span ><b>getDraftName</b></span>
                        <a href="#getDraftName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDraftName(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1554"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1554</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDraftNodes"></a>
                    <span class="name">
                        <span ><b>getDraftNodes</b></span>
                        <a href="#getDraftNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDraftNodes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1495"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1495</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Draft.html" target="_self" >Array&lt;DraftNode&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDraftOutputs"></a>
                    <span class="name">
                        <span ><b>getDraftOutputs</b></span>
                        <a href="#getDraftOutputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDraftOutputs(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1860"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1860</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns the ids of all nodes connected to the output node that are not connection nodes</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDrafts"></a>
                    <span class="name">
                        <span ><b>getDrafts</b></span>
                        <a href="#getDrafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getDrafts()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1499"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1499</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/SubdraftComponent.html" target="_self" >Array&lt;SubdraftComponent&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getGenerationChildren"></a>
                    <span class="name">
                        <span ><b>getGenerationChildren</b></span>
                        <a href="#getGenerationChildren"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getGenerationChildren(parents: Array<number>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1943"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1943</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>parents</td>
                                    <td>
                                            <code>Array&lt;number&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInletOfCxn"></a>
                    <span class="name">
                        <span ><b>getInletOfCxn</b></span>
                        <a href="#getInletOfCxn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getInletOfCxn(op_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, cxn_id)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="579"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:579</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given an operation and a connection, return the inlet to which this connection inserts</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>op_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>cxn_id</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInputs"></a>
                    <span class="name">
                        <span ><b>getInputs</b></span>
                        <a href="#getInputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getInputs(node_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1872"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1872</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInputsAtNdx"></a>
                    <span class="name">
                        <span ><b>getInputsAtNdx</b></span>
                        <a href="#getInputsAtNdx"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getInputsAtNdx(node_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, inlet_ndx: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1885"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1885</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>inlet_ndx</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IOTuple.html" target="_self" >Array&lt;IOTuple&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInputsWithNdx"></a>
                    <span class="name">
                        <span ><b>getInputsWithNdx</b></span>
                        <a href="#getInputsWithNdx"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getInputsWithNdx(node_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1879"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1879</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/IOTuple.html" target="_self" >Array&lt;IOTuple&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLoom"></a>
                    <span class="name">
                        <span ><b>getLoom</b></span>
                        <a href="#getLoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getLoom(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1505"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1505</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Loom" target="_self" >Loom</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLooms"></a>
                    <span class="name">
                        <span ><b>getLooms</b></span>
                        <a href="#getLooms"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getLooms()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1542"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1542</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Loom" target="_self" >Array&lt;Loom&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLoomSettings"></a>
                    <span class="name">
                        <span ><b>getLoomSettings</b></span>
                        <a href="#getLoomSettings"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getLoomSettings(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1529"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1529</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#LoomSettings" target="_self" >LoomSettings</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNewDraftProxies"></a>
                    <span class="name">
                        <span ><b>getNewDraftProxies</b></span>
                        <a href="#getNewDraftProxies"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNewDraftProxies(draft: <a href="../interfaces/Draft.html" target="_self">Draft</a>, preloaded: Array<number>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2112"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2112</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this function is used when the file loader needs to create a template for an object that doesn&#39;t yet exist in the tree
but will be loaded into the tree.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>draft</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>: the draft that will be loaded into this node</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>preloaded</td>
                                    <td>
                                            <code>Array&lt;number&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>: a list of preloaded node ids to factor in when creating this new id.</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ node: NodeComponentProxy; treenode: TreeNodeProxy; draft_node: DraftNodeProxy; }</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNode"></a>
                    <span class="name">
                        <span ><b>getNode</b></span>
                        <a href="#getNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNode(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="772"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:772</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Node</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNodeConnections"></a>
                    <span class="name">
                        <span ><b>getNodeConnections</b></span>
                        <a href="#getNodeConnections"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNodeConnections(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="817"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:817</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>return the connection objects that are immediately attached to this object</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the node id</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of id&#39;s for the immediatly connected connections</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNodeIdList"></a>
                    <span class="name">
                        <span ><b>getNodeIdList</b></span>
                        <a href="#getNodeIdList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNodeIdList()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="778"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:778</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNodeIndex"></a>
                    <span class="name">
                        <span ><b>getNodeIndex</b></span>
                        <a href="#getNodeIndex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNodeIndex(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="782"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:782</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNodesToUpdateOnMove"></a>
                    <span class="name">
                        <span ><b>getNodesToUpdateOnMove</b></span>
                        <a href="#getNodesToUpdateOnMove"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNodesToUpdateOnMove(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="833"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:833</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>gets a list of non-connection nodes that need to be updated if this node moves.
this takes into acccount that some nodes have a parent that will move with them.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNodesWithDependenciesSatisfied"></a>
                    <span class="name">
                        <span ><b>getNodesWithDependenciesSatisfied</b></span>
                        <a href="#getNodesWithDependenciesSatisfied"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNodesWithDependenciesSatisfied()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1233"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1233</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>searches within the downstream ops for all opnodes and when a &quot;dirty&quot; node has all possible inputs fulfilled</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;OpNode&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>return a list of those nodes</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNonCxnInputs"></a>
                    <span class="name">
                        <span ><b>getNonCxnInputs</b></span>
                        <a href="#getNonCxnInputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNonCxnInputs(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1777"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1777</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns the ids of all nodes connected to the input node that are not connection nodes</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNonCxnOutputs"></a>
                    <span class="name">
                        <span ><b>getNonCxnOutputs</b></span>
                        <a href="#getNonCxnOutputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getNonCxnOutputs(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1846"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1846</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns the ids of all nodes connected to the output node that are not connection nodes</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOpComponentInputs"></a>
                    <span class="name">
                        <span ><b>getOpComponentInputs</b></span>
                        <a href="#getOpComponentInputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOpComponentInputs(op_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, ndx: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1799"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1799</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns the ids of all nodes connected to the input node that are not connection nodes
in the case of dynamic ops, also provide the input index</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>op_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ndx</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOpenConnection"></a>
                    <span class="name">
                        <span ><b>getOpenConnection</b></span>
                        <a href="#getOpenConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOpenConnection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="638"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:638</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/SubdraftComponent.html" target="_self" >SubdraftComponent</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOperations"></a>
                    <span class="name">
                        <span ><b>getOperations</b></span>
                        <a href="#getOperations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOperations()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1568"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1568</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/OperationComponent.html" target="_self" >Array&lt;OperationComponent&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOpInputs"></a>
                    <span class="name">
                        <span ><b>getOpInputs</b></span>
                        <a href="#getOpInputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOpInputs(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1814"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1814</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns the ids of all nodes connected to the input node that are op nodes</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOpNode"></a>
                    <span class="name">
                        <span ><b>getOpNode</b></span>
                        <a href="#getOpNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOpNode(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2235"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2235</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#OpNode" target="_self" >OpNode</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOpNodes"></a>
                    <span class="name">
                        <span ><b>getOpNodes</b></span>
                        <a href="#getOpNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOpNodes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1574"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1574</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;OpNode&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOutputs"></a>
                    <span class="name">
                        <span ><b>getOutputs</b></span>
                        <a href="#getOutputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getOutputs(node_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1898"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1898</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>node_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPreview"></a>
                    <span class="name">
                        <span ><b>getPreview</b></span>
                        <a href="#getPreview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getPreview()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="416"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:416</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#DraftNode" target="_self" >DraftNode</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPreviewComponent"></a>
                    <span class="name">
                        <span ><b>getPreviewComponent</b></span>
                        <a href="#getPreviewComponent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getPreviewComponent()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="420"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:420</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../components/SubdraftComponent.html" target="_self" >SubdraftComponent</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSubdraftParent"></a>
                    <span class="name">
                        <span ><b>getSubdraftParent</b></span>
                        <a href="#getSubdraftParent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getSubdraftParent(sd_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="802"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:802</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get&#39;s this subdraft&#39;s parent</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sd_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        <p>the parent&#39;s id, or -1 if it has no parent</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTopLevelDrafts"></a>
                    <span class="name">
                        <span ><b>getTopLevelDrafts</b></span>
                        <a href="#getTopLevelDrafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTopLevelDrafts()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1928"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1928</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns a list of any drafts that have no parents</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTopLevelOps"></a>
                    <span class="name">
                        <span ><b>getTopLevelOps</b></span>
                        <a href="#getTopLevelOps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTopLevelOps()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1917"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1917</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns the ids of the total set of operations that, when performed, will chain down to the other operations</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTreeNode"></a>
                    <span class="name">
                        <span ><b>getTreeNode</b></span>
                        <a href="#getTreeNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTreeNode(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1616"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1616</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>gets the tree node associated with a given Node</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the idea of the node (not the tree node id)</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TreeNode.html" target="_self" >TreeNode</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getType"></a>
                    <span class="name">
                        <span ><b>getType</b></span>
                        <a href="#getType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getType(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="786"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:786</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUniqueId"></a>
                    <span class="name">
                        <span ><b>getUniqueId</b></span>
                        <a href="#getUniqueId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUniqueId()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="43"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:43</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>generates an id from the timestamp and random number (to offset effects to two functions running in the same ms)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUnusuedConnections"></a>
                    <span class="name">
                        <span ><b>getUnusuedConnections</b></span>
                        <a href="#getUnusuedConnections"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUnusuedConnections()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1584"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1584</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>scans the connections and checks that the to and from nodes AND INDEXES still exist</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of connections to delete</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUpstreamDrafts"></a>
                    <span class="name">
                        <span ><b>getUpstreamDrafts</b></span>
                        <a href="#getUpstreamDrafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUpstreamDrafts(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1032"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1032</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a node, recusively walks the tree and returns a list of all the drafts that are linked up the chain to this component</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of draft ids that influence this draft</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUpstreamOperations"></a>
                    <span class="name">
                        <span ><b>getUpstreamOperations</b></span>
                        <a href="#getUpstreamOperations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getUpstreamOperations(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1010"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1010</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a node, recusively walks the tree and returns a list of all the operations that are linked up the chain to this component</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of operation ids that influence this draft</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getViewRef"></a>
                    <span class="name">
                        <span ><b>getViewRef</b></span>
                        <a href="#getViewRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getViewRef(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="791"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:791</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>ViewRef</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasInput"></a>
                    <span class="name">
                        <span ><b>hasInput</b></span>
                        <a href="#hasInput"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasInput(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1768"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1768</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if this node receives any input values</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the node id</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>a boolean describing if an input exists</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasNdx"></a>
                    <span class="name">
                        <span ><b>hasNdx</b></span>
                        <a href="#hasNdx"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasNdx(stored_input: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, input_to_function: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1788"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1788</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>stored_input</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>input_to_function</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasOpenConnection"></a>
                    <span class="name">
                        <span ><b>hasOpenConnection</b></span>
                        <a href="#hasOpenConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasOpenConnection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="634"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:634</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasParent"></a>
                    <span class="name">
                        <span ><b>hasParent</b></span>
                        <a href="#hasParent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasParent(sd_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="808"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:808</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sd_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasPreview"></a>
                    <span class="name">
                        <span ><b>hasPreview</b></span>
                        <a href="#hasPreview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasPreview()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="410"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:410</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasSingleChild"></a>
                    <span class="name">
                        <span ><b>hasSingleChild</b></span>
                        <a href="#hasSingleChild"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasSingleChild(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="920"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:920</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>test if this node has just one child.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>a boolean</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isMultipleParent"></a>
                    <span class="name">
                        <span ><b>isMultipleParent</b></span>
                        <a href="#isMultipleParent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isMultipleParent(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="950"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:950</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>test if this node has many children, as opposed to just one</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>a boolean</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isParent"></a>
                    <span class="name">
                        <span ><b>isParent</b></span>
                        <a href="#isParent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isParent(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="900"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:900</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>test if this node has children, as opposed to just zero</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>a boolean</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isSeedDraft"></a>
                    <span class="name">
                        <span ><b>isSeedDraft</b></span>
                        <a href="#isSeedDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isSeedDraft(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="910"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:910</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>test if this node is a seed (e.g. has no inputs)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>a boolean</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isSibling"></a>
                    <span class="name">
                        <span ><b>isSibling</b></span>
                        <a href="#isSibling"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isSibling(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="976"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:976</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>test if this node is a sibling of the one provided</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>a boolean</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isValidIOTuple"></a>
                    <span class="name">
                        <span ><b>isValidIOTuple</b></span>
                        <a href="#isValidIOTuple"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isValidIOTuple(io: <a href="../interfaces/IOTuple.html" target="_self">IOTuple</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1399"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1399</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>io</td>
                                    <td>
                                                <code><a href="../interfaces/IOTuple.html" target="_self" >IOTuple</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadDraftData"></a>
                    <span class="name">
                        <span ><b>loadDraftData</b></span>
                        <a href="#loadDraftData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadDraftData(entry: literal type, draft: <a href="../interfaces/Draft.html" target="_self">Draft</a>, loom: <a href="../undefineds/Loom.html" target="_self">Loom</a>, loom_settings: <a href="../undefineds/LoomSettings.html" target="_self">LoomSettings</a>, render_colors: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="444"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:444</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>load the data into the draft node</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>entry</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the map entry associated with this node, null if not supplied</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>draft</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the draft to associate with this node</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>loom</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Loom" target="_self" >Loom</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the loom to associate with this node</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>loom_settings</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#LoomSettings" target="_self" >LoomSettings</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>render_colors</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;literal type&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>the created draft node and the entry associated with this</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadNode"></a>
                    <span class="name">
                        <span ><b>loadNode</b></span>
                        <a href="#loadNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadNode(type: "draft" | "op" | "cxn", id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="498"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:498</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>loads in data to the nodes, from undo/redo or new file additions.
when loading new files or states, the tree will have been previously cleared. <br>when loading new nodes from a file into an existing workspace,new ids must be assigned to ensure they are unique
nodes are loaded before the view has been inititialized
when new data is loaded, it makes sure each of the ids generated is unique</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>type</td>
                                    <td>
                                            <code>&quot;draft&quot; | &quot;op&quot; | &quot;cxn&quot;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the type of node to create</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the current id of the</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>literal type</code>

                    </div>
                    <div class="io-description">
                        <p>a map representating any id changes</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadOpData"></a>
                    <span class="name">
                        <span ><b>loadOpData</b></span>
                        <a href="#loadOpData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>loadOpData(entry: literal type, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, params: Array<any>, inlets: Array<any>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="272"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:272</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>loads data into an operation node from a file load, or when an operation is first instantiated,  or undo/redo event</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>entry</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the upload entry associated with this node or null if there was no upload associated</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the name of the operation</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the parameters to input</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>inlets</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>an array containing the paramteres that get mapped to inputs at each inlets</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;literal type&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>the node and the entry</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadTreeNodeData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>loadTreeNodeData</b></span>
                        <a href="#loadTreeNodeData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadTreeNodeData(id_map: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, node_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, parent_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, inputs: Array<literal type>, outputs: Array<literal type>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="681"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:681</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this function is called from the mixer when processing file data. It depends on having all nodes created first.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id_map</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>node_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>parent_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>inputs</td>
                                    <td>
                                            <code>Array&lt;literal type&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>outputs</td>
                                    <td>
                                            <code>Array&lt;literal type&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;literal type&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDynanmicOperationParamChange"></a>
                    <span class="name">
                        <span ><b>onDynanmicOperationParamChange</b></span>
                        <a href="#onDynanmicOperationParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onDynanmicOperationParamChange(opid: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, inlets: Array<any>, param_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, param_val: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="109"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:109</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this is called when a dynamic operation&#39;s parameter updates and therefore, must change inlet values</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>opid</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>inlets</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the id of the parameter that changed</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>param_val</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Array&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>a list of inlet values to add.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="opHasHiddenChild"></a>
                    <span class="name">
                        <span ><b>opHasHiddenChild</b></span>
                        <a href="#opHasHiddenChild"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>opHasHiddenChild(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="931"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:931</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>test if this node has just one child and that child subdraft is currently hidden</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>a boolean</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="performGenerationOps"></a>
                    <span class="name">
                        <span ><b>performGenerationOps</b></span>
                        <a href="#performGenerationOps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>performGenerationOps(op_node_list: Array<number>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1371"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1371</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a list of operations to perform, recursively performs all on nodes that have dependencies satisified
only after entire generation has been calculated</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>op_node_list</td>
                                    <td>
                                            <code>Array&lt;number&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>//need a way to get this to return any drafts that it touched along the way</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="performOp"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>performOp</b></span>
                        <a href="#performOp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>performOp(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1417"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1417</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>performs the given operation
returns the list of draft ids affected by this calculation</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Array&lt;number&gt;&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="performTopLevelOps"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>performTopLevelOps</b></span>
                        <a href="#performTopLevelOps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>performTopLevelOps()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1345"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1345</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>deteremines which ops are &quot;top level&quot; meaning there is no op above them</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="print"></a>
                    <span class="name">
                        <span ><b>print</b></span>
                        <a href="#print"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>print()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1957"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1957</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>for degugging, this &quot;prints&quot; a list of the tree by generations</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeConnectionNode"></a>
                    <span class="name">
                        <span ><b>removeConnectionNode</b></span>
                        <a href="#removeConnectionNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeConnectionNode(from: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, to: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, inletid: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1170"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1170</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>deletes a connection</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>from</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>to</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>inletid</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Array&lt;Node&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>a list of all nodes removed as a result of this action</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeConnectionNodeById"></a>
                    <span class="name">
                        <span ><b>removeConnectionNodeById</b></span>
                        <a href="#removeConnectionNodeById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeConnectionNodeById(cxn_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1184"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1184</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>cxn_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Array&lt;Node&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeNode"></a>
                    <span class="name">
                        <span ><b>removeNode</b></span>
                        <a href="#removeNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeNode(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1204"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1204</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this removes a node from the list and tree</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the id of the node to be removed</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Node</a></code>

                    </div>
                    <div class="io-description">
                        <p>the node it removed</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeNodeTreeAssociations"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>removeNodeTreeAssociations</b></span>
                        <a href="#removeNodeTreeAssociations"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>removeNodeTreeAssociations(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1668"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1668</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this removes the given id from the tree
given the structure of the code, this will never be called on a connection node, as only ops and subdrafts can be
explicitly deleted.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the id to delete</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeOperationNode"></a>
                    <span class="name">
                        <span ><b>removeOperationNode</b></span>
                        <a href="#removeOperationNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeOperationNode(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1114"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1114</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>deletes an operation node and any associated subdrafts and connections</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the operation to remove</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Array&lt;Node&gt;</a></code>

                    </div>
                    <div class="io-description">
                        <p>a list of all nodes removed as a result of this action</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeSubdraftNode"></a>
                    <span class="name">
                        <span ><b>removeSubdraftNode</b></span>
                        <a href="#removeSubdraftNode"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>removeSubdraftNode(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1052"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1052</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>removes a subdraft and all associated connections from the tree, returns the nodes</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Array&lt;Node&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="replaceOutdatedOps"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>replaceOutdatedOps</b></span>
                        <a href="#replaceOutdatedOps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>replaceOutdatedOps(nodes: Array<any>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="54"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:54</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>go through the list of nodes being loaded and replace any with names that have been outdated.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>nodes</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Array&lt;any&gt;&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setDirty"></a>
                    <span class="name">
                        <span ><b>setDirty</b></span>
                        <a href="#setDirty"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setDirty(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2146"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2146</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setDraftAndRecomputeLoom"></a>
                    <span class="name">
                        <span ><b>setDraftAndRecomputeLoom</b></span>
                        <a href="#setDraftAndRecomputeLoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setDraftAndRecomputeLoom(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, temp: <a href="../interfaces/Draft.html" target="_self">Draft</a>, loom_settings: <a href="../undefineds/LoomSettings.html" target="_self">LoomSettings</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2181"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2181</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>sets a new draft and loom at node specified by id. This occures when an operation that generated a draft has been recomputed</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the node to update</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>temp</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the draft to add</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>loom_settings</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#LoomSettings" target="_self" >LoomSettings</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the settings that should govern the loom generated</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#Loom" target="_self" >Promise&lt;Loom&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setDraftClean"></a>
                    <span class="name">
                        <span ><b>setDraftClean</b></span>
                        <a href="#setDraftClean"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setDraftClean(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2151"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2151</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setDraftOnly"></a>
                    <span class="name">
                        <span ><b>setDraftOnly</b></span>
                        <a href="#setDraftOnly"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setDraftOnly(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, draft: <a href="../interfaces/Draft.html" target="_self">Draft</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2166"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2166</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>draft</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setDraftPattern"></a>
                    <span class="name">
                        <span ><b>setDraftPattern</b></span>
                        <a href="#setDraftPattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setDraftPattern(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, pattern: <a href="../undefineds/Drawdown.html" target="_self">Drawdown</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2225"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2225</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>sets a new draft</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>pattern</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Drawdown" target="_self" >Drawdown</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setLoom"></a>
                    <span class="name">
                        <span ><b>setLoom</b></span>
                        <a href="#setLoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setLoom(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, loom: <a href="../undefineds/Loom.html" target="_self">Loom</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1512"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1512</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>loom</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Loom" target="_self" >Loom</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setLoomAndRecomputeDrawdown"></a>
                    <span class="name">
                        <span ><b>setLoomAndRecomputeDrawdown</b></span>
                        <a href="#setLoomAndRecomputeDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setLoomAndRecomputeDrawdown(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, loom: <a href="../undefineds/Loom.html" target="_self">Loom</a>, loom_settings: <a href="../undefineds/LoomSettings.html" target="_self">LoomSettings</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1517"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1517</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>loom</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Loom" target="_self" >Loom</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>loom_settings</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#LoomSettings" target="_self" >LoomSettings</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Draft.html" target="_self" >Promise&lt;Draft&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setLoomSettings"></a>
                    <span class="name">
                        <span ><b>setLoomSettings</b></span>
                        <a href="#setLoomSettings"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setLoomSettings(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, loom_settings: <a href="../undefineds/LoomSettings.html" target="_self">LoomSettings</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1536"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1536</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>loom_settings</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#LoomSettings" target="_self" >LoomSettings</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setNodeComponent"></a>
                    <span class="name">
                        <span ><b>setNodeComponent</b></span>
                        <a href="#setNodeComponent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setNodeComponent(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, c: <a href="../undefineds/Operation.html" target="_self">SubdraftComponent | OperationComponent | ConnectionComponent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="652"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:652</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>c</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >SubdraftComponent | OperationComponent | ConnectionComponent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setNodesClear"></a>
                    <span class="name">
                        <span ><b>setNodesClear</b></span>
                        <a href="#setNodesClear"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setNodesClear()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2142"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:2142</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setNodeViewRef"></a>
                    <span class="name">
                        <span ><b>setNodeViewRef</b></span>
                        <a href="#setNodeViewRef"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setNodeViewRef(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, v: ViewRef)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="657"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:657</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>v</td>
                                    <td>
                                            <code>ViewRef</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setOpenConnection"></a>
                    <span class="name">
                        <span ><b>setOpenConnection</b></span>
                        <a href="#setOpenConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setOpenConnection(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="627"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:627</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>sets the open connection</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the value to set the open connection to</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>true if the id maps to a subdraft</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setOpParams"></a>
                    <span class="name">
                        <span ><b>setOpParams</b></span>
                        <a href="#setOpParams"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setOpParams(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, params: Array<any>, inlets: Array<any>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="97"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:97</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>params</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>inlets</td>
                                    <td>
                                            <code>Array&lt;any&gt;</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setPreview"></a>
                    <span class="name">
                        <span ><b>setPreview</b></span>
                        <a href="#setPreview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setPreview(sd: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, draft: <a href="../interfaces/Draft.html" target="_self">Draft</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="377"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:377</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>a preview is a temporary object that is created when two drafts overlap in drawing mode
it just needs to contain a draft (and no loom as it will be deleted when the active operation ends)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sd</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>draft</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Draft.html" target="_self" >Promise&lt;DraftNode&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setPreviewDraft"></a>
                    <span class="name">
                        <span ><b>setPreviewDraft</b></span>
                        <a href="#setPreviewDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setPreviewDraft(draft: <a href="../interfaces/Draft.html" target="_self">Draft</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="396"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:396</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>draft</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Draft</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Draft.html" target="_self" >Promise&lt;DraftNode&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setSubdraftParent"></a>
                    <span class="name">
                        <span ><b>setSubdraftParent</b></span>
                        <a href="#setSubdraftParent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setSubdraftParent(sd: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, op: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1653"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1653</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this sets the parent of a subdraft to the operation that created iit</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sd</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>op</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        <p>an array of the subdraft ids connected to this operation</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sweepInlets"></a>
                    <span class="name">
                        <span ><b>sweepInlets</b></span>
                        <a href="#sweepInlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>sweepInlets(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="598"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:598</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>before performing a dynamic op, make sure that their are no connections that are pointing to an inlet that nolonger exists</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the object id we are checking</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Array&lt;ViewRef&gt;&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>an array of viewRefs for Connections to remove.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsetOpenConnection"></a>
                    <span class="name">
                        <span ><b>unsetOpenConnection</b></span>
                        <a href="#unsetOpenConnection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>unsetOpenConnection()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="647"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:647</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>TEMP DISABLE DUE TO CAUSING PROBLEMS
unsets the open connection</p>
</div>

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p>true if it indeed changed the value</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsetPreview"></a>
                    <span class="name">
                        <span ><b>unsetPreview</b></span>
                        <a href="#unsetPreview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>unsetPreview()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="406"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:406</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateDraftsFromResults"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>updateDraftsFromResults</b></span>
                        <a href="#updateDraftsFromResults"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateDraftsFromResults(parent: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, res: <a href="../interfaces/Draft.html" target="_self">Array&lt;Draft&gt;</a>, inputs: <a href="../interfaces/OpInput.html" target="_self">Array&lt;OpInput&gt;</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1260"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:1260</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given the results of an operation, updates any associated drafts, creating or adding null drafts to no longer needed drafts
since this function cannot delete nodes, it makes nodes that no longer need to exist as null for later collection</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>parent</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>res</td>
                                    <td>
                                                <code><a href="../interfaces/Draft.html" target="_self" >Array&lt;Draft&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the list of results from perform op</p>

                                    </td>
                                </tr>
                                <tr>
                                    <td>inputs</td>
                                    <td>
                                                <code><a href="../interfaces/OpInput.html" target="_self" >Array&lt;OpInput&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Array&lt;number&gt;&gt;</code>

                    </div>
                    <div class="io-description">
                        <p>a list of the draft nodes touched.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateLooms"></a>
                    <span class="name">
                        <span ><b>updateLooms</b></span>
                        <a href="#updateLooms"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateLooms()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="357"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:357</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>recomputes the value of every loom.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateNodes"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>validateNodes</b></span>
                        <a href="#validateNodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateNodes()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="71"
                            class="link-to-prism">src/app/core/provider/tree.service.ts:71</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>scan through nodes and return all that our valid</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="nodes"></a>
                    <span class="name">
                        <span ><b>nodes</b></span>
                        <a href="#nodes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Node" target="_self" >Array&lt;Node&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/app/core/provider/tree.service.ts:27</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="open_connection"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>open_connection</b></span>
                        <a href="#open_connection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>-1</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="29" class="link-to-prism">src/app/core/provider/tree.service.ts:29</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="preview"></a>
                    <span class="name">
                        <span ><b>preview</b></span>
                        <a href="#preview"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DraftNode" target="_self" >DraftNode</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="30" class="link-to-prism">src/app/core/provider/tree.service.ts:30</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tree"></a>
                    <span class="name">
                        <span ><b>tree</b></span>
                        <a href="#tree"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/TreeNode.html" target="_self" >Array&lt;TreeNode&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="28" class="link-to-prism">src/app/core/provider/tree.service.ts:28</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, ViewRef } from &#x27;@angular/core&#x27;;
import { boolean } from &#x27;mathjs&#x27;;
import { BoolParam, Draft, DraftNode, DraftNodeProxy, Drawdown, DynamicOperation, IOTuple, Loom, LoomSettings, Node, NodeComponentProxy, NotationTypeParam, OpComponentProxy, Operation, OpInput, OpNode, OpParamVal, StringParam, TreeNode, TreeNodeProxy } from &#x27;../../core/model/datatypes&#x27;;
import { copyDraft, createDraft, flipDraft, getDraftName, initDraftWithParams, warps, wefts } from &#x27;../../core/model/drafts&#x27;;
import { copyLoom, flipLoom, getLoomUtilByType } from &#x27;../../core/model/looms&#x27;;
import utilInstance from &#x27;../../core/model/util&#x27;;
import { SystemsService } from &#x27;../../core/provider/systems.service&#x27;;
import { WorkspaceService } from &#x27;../../core/provider/workspace.service&#x27;;
import { ConnectionComponent } from &#x27;../../mixer/palette/connection/connection.component&#x27;;
import { OperationComponent } from &#x27;../../mixer/palette/operation/operation.component&#x27;;
import { SubdraftComponent } from &#x27;../../mixer/palette/subdraft/subdraft.component&#x27;;
import { createCell } from &#x27;../model/cell&#x27;;
import { ImageService } from &#x27;./image.service&#x27;;
import { OperationService } from &#x27;./operation.service&#x27;;


/**
 * this class registers the relationships between subdrafts, operations, and connections
 */


@Injectable({
  providedIn: &#x27;root&#x27;
})
export class TreeService {

  nodes: Array&lt;Node&gt; &#x3D; []; //an unordered list of all the nodes
  tree: Array&lt;TreeNode&gt; &#x3D; []; //a representation of the node relationships
  private open_connection: number &#x3D; -1; //represents a node that is currently seeking a conneciton, used for checking which nodes it is able to connect to
  preview: DraftNode; //references the specially identified component that is a preview (but does not exist in tree)

  constructor(
    private ws: WorkspaceService,
    private ops: OperationService,
    private imageservice: ImageService,
    private systemsservice: SystemsService) { 
  }


  /**
   * generates an id from the timestamp and random number (to offset effects to two functions running in the same ms)
   */
  getUniqueId() : number {
    
    return utilInstance.generateId(8);


  }

    /**
     * go through the list of nodes being loaded and replace any with names that have been outdated.  
     * **/
    
    async replaceOutdatedOps(nodes: Array&lt;any&gt;) : Promise&lt;Array&lt;any&gt;&gt;{

      const correctedNodes &#x3D; nodes.map(node &#x3D;&gt; {
        if(this.ops.getOp(node.name) &#x3D;&#x3D;&#x3D; null){
          const op &#x3D;  this.ops.getOpByOldName(node.name);
          node.name &#x3D; op.name
          node.inlets &#x3D; op.inlets;
        }
        return node;
      });

            return Promise.resolve(correctedNodes);
    }



  /** scan through nodes and return all that our valid */
  async validateNodes() : Promise&lt;boolean&gt;{


    const err_ops: Array&lt;Node&gt; &#x3D; this.nodes
            .filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &quot;op&quot;)
            .filter(el &#x3D;&gt; this.ops.getOp((&lt;OpNode&gt; el).name) &#x3D;&#x3D;&#x3D; undefined)

    //console.error(&quot;found invalid op nodes&quot;, err_ops);


    err_ops.forEach(node &#x3D;&gt; {
      this.removeOperationNode(node.id);
    });

    ///also check to see that all connections exist
    const cxns &#x3D; this.getUnusuedConnections();

   // console.log(&quot;unusued connections found&quot;, cxns);
    cxns.forEach(el &#x3D;&gt; this.removeNode(el));
  

    return (err_ops.length &#x3D;&#x3D;&#x3D; 0);

  }


  setOpParams(id: number, params: Array&lt;any&gt;, inlets: Array&lt;any&gt;){
    this.getOpNode(id).params &#x3D; params.slice();
    this.getOpNode(id).inlets &#x3D; inlets.slice();
  }

  /**
   * this is called when a dynamic operation&#x27;s parameter updates and therefore, must change inlet values
   * @param node_id an object containing the id of hte parameter that has changed
   * @param param_id the id of the parameter that changed
   * @param value the value at that parameter
   * @returns a list of inlet values to add.
   */
   onDynanmicOperationParamChange(opid: number, name: string, inlets: Array&lt;any&gt;, param_id: number, param_val: any) : Array&lt;any&gt;{

    console.log(&quot;ON DYNAMIC PARAM CHANGE &quot;, opid, param_id, param_val)

      const op &#x3D; &lt;DynamicOperation&gt; this.ops.getOp(name);
      const param_type &#x3D; op.params[param_id].type
      const opnode &#x3D; this.getOpNode(opid);

      if(!this.ops.isDynamic(name)) return;

      if(op.dynamic_param_id !&#x3D; param_id &amp;&amp; param_type !&#x3D;&#x3D; &#x27;notation_toggle&#x27;) return;


      let param_vals:Array&lt;OpParamVal&gt; &#x3D; opnode.params.map((el, ndx) &#x3D;&gt;  {
       return  { op_name: name, param: op.params[ndx], val: el}
      });


      inlets &#x3D; op.onParamChange(param_vals, op.inlets, inlets, param_id, param_val);


      return inlets;
  }

//   onDynanmicOperationParamChange(opid: number, name: string, inlets: Array&lt;any&gt;, param_id: number, param_val: any) : Array&lt;any&gt;{



//     const op &#x3D; this.ops.getOp(name);
//     const opnode &#x3D; this.getOpNode(opid);

//     let param_type &#x3D; op.params[param_id].type;


//     if(param_id &#x3D;&#x3D;&#x3D; (&lt;DynamicOperation&gt;op).dynamic_param_id || param_type &#x3D;&#x3D; &#x27;notation_toggle&#x27;){
//       const type &#x3D; (&lt;DynamicOperation&gt;op).dynamic_param_type;
      
//       let static_inputs &#x3D; op.inlets.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;static&#x27;);
//       let num_dynamic_inlets &#x3D; inlets.length - static_inputs.length;
//       let matches &#x3D; [];

//       switch(type){



//         case &#x27;notation&#x27;:

//           const system_parsing_regex &#x3D; /.*?(.*?[a-xA-Z]+[\d]+).*?/i;

//           if(param_id &#x3D;&#x3D; 1 &amp;&amp; param_val &#x3D;&#x3D; 0){
//             const string_to_parse &#x3D; op.params[0].value;
//             matches &#x3D; utilInstance.parseRegex(opnode.params[0], (&lt;StringParam&gt; op.params[0]).regex);
//             matches &#x3D; matches.map(el &#x3D;&gt; el.slice(1, -1))
//             matches &#x3D; matches.reduce((acc, val) &#x3D;&gt; {
//               const sub_match &#x3D; utilInstance.parseRegex(val, system_parsing_regex);
//               return acc.concat(sub_match);
//             }, []);

//             inlets &#x3D; inlets.slice(0,static_inputs.length);
//             matches.forEach(el &#x3D;&gt; {
//               inlets.push(el);
//             })
//           }else if(param_id &#x3D;&#x3D; 1 &amp;&amp; param_val &#x3D;&#x3D; 1){
//             matches &#x3D; utilInstance.parseRegex(opnode.params[0],(&lt;StringParam&gt; op.params[0]).regex);
//             matches &#x3D; matches.map(el &#x3D;&gt; el.slice(1, -1))
//             inlets &#x3D; inlets.slice(0,static_inputs.length);
//             matches.forEach(el &#x3D;&gt; {
//               inlets.push(el);
//             })
//           }else{
  

//             matches &#x3D; utilInstance.parseRegex(param_val, (&lt;StringParam&gt; op.params[0]).regex);
//             matches &#x3D; matches.map(el &#x3D;&gt; el.slice(1, -1))
//             if(opnode.params[1] &#x3D;&#x3D; 0){
//               matches &#x3D; matches.reduce((acc, val) &#x3D;&gt; {
//                 const sub_match &#x3D; utilInstance.parseRegex(val, system_parsing_regex);
//                 return acc.concat(sub_match);
//               }, []);
//             }  

//             inlets &#x3D; inlets.slice(0,static_inputs.length);
//             matches.forEach(el &#x3D;&gt; {
//               inlets.push(el);
//             })
//           }
          
//         break;

//         case &#x27;profile&#x27;:
//           matches &#x3D; utilInstance.parseRegex(param_val, (&lt;StringParam&gt;op.params[0]).regex);
//           inlets &#x3D; inlets.slice(0,static_inputs.length);
//           matches.forEach(el &#x3D;&gt; {
//             if(inlets.find(inletval &#x3D;&gt; inletval &#x3D;&#x3D; el.charAt(0)) &#x3D;&#x3D;&#x3D; undefined) inlets.push(el.charAt(0));
//           })
//         break;

//         case &#x27;draft&#x27;:
//           if(param_val !&#x3D;&#x3D; -1){
//             const draftNode &#x3D; &lt;DraftNode&gt; this.getNode(param_val);
//             const uniqueVals &#x3D; utilInstance.filterToUniqueValues(draftNode.loom.threading);
//             const inlet_nums &#x3D; uniqueVals.length;
//             inlets &#x3D; inlets.slice(0,static_inputs.length);
//             for(let i &#x3D; 0; i &lt; inlet_nums; i++){
//               inlets.push(i+1);
//             }
//           }
//         break;

        
//         case &#x27;number&#x27;:

//         if(param_type &#x3D;&#x3D;&#x3D; &#x27;number&#x27;){
//           if(param_val &gt; num_dynamic_inlets){
//             for(let i &#x3D; num_dynamic_inlets; i &lt; param_val; i++){
//                 inlets.push(i+1);
//             }
//           }else if(param_val &lt; num_dynamic_inlets){
//             const delete_num &#x3D; num_dynamic_inlets - param_val;
//             inlets &#x3D; inlets.slice(0, -delete_num);
//           }
//         }else if(param_type &#x3D;&#x3D; &#x27;string&#x27;){
//           const all_inputs &#x3D; param_val.split(&#x27; &#x27;);
//           const unique_values &#x3D; utilInstance.filterToUniqueValues(all_inputs);
//           inlets &#x3D; inlets.slice(0,static_inputs.length);
//           unique_values.forEach(el &#x3D;&gt; {
//             inlets.push(el);
//           })
//         }

//         break;
//         case &#x27;system&#x27;:
//            static_inputs &#x3D; op.inlets.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;static&#x27;);
//            num_dynamic_inlets &#x3D; inlets.length - static_inputs.length;

//           if(param_val &gt; num_dynamic_inlets){
//             for(let i &#x3D; num_dynamic_inlets; i &lt; param_val; i++){
//                 this.systemsservice.weft_systems[i].in_use &#x3D; true;
//                 inlets.push(i);  
//             }
//           }else if(param_val &lt; num_dynamic_inlets){
//             inlets &#x3D; inlets.slice(0, param_val+static_inputs);
//           }
//         break;

          

//       }
//     }
//   return inlets;
// }




  /**
   * loads data into an operation node from a file load, or when an operation is first instantiated,  or undo/redo event
   * @param entry the upload entry associated with this node or null if there was no upload associated
   * @param name the name of the operation
   * @param params the parameters to input
   * @param inlets an array containing the paramteres that get mapped to inputs at each inlets
   * @returns the node and the entry
   */
   loadOpData(entry: {prev_id: number, cur_id: number}, name: string, params:Array&lt;any&gt;, inlets: Array&lt;any&gt;) : Promise&lt;{on: OpNode, entry:{prev_id: number, cur_id: number}}&gt;{
    

    const nodes &#x3D; this.nodes.filter(el &#x3D;&gt; el.id &#x3D;&#x3D;&#x3D; entry.cur_id);
    let op &#x3D; this.ops.getOp(name);

    if(nodes.length !&#x3D;&#x3D; 1){
      return Promise.reject(&quot;found 0 or more than 1 nodes at id &quot;+entry.cur_id);
    } 

    const node &#x3D; nodes[0];

    if(op &#x3D;&#x3D;&#x3D; undefined || op &#x3D;&#x3D;&#x3D; null){
       return Promise.reject(&quot;no op of name:&quot;+name+&quot; exists&quot;);

    }  



    if(params &#x3D;&#x3D;&#x3D; undefined){
      params &#x3D; [];
    }

    if(params &#x3D;&#x3D;&#x3D; undefined){
      inlets &#x3D; [];
    }

    const param_types &#x3D; op.params.map(el &#x3D;&gt; el.type);


      const formatted_params &#x3D; param_types.map((type, ndx) &#x3D;&gt; {
        switch(type){
          case &quot;boolean&quot;:
            return (params[ndx]) ? 1 : 0;
          
            case &quot;file&quot;:
              const id_and_data &#x3D; this.imageservice.getImageData(params[ndx]);
              if(id_and_data &#x3D;&#x3D;&#x3D; undefined  || id_and_data.data &#x3D;&#x3D;&#x3D; undefined) return {id: params[ndx], data: null}
              else return {id: params[ndx], data: id_and_data.data};
        
            default:
              return params[ndx];
        }
      });
  
      const default_param_values &#x3D; this.ops.getOp(name).params.map(el &#x3D;&gt; el.value);
  
      //this gets teh default values for the opration
      //this overwrites some of those with any value that has been previous added
      const params_out &#x3D; default_param_values.map((p, ndx) &#x3D;&gt; {
        if(ndx &lt; params.length) return formatted_params[ndx];
        else return p;
      });

      const default_inlet_values &#x3D; this.ops.getOp(name).inlets.map(el &#x3D;&gt; el.value);

      if(inlets &#x3D;&#x3D;&#x3D; undefined || inlets.length &#x3D;&#x3D; 0){
        inlets &#x3D; default_inlet_values.slice();
        if(this.ops.isDynamic(name)){
          const op &#x3D; &lt;DynamicOperation&gt; this.ops.getOp(name);
          (&lt;OpNode&gt; node).params &#x3D; params_out.slice()
          let dynamic_inlets &#x3D; this.onDynanmicOperationParamChange(node.id, name, inlets, op.dynamic_param_id, op.params[op.dynamic_param_id].value);
          
          inlets &#x3D; dynamic_inlets.slice();
        }
      }

       inlets &#x3D; inlets.map(el &#x3D;&gt; (el &#x3D;&#x3D;&#x3D; null) ? 0 : el); 

  
      node.dirty &#x3D; false;
      (&lt;OpNode&gt; node).name &#x3D; name;
      (&lt;OpNode&gt; node).params &#x3D; params_out.slice();
      (&lt;OpNode&gt; node).inlets &#x3D; inlets.slice();
  
     return Promise.resolve({on:&lt;OpNode&gt; nodes[0], entry});
  


  
  }

  /**
   * recomputes the value of every loom. 
   */
  updateLooms(){

    this.getDraftNodes().forEach(dn &#x3D;&gt; {
    
      const loom_utils &#x3D; getLoomUtilByType(dn.loom_settings.type);
      loom_utils.computeLoomFromDrawdown(dn.draft.drawdown, dn.loom_settings, this.ws.selected_origin_option).then(loom &#x3D;&gt; {
        dn.loom &#x3D; loom;
      });
    });

  }


  /**
   * a preview is a temporary object that is created when two drafts overlap in drawing mode
   * it just needs to contain a draft (and no loom as it will be deleted when the active operation ends)
   * @param sd 
   * @param draft 
   * @returns 
   */
  setPreview(sd: any, draft: Draft) : Promise&lt;DraftNode&gt;{
    this.preview &#x3D; {
      id: -1,
      type: &quot;draft&quot;,
      ref: sd.hostView,
      component: &lt;SubdraftComponent&gt; sd.instance,
      dirty: true, 
      draft: copyDraft(draft),
      loom: null,
      loom_settings: null,
      render_colors: false
    }

    sd.dirty &#x3D; true;

    return Promise.resolve(this.preview);
  
  }

  setPreviewDraft(draft: Draft) : Promise&lt;DraftNode&gt;{
    if(this.preview &#x3D;&#x3D;&#x3D; undefined) return Promise.reject(&quot;preview undefined&quot;);
      this.preview.draft &#x3D; copyDraft(draft);
      this.preview.dirty &#x3D; true;
      (&lt;SubdraftComponent&gt; this.preview.component).draft &#x3D; draft;
      return Promise.resolve(this.preview);
  }



  unsetPreview(){
    this.preview &#x3D; undefined;
  }

  hasPreview():boolean{
      if(this.preview &#x3D;&#x3D;&#x3D; undefined) return false;
      return true;
  }


  getPreview() : DraftNode{
    return this.preview;
  }

  getPreviewComponent() : SubdraftComponent{
    return &lt;SubdraftComponent&gt; this.preview.component;
  }

  /**
   * returns a list of all the node ids of drafts that are dirty (including preview)
   */
  getDirtyDrafts() : Array&lt;number&gt; {

    return this.nodes.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &quot;draft&quot;)
      .concat(this.preview)
      .filter(el &#x3D;&gt; el.dirty)
      .map(el &#x3D;&gt; el.id);
  }


 /**
  * load the data into the draft node
  * @param entry the map entry associated with this node, null if not supplied
  * @param id the id of this node, which should match the component
  * @param draft the draft to associate with this node
  * @param loom the loom to associate with this node
  * @returns the created draft node and the entry associated with this
  */
  loadDraftData(entry: {prev_id: number, cur_id: number}, draft: Draft, loom: Loom, loom_settings: LoomSettings, render_colors: boolean) : Promise&lt;{dn: DraftNode, entry:{prev_id: number, cur_id: number}}&gt;{

    const nodes &#x3D; this.nodes.filter(el &#x3D;&gt; el.id &#x3D;&#x3D;&#x3D; entry.cur_id);

    if(nodes.length !&#x3D;&#x3D; 1) return Promise.reject(&quot;found 0 or more than 1 nodes at id &quot;+entry.cur_id);

    nodes[0].dirty &#x3D; true;

    draft.id &#x3D; entry.cur_id;
   (&lt;DraftNode&gt; nodes[0]).draft &#x3D; copyDraft(draft);



   if(loom_settings &#x3D;&#x3D;&#x3D; null || loom_settings &#x3D;&#x3D; undefined){
    (&lt;DraftNode&gt; nodes[0]).loom_settings &#x3D; {
      type: this.ws.type,
      epi: this.ws.epi,
      units: this.ws.units,
      frames: this.ws.min_frames,
      treadles: this.ws.min_treadles
    }

   }else{
    (&lt;DraftNode&gt; nodes[0]).loom_settings &#x3D; loom_settings;
   }

   if(loom &#x3D;&#x3D;&#x3D; null){
    const loom_utils &#x3D; getLoomUtilByType( (&lt;DraftNode&gt; nodes[0]).loom_settings.type);
   loom_utils.computeLoomFromDrawdown(draft.drawdown,(&lt;DraftNode&gt; nodes[0]).loom_settings,  this.ws.selected_origin_option).then(loom &#x3D;&gt; {
      (&lt;DraftNode&gt; nodes[0]).loom &#x3D; loom;
    });
   }else{
    (&lt;DraftNode&gt; nodes[0]).loom &#x3D; copyLoom(loom);

   }

   if(render_colors &#x3D;&#x3D;&#x3D; undefined || render_colors &#x3D;&#x3D;&#x3D; null)  (&lt;DraftNode&gt; nodes[0]).render_colors &#x3D; false;
   else (&lt;DraftNode&gt; nodes[0]).render_colors &#x3D; render_colors;
   //console.log(&quot;DRAFT NODE LOADED:&quot;,_.cloneDeep(&lt;DraftNode&gt; nodes[0]))
   return Promise.resolve({dn: &lt;DraftNode&gt; nodes[0], entry});

  }


  /**
   * loads in data to the nodes, from undo/redo or new file additions.
   * when loading new files or states, the tree will have been previously cleared. \
   * when loading new nodes from a file into an existing workspace,new ids must be assigned to ensure they are unique
   * nodes are loaded before the view has been inititialized 
   * when new data is loaded, it makes sure each of the ids generated is unique
   * @param type the type of node to create
   * @param id the current id of the 
   * @returns a map representating any id changes
   */
  loadNode(type: &#x27;draft&#x27;|&#x27;op&#x27;|&#x27;cxn&#x27;, id: number):{prev_id: number, cur_id: number}{

    let node: Node;

  
    switch(type){
      case &#x27;draft&#x27;:
        node &#x3D; &lt;DraftNode&gt; {
          type: type,
          ref: null,
          id: this.getUniqueId(),
          component: null,
          dirty: false,
          draft: null,
          loom:null,
          loom_settings: null
        }


        break;
      case &#x27;op&#x27;: 

      node &#x3D; &lt;OpNode&gt; {
        type: type,
        ref: null,
        id: this.getUniqueId(),
        component: null,
        dirty: false,
        params: [],
        inlets: [],
        name: &#x27;&#x27;
      }
      break;
      default: 
       node &#x3D; {
        type: type,
        ref: null,
        id: this.getUniqueId(),
        component: null,
        dirty: false,
      }
      break;
    }


    this.nodes.push(node);

      this.tree.push({
        node: node,
        parent: null,
        outputs: [],
        inputs: []
      });


  
    return {prev_id: id, cur_id: node.id};
  }





  getConnectionsInvolving(node_id: number) : {from: number, to: number}{

    const tn &#x3D; this.getTreeNode(node_id);
    if(tn.outputs.length !&#x3D;&#x3D; 1) console.error(&quot;connection node has more than one to&quot;);
    if(tn.inputs.length !&#x3D;&#x3D; 1) console.error(&quot;connection node has more than one from&quot;);

    return {from: tn.inputs[0].tn.node.id, to: tn.outputs[0].tn.node.id};


  }


  /**
   * given an operation and a connection, return the inlet to which this connection inserts 
   * @param op_id 
   * @param cxn_id 
   * @param returns the position index of the cxn or -1 if not found
   */
  getInletOfCxn(op_id: number, cxn_id) : number {
    const inputs &#x3D; this.getInputsWithNdx(op_id);
    const ndx:Array&lt;number&gt; &#x3D; inputs
      .filter(el &#x3D;&gt; el.tn.node.id &#x3D;&#x3D;&#x3D; cxn_id)
      .map(el &#x3D;&gt; el.ndx);

    if(ndx.length &#x3D;&#x3D;&#x3D; 0 ) return -1;
    if(ndx.length &#x3D;&#x3D;&#x3D; 1) return ndx[0];

    console.error(&quot;connection found at more than one inlet&quot;);
    return -1;
      
  }

  /**
   * before performing a dynamic op, make sure that their are no connections that are pointing to an inlet that nolonger exists
   * @param id - the object id we are checking
   * @returns an array of viewRefs for Connections to remove.
   */
  sweepInlets(id: number) : Promise&lt;Array&lt;ViewRef&gt;&gt;{

     const opnode: OpNode &#x3D; this.getOpNode(id);
     const op: Operation &#x3D; this.ops.getOp(opnode.name);
     const inputs_to_op:Array&lt;IOTuple&gt; &#x3D; this.getInputsWithNdx(id);

    const num_constant_inlets &#x3D; op.inlets.length;

    //filter out inputs that are matched to an index highter than what we offer
    const missing_inlets: Array&lt;IOTuple&gt; &#x3D; inputs_to_op
      .filter((el) &#x3D;&gt; el.ndx &gt;&#x3D; opnode.inlets.length)

    const viewRefs &#x3D; missing_inlets.map(el &#x3D;&gt; el.tn.node.ref);

    
    missing_inlets.forEach(el &#x3D;&gt; {
        this.removeConnectionNode(el.tn.inputs[0].tn.node.id, el.tn.outputs[0].tn.node.id, el.ndx);
    });

    return Promise.resolve(viewRefs);

  }
    

  /**
   * sets the open connection
   * @param id the value to set the open connection to
   * @returns  true if the id maps to a subdraft
   */
  setOpenConnection(id: number) : boolean {
    if(this.getType(id) !&#x3D;&#x3D; &#x27;draft&#x27;) return false;
    this.open_connection &#x3D; id; 
    console.log(&quot;set open connection&quot;, id)
    return true;
  }

  hasOpenConnection():boolean{
    return this.open_connection !&#x3D;&#x3D; -1;
  }

  getOpenConnection(): SubdraftComponent{
    return &lt;SubdraftComponent&gt; this.getComponent(this.open_connection);
  }

  /**
   * TEMP DISABLE DUE TO CAUSING PROBLEMS 
   * unsets the open connection
   * @returns  true if it indeed changed the value
   */
  unsetOpenConnection() : boolean{
    this.open_connection &#x3D; -1;
      return true;
  }

  setNodeComponent(id: number, c: SubdraftComponent | OperationComponent | ConnectionComponent){
    const node: Node &#x3D; this.getNode(id);
    node.component &#x3D; c;
  }

  setNodeViewRef(id: number, v: ViewRef){
    const node: Node &#x3D; this.getNode(id);
    node.ref &#x3D; v;
  }

  /** clears all the data associated with this tree */
  clear(){
    this.tree &#x3D; [];
    this.nodes &#x3D; [];
  }


  /** depends on having nodes created first so that all tree nodes are present */


  /**
   * this function is called from the mixer when processing file data. It depends on having all nodes created first. 
   * @param id_map this is a map created on upload that maps uploaded ids to the current ids. 
   * @param node_id the current node_id
   * @param parent_id the current treenode id of the parent node
   * @param inputs the current treenode ids for all inputs
   * @param outputs the current treenode ids for all outputs
   * @returns an object that holds the tree node as well as its associated map entry
   */
  async loadTreeNodeData(id_map: any, node_id: number, parent_id: number, inputs:Array&lt;{tn: number, ndx: number}&gt;,  outputs:Array&lt;{tn: number, ndx: number}&gt;): Promise&lt;{tn: TreeNode, entry: {prev_id: number, cur_id: number}}&gt;{

    const entry &#x3D; id_map.find(el &#x3D;&gt; el.cur_id &#x3D;&#x3D;&#x3D; node_id);
  
    const tn: TreeNode &#x3D; this.getTreeNode(node_id);
    tn.parent &#x3D; (parent_id &#x3D;&#x3D;&#x3D; -1) ? null : this.getTreeNode(parent_id);
    tn.inputs &#x3D; inputs
      .filter(input &#x3D;&gt; input !&#x3D;&#x3D; undefined)
      .map(input &#x3D;&gt; {return {tn: this.getTreeNode(input.tn), ndx: input.ndx}});
    tn.outputs &#x3D; outputs
      .filter(output &#x3D;&gt; output !&#x3D;&#x3D; undefined)
      .map(output &#x3D;&gt; {
      return {tn: this.getTreeNode(output.tn), ndx: output.ndx}
    });
    return Promise.resolve({tn, entry});


  }



  /**
   * create an node and add it to the tree (without relationships)
   * @param id a unique id for this component, ideally created by the viewCompomentRef 
   * @param type the type of component
   * @param component the compoenent instance
   * @returns the id assigned
   */
  createNode(type: &#x27;draft&#x27;|&#x27;op&#x27;|&#x27;cxn&#x27;, component: SubdraftComponent | OperationComponent | ConnectionComponent, ref: ViewRef):number{


    let node: Node;

    switch(type){
      case &#x27;draft&#x27;:
        node &#x3D; &lt;DraftNode&gt; {
          type: type,
          ref: ref,
          id: this.getUniqueId(),
          component: component,
          dirty: false,
          draft: null
        }
        break;
      case &#x27;op&#x27;: 
      node &#x3D; &lt;OpNode&gt; {
        type: type,
        ref: ref,
        id: this.getUniqueId(),
        component: component,
        inlets: [],
        dirty: false,
        params: [],
        name: &#x27;&#x27;
      }


      break;
      default: 
       node &#x3D; {
        type: type,
        ref: ref,
        id: this.getUniqueId(),
        component: component,
        dirty: false,
      }
      break;
    }

    this.nodes.push(node);

      this.tree.push({
        node: node,
        parent: null,
        outputs: [],
        inputs: []
      });
    

    return node.id;
  }

  getComponent(id:number): SubdraftComponent | ConnectionComponent | OperationComponent{
    const node: Node &#x3D; this.getNode(id);
    return node.component; 
  }

  getComponents():Array&lt;any&gt;{
    return this.nodes.map(node &#x3D;&gt; node.component);
  }

  getNode(id:number):Node{
    const ndx: number &#x3D; this.getNodeIndex(id);
    if(ndx &#x3D;&#x3D;&#x3D; -1) return null;
    return this.nodes[ndx]; 
  }

  getNodeIdList() : Array&lt;number&gt; {
    return this.nodes.map(node &#x3D;&gt; node.id);
  }

  getNodeIndex(id:number):number{
    return this.nodes.findIndex(el &#x3D;&gt; (el.id &#x3D;&#x3D; id));
  }

  getType(id:number):string{
    const node: Node &#x3D; this.getNode(id);
    return node.type;
  }

  getViewRef(id:number):ViewRef{
    const node: Node &#x3D; this.getNode(id);
    return node.ref;
  }


  /**
   * get&#x27;s this subdraft&#x27;s parent
   * @param sd_id 
   * @returns the parent&#x27;s id, or -1 if it has no parent
   */
  getSubdraftParent(sd_id: number):number{
    const tn: TreeNode &#x3D; this.getTreeNode(sd_id);
    if(tn.parent &#x3D;&#x3D;&#x3D; null || tn.parent &#x3D;&#x3D;&#x3D; undefined) return -1;
    else return tn.parent.node.id;
  }

  hasParent(sd_id: number) : boolean{
    return (this.getSubdraftParent(sd_id) &#x3D;&#x3D;&#x3D; -1) ? false : true;
  }

  /**
   * return the connection objects that are immediately attached to this object
   * @param id - the node id
   * @returns an array of id&#x27;s for the immediatly connected connections
   */
  getNodeConnections(id: number):Array&lt;number&gt;{
    const tn: TreeNode &#x3D; this.getTreeNode(id);
    const out_node: Array&lt;Node&gt; &#x3D; tn.outputs.map(el &#x3D;&gt; el.tn.node);
    const out_cxn: Array&lt;Node&gt; &#x3D; out_node.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;);
    const in_node: Array&lt;Node&gt; &#x3D; tn.inputs.map(el &#x3D;&gt; el.tn.node);
    const in_cxn: Array&lt;Node&gt; &#x3D; in_node.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;);
    const join: Array&lt;Node&gt; &#x3D; out_cxn.concat(in_cxn);
    return join.map(el &#x3D;&gt; el.id);
  }

  /**
   * gets a list of non-connection nodes that need to be updated if this node moves. 
   * this takes into acccount that some nodes have a parent that will move with them.
   * @param id 
   * @returns 
   */
  getNodesToUpdateOnMove(id: number){

    const tn: TreeNode &#x3D; this.getTreeNode(id);
    let to_check: Array&lt;number&gt; &#x3D; [id];

    if(this.isMultipleParent(id) || this.isSibling(id)) return to_check;
    
    //the parent if there is one
    if(tn.parent !&#x3D;&#x3D; null) to_check.push(tn.parent.node.id);

    //add the child this node generated if there is one. 
    const outputs: Array&lt;TreeNode&gt; &#x3D; this.getNonCxnOutputs(id).map(el &#x3D;&gt; this.getTreeNode(el));


    const has_parents: Array&lt;TreeNode&gt; &#x3D; outputs.filter(el &#x3D;&gt; (el.parent !&#x3D;&#x3D; null));
    const is_child: Array&lt;number&gt; &#x3D; has_parents.filter(el &#x3D;&gt; (el.parent.node.id &#x3D;&#x3D;&#x3D; id)).map(el &#x3D;&gt; el.node.id);

    if(is_child.length &gt; 0) to_check &#x3D; to_check.concat(is_child);

    

    return to_check;

  }

  /**
   * called on an operation to check if it can accept connections from a given subdraft
   * @param id - the id of the operation in question
   * @param inlet - the inlet id we are looking at
   */
  canAcceptConnections(id: number, inlet: number) : boolean {

    if(this.open_connection &#x3D;&#x3D;&#x3D; -1) {
    console.error(&quot;no open connection&quot;);
    return false;    //there is no open connection
    }
  
    const parent_op &#x3D; this.getSubdraftParent(this.open_connection);
    
    if(parent_op &#x3D;&#x3D;&#x3D; id){
      return false; //can&#x27;t be an input to your parent
    } 

    const is_already_connected &#x3D; this.getInputsAtNdx(id, inlet).length &gt; 0 &amp;&amp; this.getInputs(id).find(el &#x3D;&gt; el &#x3D;&#x3D;&#x3D; this.open_connection) !&#x3D;&#x3D; undefined;
    if(is_already_connected){
     // console.error(&quot;already connected, draft&#x3D;&quot;, this.open_connection, &quot; opid&#x3D;&quot;, id);
      return false; //these two things are already directly connected
    } 

    

    const has_room &#x3D; (this.getInputs(id).length &lt; (&lt;OperationComponent&gt; this.getComponent(id)).op.inlets[inlet].num_drafts || (&lt;OperationComponent&gt; this.getComponent(id)).op.inlets[inlet].num_drafts &#x3D;&#x3D; -1);
    if(!has_room) return false;

    if(parent_op &#x3D;&#x3D;&#x3D; -1 &amp;&amp; has_room) return true; //if you don&#x27;t have a parent and there is room, go for it

    const upstream  &#x3D; this.getUpstreamOperations(parent_op);
    const no_circles &#x3D; upstream.length &#x3D;&#x3D; 0 || upstream.find(el &#x3D;&gt; el &#x3D;&#x3D;&#x3D; parent_op) &#x3D;&#x3D; -1;

    return has_room &amp;&amp; no_circles;
  }

  /**
   * test if this node has children, as opposed to just zero
   * @param id 
   * @returns a boolean 
   */
   isParent(id: number):boolean{
    const tn: TreeNode &#x3D; this.getTreeNode(id);
    return (tn.outputs.length &gt; 0);
  }

  /**
   * test if this node is a seed (e.g. has no inputs)
   * @param id 
   * @returns a boolean 
   */
    isSeedDraft(id: number):boolean{
      const tn: TreeNode &#x3D; this.getTreeNode(id);
      return (this.getType(id) &#x3D;&#x3D;&#x3D; &quot;draft&quot; &amp;&amp; tn.inputs.length &#x3D;&#x3D;&#x3D; 0);
    }

    /**
   * test if this node has just one child. 
   * @param id 
   * @returns a boolean 
   */
    hasSingleChild(id: number):boolean{
        const tn: TreeNode &#x3D; this.getTreeNode(id);
        return (tn.outputs.length &#x3D;&#x3D;&#x3D; 1);
    }


    /**
     * test if this node has just one child and that child subdraft is currently hidden 
     * @param id 
     * @returns a boolean 
     */
      opHasHiddenChild(id: number):boolean{
          const tn: TreeNode &#x3D; this.getTreeNode(id);
          const outs &#x3D; this.getNonCxnOutputs(id);

          if(outs.length &#x3D;&#x3D;&#x3D; 0) return false;

          const child_id &#x3D; outs.shift();
          const sd &#x3D; &lt;SubdraftComponent&gt; this.getComponent(child_id);
          return !sd.draft_visible;
      }
  
    


  /**
   * test if this node has many children, as opposed to just one
   * @param id 
   * @returns a boolean 
   */
  isMultipleParent(id: number):boolean{
    const tn: TreeNode &#x3D; this.getTreeNode(id);
    return (tn.outputs.length &gt; 1);
  }

  /**
   * test if two components are siblings (e.g. they have the same parent). 
   * if we pass the same id in for both, it will return false
   * @param id 
   * @returns a boolean 
   */
   areSiblings(a_id: number, b_id: number):boolean{

    if(a_id &#x3D;&#x3D;&#x3D; b_id) return false; 

    const atn: TreeNode &#x3D; this.getTreeNode(a_id);
    const btn: TreeNode &#x3D; this.getTreeNode(b_id);
    if(atn.parent &#x3D;&#x3D; null || btn.parent &#x3D;&#x3D; null) return false;
    return (atn.parent.node.id &#x3D;&#x3D;&#x3D; btn.parent.node.id);
  }

    /**
   * test if this node is a sibling of the one provided
   * @param id 
   * @returns a boolean 
   */
    isSibling(id: number):boolean{
    const tn: TreeNode &#x3D; this.getTreeNode(id);
    if(tn.parent &#x3D;&#x3D; null) return false;
    return (this.getTreeNode(tn.parent.node.id).outputs.length &gt; 1);
  }
  


  /**
   * given a node, recusively walks the tree and returns a list of all the operations that are affected
   * @param id 
   * @returns an array of operation ids for nodes that need recalculating
   */
  getDownstreamOperations(id: number):Array&lt;number&gt;{

    let ops: Array&lt;number&gt; &#x3D; [];
    const tn: TreeNode &#x3D; this.getTreeNode(id);
    if(tn.outputs.length &gt; 0){

      tn.outputs.forEach(el &#x3D;&gt; {
        if(el.tn.node.type &#x3D;&#x3D; &#x27;op&#x27;){
          ops.push(el.tn.node.id);  
        }
        ops &#x3D; ops.concat(this.getDownstreamOperations(el.tn.node.id));
      });
    }
    return ops;
  }

    /**
   * given a node, recusively walks the tree and returns a list of all the operations that are linked up the chain to this component
   * @param id 
   * @returns an array of operation ids that influence this draft
   */
     getUpstreamOperations(id: number):Array&lt;number&gt;{

      let ops: Array&lt;number&gt; &#x3D; [];
      const tn: TreeNode &#x3D; this.getTreeNode(id);

      if(tn.inputs.length &gt; 0){
        tn.inputs.forEach(el &#x3D;&gt; {
          if(el.tn.node.type &#x3D;&#x3D;&#x3D; &#x27;op&#x27;){
            ops.push(el.tn.node.id);  
          }
          ops &#x3D; ops.concat(this.getUpstreamOperations(el.tn.node.id));
        });
      }
      return ops;
    }


    /**
   * given a node, recusively walks the tree and returns a list of all the drafts that are linked up the chain to this component
   * @param id 
   * @returns an array of draft ids that influence this draft
   */
     getUpstreamDrafts(id: number):Array&lt;number&gt;{
      let ops: Array&lt;number&gt; &#x3D; [];
      const tn: TreeNode &#x3D; this.getTreeNode(id);
      
      if(tn.inputs.length &gt; 0){
        tn.inputs.forEach(el &#x3D;&gt; {
          if(el.tn.node.type &#x3D;&#x3D; &#x27;draft&#x27;){
            ops.push(el.tn.node.id);  
          }
          ops &#x3D; ops.concat(this.getUpstreamDrafts(el.tn.node.id));
        });
      }
      return ops;
    }

/**
   * removes a subdraft and all associated connections from the tree, returns the nodes
   * @param id {number}  

   */
 removeSubdraftNode(id: number) : Array&lt;Node&gt;{


  const deleted:Array&lt;Node&gt; &#x3D; []; 
  if(id &#x3D;&#x3D;&#x3D; undefined) return;




  //get any input ops and connections
  const ops_in: Array&lt;number&gt; &#x3D; this.getNonCxnInputs(id);
  const cxns_in: Array&lt;number&gt; &#x3D; this.getInputs(id);

  //get output connections and subdrafts
  const cxns_out: Array&lt;number&gt; &#x3D; this.getOutputs(id); //the connection between the op and child subdrafts
  const ops_out: Array&lt;number&gt; &#x3D; this.getNonCxnOutputs(id); //get all 
  
  //get all the output connections of those subdrafts
  const op_in_cxns: Array&lt;number&gt; &#x3D; ops_in.reduce((acc, el) &#x3D;&gt; {
    return acc.concat(this.getInputs(el))
  }, []);

  // console.log(&quot;Ops in&quot;, ops_in);
  // console.log(&quot;CXNs in&quot;, cxns_in);
  // console.log(&quot;CXNs out&quot;, cxns_out);
  // console.log(&quot;OPSs out&quot;, ops_out);
  // console.log(&quot;op connections in&quot;, op_in_cxns);

  deleted.push(this.removeNode(id));

  cxns_in.forEach(el &#x3D;&gt; {
    deleted.push( this.removeNode(el));
  });

  cxns_out.forEach(el &#x3D;&gt; {
    deleted.push( this.removeNode(el));
  });


  ops_in.forEach(el &#x3D;&gt; {
    deleted.push( this.removeNode(el));
  });


  op_in_cxns.forEach(el &#x3D;&gt; {
    deleted.push( this.removeNode(el));
  });
 // deleted.concat(sds_in.map(el &#x3D;&gt; this.removeNode(el)));
 // deleted.concat(cxns_in.map(el &#x3D;&gt; {return this.removeNode(el)}));
 // deleted.concat(cxns_out.map(el &#x3D;&gt; {return this.removeNode(el)}));
  //deleted.concat(sds_out.map(el &#x3D;&gt; {return this.removeNode(el)}));
  //deleted.concat(sds_out_cxns.map(el &#x3D;&gt; {return this.removeNode(el)}));
  
  return deleted;

}

/**
 * deletes an operation node and any associated subdrafts and connections
 * @param id - the operation to remove
 * @returns a list of all nodes removed as a result of this action
 */
removeOperationNode(id:number) : Array&lt;Node&gt;{


  const deleted:Array&lt;Node&gt; &#x3D; []; 
  if(id &#x3D;&#x3D;&#x3D; undefined) return;


  //get any input subdrafts and connections
  const sds_in: Array&lt;number&gt; &#x3D; this.getNonCxnInputs(id);
  
  const cxns_in: Array&lt;number&gt; &#x3D; this.getInputs(id);

  //get output connections and subdrafts
  const cxns_out: Array&lt;number&gt; &#x3D; this.getOutputs(id); //the connection between the op and child subdrafts
  const sds_out: Array&lt;number&gt; &#x3D; this.getNonCxnOutputs(id); //get all 
  
  //get all the output connections of those subdrafts
  const sds_out_cxns: Array&lt;number&gt; &#x3D; sds_out.reduce((acc, el) &#x3D;&gt; {
    return acc.concat(this.getOutputs(el))
  }, []);

  // console.log(&quot;SDs in&quot;, sds_in);
  // console.log(&quot;CXNs in&quot;, cxns_in);
  // console.log(&quot;CXNs out&quot;, cxns_out);
  // console.log(&quot;SDs out&quot;, sds_out);
  // console.log(&quot;sd connections out&quot;, sds_out_cxns);

  deleted.push(this.removeNode(id));

  cxns_in.forEach(el &#x3D;&gt; {
    deleted.push( this.removeNode(el));
  });

  cxns_out.forEach(el &#x3D;&gt; {
    deleted.push( this.removeNode(el));
  });


  sds_out.forEach(el &#x3D;&gt; {
    deleted.push( this.removeNode(el));
  });


  sds_out_cxns.forEach(el &#x3D;&gt; {
    deleted.push( this.removeNode(el));
  });
  return deleted;
    
}

/**
 * deletes a connection
 * @param id - the connection to remove
 * @returns a list of all nodes removed as a result of this action
 */
 //removeConnectionNode(from:number, to:number, inletid: number) : Array&lt;Node&gt;{
  removeConnectionNode(from:number, to:number, inletid: number) : Array&lt;Node&gt;{


  const cxn_id:number &#x3D; this.getConnectionAtInlet(from, to, inletid);

  const deleted:Array&lt;Node&gt; &#x3D; []; 
  if(cxn_id &#x3D;&#x3D;&#x3D; undefined) return;

  deleted.push(this.removeNode(cxn_id));

  return deleted;
    
}

removeConnectionNodeById(cxn_id: number) : Array&lt;Node&gt;{



  const deleted:Array&lt;Node&gt; &#x3D; []; 
  if(cxn_id &#x3D;&#x3D;&#x3D; undefined) return;

  deleted.push(this.removeNode(cxn_id));

  return deleted;
    
}



/**
 * this removes a node from the list and tree
 * @param id the id of the node to be removed
 * @returns the node it removed
 */
  removeNode(id: number) : Node{


    const deleted: Array&lt;Node&gt; &#x3D; [];

    const node: Node &#x3D; this.getNode(id);
    deleted.push(node);
    if(node &#x3D;&#x3D;&#x3D; undefined) return;


    this.removeNodeTreeAssociations(node.id);
   
    //remove all connections connecting to and from this node
    const ndx: number &#x3D; this.getNodeIndex(id);
    const i: number &#x3D; this.tree.findIndex(el &#x3D;&gt; (el.node.id &#x3D;&#x3D; id));
    this.tree.splice(i, 1);
    this.nodes.splice(ndx, 1);

    return node;
  
  }




  /**
   * searches within the downstream ops for all opnodes and when a &quot;dirty&quot; node has all possible inputs fulfilled
   * @returns return a list of those nodes
   */
  getNodesWithDependenciesSatisfied() : Array&lt;OpNode&gt;{

    const dependency_nodes: Array&lt;OpNode&gt; &#x3D; this.nodes
    .filter(el &#x3D;&gt; el.dirty &amp;&amp; el.type &#x3D;&#x3D;&#x3D; &quot;op&quot;)
    .map(el &#x3D;&gt; &lt;OpNode&gt; el);

    // const dependency_nodes: Array&lt;OpNode&gt; &#x3D; ds
    // .map(el &#x3D;&gt; &lt;OpNode&gt; this.getNode(el))
    // .filter(el &#x3D;&gt; el.dirty);

    const ready: Array&lt;OpNode&gt; &#x3D; dependency_nodes.filter((el, ndx) &#x3D;&gt; {
      const depends_on: Array&lt;number&gt; &#x3D; this.getUpstreamOperations(el.id);
      const needs &#x3D; depends_on.map(id &#x3D;&gt; this.getNode(id).dirty);
      const find_true &#x3D; needs.findIndex(el &#x3D;&gt; el &#x3D;&#x3D;&#x3D; true);
      if(find_true &#x3D;&#x3D;&#x3D; -1) return el;
    });
  
    return ready;
  }


/**
   * given the results of an operation, updates any associated drafts, creating or adding null drafts to no longer needed drafts
   * since this function cannot delete nodes, it makes nodes that no longer need to exist as null for later collection
   * @param res the list of results from perform op
   * @returns a list of the draft nodes touched. 
   */
 async updateDraftsFromResults(parent: number, res: Array&lt;Draft&gt;, inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;number&gt;&gt;{
  const out &#x3D; this.getNonCxnOutputs(parent);
  const touched: Array&lt;number&gt; &#x3D; [];
  const opnode:OpNode &#x3D; this.getOpNode(parent);
  const op: Operation &#x3D; this.ops.getOp(opnode.name);

  //console.log(&quot;updating drafts, there are currently: &quot;, out.length, &quot;existing ouputs and &quot;, res.length, &quot;new outputs&quot;);

  if(out.length &#x3D;&#x3D;&#x3D; res.length){

    out.forEach((output, ndx) &#x3D;&gt; {
      this.setDraftOnly(output, res[ndx]);
      touched.push(output);
    });
    return Promise.resolve(touched);

  }else if(out.length &gt; res.length){
    //create a new draft node for each outcome;
    for(let i &#x3D; res.length; i &lt; out.length; i++){
      const dn &#x3D; &lt;DraftNode&gt; this.getNode(out[i]);
      if(dn.render_colors &#x3D;&#x3D;&#x3D; undefined) dn.render_colors &#x3D; false;
      dn.draft &#x3D; initDraftWithParams({wefts: 1, warps: 1});
      dn.loom_settings &#x3D; {
        type: this.ws.type,
        units: this.ws.units,
        epi: this.ws.epi,
        frames: this.ws.min_frames,
        treadles: this.ws.min_treadles
      }

      const loom_utils &#x3D; getLoomUtilByType(dn.loom_settings.type);
      loom_utils.computeLoomFromDrawdown(dn.draft.drawdown, dn.loom_settings, this.ws.selected_origin_option)
      .then(loom &#x3D;&gt; {
        dn.loom &#x3D; loom;
        dn.dirty &#x3D; true;
        touched.push(out[i]);
        return Promise.resolve(touched);
      })

    }
   
  }else{
    const fns:Array&lt;any&gt; &#x3D; [];
    for(let i &#x3D; out.length; i &lt; res.length; i++){
      const id &#x3D; this.createNode(&#x27;draft&#x27;, null, null);
      const cxn &#x3D; this.createNode(&#x27;cxn&#x27;, null, null);
      this.addConnection(parent, 0,  id, 0,  cxn);
      fns.push(this.loadDraftData({prev_id: -1, cur_id: id}, res[i], null, null, true)); //add loom as null for now as it assumes that downstream drafts do not have custom loom settings (e.g. they can be generated from drawdown)
    }

    return Promise.all(fns)
    .then(drafts_loaded &#x3D;&gt; {

    const param_vals &#x3D; op.params.map((param, ndx) &#x3D;&gt; {
      return {
        param: param,
        val: opnode.params[ndx]
      }
    })

     const ids &#x3D; drafts_loaded.map(el &#x3D;&gt; el.entry.cur_id);
     ids.forEach((id, ndx) &#x3D;&gt; {
      let d &#x3D; this.getDraft(id);
       d.gen_name &#x3D; op.generateName(param_vals, inputs, ndx);
     })


     return Promise.resolve(ids);
    });
    
  

  }

}






/**
 * deteremines which ops are &quot;top level&quot; meaning there is no op above them 
 * @returns 
 */
  async performTopLevelOps(): Promise&lt;any&gt; {



    //mark all ops as dirty to start
    this.nodes.forEach(el &#x3D;&gt; {
      if(el.type &#x3D;&#x3D;&#x3D; &quot;op&quot;) el.dirty &#x3D; true;
    })

    const top_level_nodes &#x3D; 
      this.nodes
      .filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;op&#x27;)
      .filter(el &#x3D;&gt; this.getUpstreamOperations(el.id).length &#x3D;&#x3D;&#x3D; 0)
      .map(el &#x3D;&gt; el.id);


    return this.performGenerationOps(top_level_nodes);

  }

  /**
   * given a list of operations to perform, recursively performs all on nodes that have dependencies satisified
   * only after entire generation has been calculated
   * @param op_fn_list 
   * @returns //need a way to get this to return any drafts that it touched along the way
   */
  performGenerationOps(op_node_list: Array&lt;number&gt;) : Promise&lt;any&gt; {


    const needs_computing &#x3D; op_node_list.filter(el &#x3D;&gt; this.getOpNode(el).dirty);

    if(needs_computing.length &#x3D;&#x3D; 0) return Promise.resolve([]);

    const op_fn_list &#x3D; needs_computing.map(el &#x3D;&gt; this.performOp(el));
   
    
    return Promise.all(op_fn_list).then( out &#x3D;&gt; {
      const flat:Array&lt;number&gt; &#x3D; out.reduce((acc, el, ndx)&#x3D;&gt;{
        return acc.concat(el);
      }, []);

      return this.getNodesWithDependenciesSatisfied();

    }).then(needs_performing &#x3D;&gt; {
      const fns &#x3D; needs_performing.filter(el &#x3D;&gt; el.dirty).map(el &#x3D;&gt; el.id);
      if(needs_performing.length &#x3D;&#x3D;&#x3D; 0) return [];
      return  this.performGenerationOps(fns);    
    });

    
  }



isValidIOTuple(io: IOTuple) : boolean {
  if(io &#x3D;&#x3D;&#x3D; null || io &#x3D;&#x3D;&#x3D; undefined) return false;
  const draft_tn &#x3D; io.tn.inputs[0].tn;
  const cxn_tn &#x3D; io.tn;
  const type &#x3D; draft_tn.node.type;  
  const draft: Draft &#x3D; (&lt;DraftNode&gt;draft_tn.node).draft;
  if(draft &#x3D;&#x3D;&#x3D; null || draft &#x3D;&#x3D;&#x3D; undefined) return false;
  if(wefts(draft.drawdown) &#x3D;&#x3D; 0 || warps(draft.drawdown) &#x3D;&#x3D; 0) return false;
  return true;
}



/**
 * performs the given operation
 * returns the list of draft ids affected by this calculation
 * @param op_id the operation triggering this series of update
 */
 async performOp(id:number) : Promise&lt;Array&lt;number&gt;&gt; {

  const opnode &#x3D; &lt;OpNode&gt; this.getNode(id);
  const op &#x3D; this.ops.getOp(opnode.name);
  const all_inputs &#x3D; this.getInputsWithNdx(id);

  
  if(op &#x3D;&#x3D;&#x3D; null || op &#x3D;&#x3D;&#x3D; undefined) return Promise.reject(&quot;Operation is null&quot;)

  let inputs: Array&lt;OpInput&gt; &#x3D; [];
  //if(this.ops.isDynamic(opnode.name)){
    
  const param_vals &#x3D; op.params.map((param, ndx) &#x3D;&gt; {
    return {
      param: param,
      val: opnode.params[ndx]
    }
  })


    const flip_fns &#x3D; [];
    const draft_id_to_ndx &#x3D; [];
    const flips &#x3D; utilInstance.getFlips(this.ws.selected_origin_option, 3);

   
    all_inputs.filter(el &#x3D;&gt; this.isValidIOTuple(el))
    .forEach((el) &#x3D;&gt; {
      
      const draft_tn &#x3D; el.tn.inputs[0].tn;
      const cxn_tn &#x3D; el.tn;
      const type &#x3D; draft_tn.node.type;

      if(type &#x3D;&#x3D;&#x3D; &#x27;draft&#x27;){
        draft_id_to_ndx.push({ndx: el.ndx, node_id: draft_tn.node.id, cxn: cxn_tn.node.id})
        flip_fns.push(flipDraft((&lt;DraftNode&gt;draft_tn.node).draft, flips.horiz, flips.vert));
      }
    });


   
    return Promise.all(flip_fns)
    .then(flipped_drafts &#x3D;&gt; {
       
      const paraminputs &#x3D; draft_id_to_ndx.map(el &#x3D;&gt; {
          const draft &#x3D; flipped_drafts.find(draft &#x3D;&gt; draft.id &#x3D;&#x3D;&#x3D; el.node_id);
          if(draft &#x3D;&#x3D;&#x3D; undefined){
            console.error(&quot;Draft not found in flipped&quot;, flipped_drafts,draft_id_to_ndx, el);
            return undefined;
          } 
          else return {drafts: [draft], inlet_id: el.ndx, params: [opnode.inlets[el.ndx]]}
        })
      
      const cleaned_inputs: Array&lt;OpInput&gt; &#x3D; paraminputs.filter(el &#x3D;&gt; el !&#x3D; undefined);

      inputs &#x3D; inputs.concat(cleaned_inputs);
      return op.perform(param_vals, inputs);

    })
    .then(res &#x3D;&gt; {
          
          const flips &#x3D; utilInstance.getFlips(this.ws.selected_origin_option, 3);
          return Promise.all(res.map(el &#x3D;&gt; flipDraft(el,  flips.horiz, flips.vert)));
      })
    .then(flipped &#x3D;&gt; {
        opnode.dirty &#x3D; false;
        
        return this.updateDraftsFromResults(id, flipped, inputs);
      })

        

  

  }




  getDraftNodes():Array&lt;DraftNode&gt;{
    return this.nodes.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;draft&#x27;).map(el &#x3D;&gt; &lt;DraftNode&gt; el);
  }

  getDrafts():Array&lt;SubdraftComponent&gt;{
    const draft_nodes: Array&lt;Node&gt; &#x3D; this.nodes.filter(el &#x3D;&gt; el.type &#x3D;&#x3D; &#x27;draft&#x27;);
    const draft_comps: Array&lt;SubdraftComponent&gt; &#x3D; draft_nodes.map(el &#x3D;&gt; &lt;SubdraftComponent&gt;el.component);
    return draft_comps;
  }

  getLoom(id: number):Loom{
    if(id &#x3D;&#x3D;&#x3D; -1) return null;
    const dn: DraftNode &#x3D; &lt;DraftNode&gt; this.getNode(id);
    if(dn &#x3D;&#x3D;&#x3D; null || dn &#x3D;&#x3D;&#x3D; undefined) return null;
    return dn.loom;
  }

  setLoom(id: number, loom:Loom){
    const dn: DraftNode &#x3D; &lt;DraftNode&gt; this.getNode(id);
    if(dn !&#x3D;&#x3D; null &amp;&amp; dn !&#x3D;&#x3D; undefined) dn.loom &#x3D; copyLoom(loom);
  }

  setLoomAndRecomputeDrawdown(id: number, loom:Loom, loom_settings:LoomSettings) : Promise&lt;Draft&gt;{
    const dn: DraftNode &#x3D; &lt;DraftNode&gt; this.getNode(id);
    if(dn !&#x3D;&#x3D; null &amp;&amp; dn !&#x3D;&#x3D; undefined) dn.loom &#x3D; copyLoom(loom);

    const utils &#x3D; getLoomUtilByType(loom_settings.type);
    return utils.computeDrawdownFromLoom(loom, this.ws.selected_origin_option)
    .then(drawdown &#x3D;&gt; {
      dn.draft.drawdown &#x3D; drawdown;
      return Promise.resolve(dn.draft);
    })
  }

  getLoomSettings(id: number):LoomSettings{
    if(id &#x3D;&#x3D;&#x3D; -1) return null;
    const dn: DraftNode &#x3D; &lt;DraftNode&gt; this.getNode(id);
    if(dn &#x3D;&#x3D;&#x3D; null || dn &#x3D;&#x3D;&#x3D; undefined) return null;
    return dn.loom_settings;
  }

  setLoomSettings(id: number, loom_settings:LoomSettings){
    const dn: DraftNode &#x3D; &lt;DraftNode&gt; this.getNode(id);
    if(dn !&#x3D;&#x3D; null &amp;&amp; dn !&#x3D;&#x3D; undefined) dn.loom_settings &#x3D; loom_settings;
  }


  getLooms():Array&lt;Loom&gt;{
    const dns &#x3D; this.getDraftNodes();
    return dns.map(el &#x3D;&gt; el.loom);
  }

  getDraft(id: number):Draft{
    if(id &#x3D;&#x3D;&#x3D; -1) return this.preview.draft;
    const dn: DraftNode &#x3D; &lt;DraftNode&gt; this.getNode(id);
    if(dn &#x3D;&#x3D;&#x3D; null || dn &#x3D;&#x3D;&#x3D; undefined) return null;
    return dn.draft;
  }

  getDraftName(id: number):string{
    if(id &#x3D;&#x3D;&#x3D; -1) return this.preview.draft.ud_name;
    const dn: DraftNode &#x3D; &lt;DraftNode&gt; this.getNode(id);
    if(dn &#x3D;&#x3D;&#x3D; null || dn &#x3D;&#x3D;&#x3D; undefined || dn.draft &#x3D;&#x3D;&#x3D; null) return &quot;null draft&quot;;
    return (dn.draft.ud_name &#x3D;&#x3D;&#x3D; &quot;&quot;) ?  dn.draft.gen_name : dn.draft.ud_name; 
  }


  getConnections():Array&lt;ConnectionComponent&gt;{
    const draft_nodes: Array&lt;Node&gt; &#x3D; this.nodes.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;);
    const draft_comps: Array&lt;ConnectionComponent&gt; &#x3D; draft_nodes.map(el &#x3D;&gt; &lt;ConnectionComponent&gt;el.component);
    return draft_comps;
  }

  getOperations():Array&lt;OperationComponent&gt;{
    const draft_nodes: Array&lt;Node&gt; &#x3D; this.nodes.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;op&#x27;);
    const draft_comps: Array&lt;OperationComponent&gt; &#x3D; draft_nodes.map(el &#x3D;&gt; &lt;OperationComponent&gt;el.component);
    return draft_comps;
  }

  getOpNodes():Array&lt;OpNode&gt;{
    return this.nodes.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;op&#x27;).map(el &#x3D;&gt; (&lt;OpNode&gt; el));
  }

  /**
   * @todo update this to handle clear nodes whole input indexes no longer exist
   * scans the connections and checks that the to and from nodes AND INDEXES still exist
   * @returns an array of connections to delete
   */

  getUnusuedConnections():Array&lt;number&gt;{
    const comps: Array&lt;Node&gt; &#x3D; this.nodes.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;);
    const nodes: Array&lt;TreeNode&gt; &#x3D; comps.map(el &#x3D;&gt; this.getTreeNode(el.id));
    const to_delete: Array&lt;TreeNode&gt; &#x3D; [];
    

    nodes.forEach(el &#x3D;&gt;{
      if(el.inputs.length &#x3D;&#x3D;&#x3D; 0 || el.outputs.length &#x3D;&#x3D;&#x3D; 0){
        to_delete.push(el);
        return;
      } 
      
      const null_inputs &#x3D; el.inputs.filter(el &#x3D;&gt; el.tn.node &#x3D;&#x3D;&#x3D; null || el.tn.node &#x3D;&#x3D;&#x3D; undefined);
      null_inputs.forEach(el &#x3D;&gt; {
        to_delete.push(el.tn);
      })

      const null_outputs &#x3D; el.outputs.filter(el &#x3D;&gt; el.tn.node &#x3D;&#x3D;&#x3D; null || el.tn.node &#x3D;&#x3D;&#x3D; undefined);
      null_outputs.forEach(el &#x3D;&gt; {
        to_delete.push(el.tn);
      })
    });

    return to_delete.map(el &#x3D;&gt; el.node.id);
  }


  /**
   * gets the tree node associated with a given Node 
   * @param id the idea of the node (not the tree node id) 
   * @returns 
   */
  getTreeNode(id:number): TreeNode{
    const found &#x3D;  this.tree.find(el &#x3D;&gt; el.node.id &#x3D;&#x3D;&#x3D; id);
    if(found &#x3D;&#x3D;&#x3D; undefined){
      console.error(&quot;Tree node for &quot;, id, &quot;not found&quot;);
      return undefined;
    }
    return found;
  }

  /**
   * adds a connection from subddraft to operation. connections can be of the type 
   * subdraft -&gt; op (input to op)
   * op -&gt; subdraft (output generatedd by op)
   * @returns an array of the ids of the elements connected to this op

   */
  addConnection(from:number, from_ndx: number, to:number, to_ndx: number, cxn:number): Array&lt;number&gt;{


    let from_tn: TreeNode &#x3D; this.getTreeNode(from);
    let to_tn: TreeNode &#x3D; this.getTreeNode(to);
    const cxn_tn: TreeNode &#x3D; this.getTreeNode(cxn);

    from_tn.outputs.push({tn:cxn_tn, ndx: from_ndx});
    cxn_tn.inputs &#x3D; [{tn: from_tn, ndx: 0}];
    cxn_tn.outputs &#x3D; [{tn: to_tn, ndx: 0}];
    to_tn.inputs.push({tn: cxn_tn, ndx: to_ndx});

    if(from_tn.node.type &#x3D;&#x3D;&#x3D; &#x27;op&#x27;) to_tn.parent &#x3D; from_tn;
    return this.getNonCxnInputs(to);

  }

  /**
   * this sets the parent of a subdraft to the operation that created iit
   * @returns an array of the subdraft ids connected to this operation
   */
   setSubdraftParent(sd:number, op:number){
    const sd_tn: TreeNode &#x3D; this.getTreeNode(sd);
    const op_tn: TreeNode &#x3D; this.getTreeNode(op);
    sd_tn.parent &#x3D; op_tn;

  }



  /**
   * this removes the given id from the tree
   * given the structure of the code, this will never be called on a connection node, as only ops and subdrafts can be 
   * explicitly deleted.
   * @param id the id to delete 
   */
  private removeNodeTreeAssociations(id:number){
    const tn:TreeNode &#x3D; this.getTreeNode(id);
    if(tn &#x3D;&#x3D;&#x3D; undefined) return;

    //travel to all the trreenode&#x27;s inputs, and erase this from their output
    tn.inputs.forEach(el &#x3D;&gt; {
      const cxn_ndx_output:number &#x3D; el.tn.outputs.findIndex(out &#x3D;&gt; (out.tn.node.id &#x3D;&#x3D; id)); 
      el.tn.outputs.splice(cxn_ndx_output, 1);
    });

    tn.outputs.forEach(el &#x3D;&gt; {
      const cxn_ndx_input:number &#x3D; el.tn.inputs.findIndex(i &#x3D;&gt; (i.tn.node.id &#x3D;&#x3D; id)); 
      el.tn.inputs.splice(cxn_ndx_input, 1);
    });

    tn.outputs &#x3D; [];
    tn.inputs &#x3D; [];
  }

  //finds the connection compoment associated with the subdraft sd
  getConnectionComponentFromSubdraft(sd_id: number): ConnectionComponent{
    
    const sd_node:TreeNode &#x3D; this.getTreeNode(sd_id);
    if(sd_node.outputs.length &#x3D;&#x3D; 0){
      console.log(&quot;Error: subdraft node did not have outputs&quot;);
      return null;
    } else if(sd_node.outputs.length &gt; 1){
      console.log(&quot;Error: subdraft node had more than one output&quot;);
      return null;
    } 

    const cxn_node &#x3D; sd_node.outputs[0].tn.node;
    return &lt;ConnectionComponent&gt; cxn_node.component;

  }

   /**
   * given a from, to, and inlet index, return the connection id 
   * @param from
   * @returns the node id of the connection, or -1 if that connection is not found
   */
  getConnectionAtInlet(from: number, to:number, ndx: number) : number{
    let found &#x3D; -1;

    const inputs:Array&lt;IOTuple&gt; &#x3D; this.getInputsWithNdx(to);
    const connection: Array&lt;IOTuple&gt; &#x3D; inputs.filter(el &#x3D;&gt; el.ndx &#x3D;&#x3D; ndx);
    if(connection &#x3D;&#x3D;&#x3D; undefined) return -1;

    if(connection.length &#x3D;&#x3D; 1) return connection[0].tn.node.id;
    else{
      connection.forEach(connectionAtInlet &#x3D;&gt; {
        const non_cnx_inputs &#x3D; this.getInputs(connectionAtInlet.tn.node.id);
        const match_from &#x3D; non_cnx_inputs.find(el &#x3D;&gt; el &#x3D;&#x3D;&#x3D; from);
        if(match_from !&#x3D;&#x3D; undefined) found &#x3D;  connectionAtInlet.tn.node.id;
      });
    }

    return found;
   
   }

  /**
   * given two nodes, returns the id of the connection node connecting them
   * @param a one node
   * @param b the otehr node node
   * @returns the node id of the connection, or -1 if that connection is not found
   */
  getConnection(a: number, b:number) : number{


     const set_a &#x3D; this.nodes
     .filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;)
     .filter(el &#x3D;&gt; (this.getOutputs(el.id).find(treenode_id &#x3D;&gt; this.getTreeNode(treenode_id).node.id &#x3D;&#x3D;&#x3D; a)))
     .filter(el &#x3D;&gt; (this.getInputsWithNdx(el.id).find(ip &#x3D;&gt; ip.tn.node.id &#x3D;&#x3D;&#x3D; b )));

     const set_b &#x3D; this.nodes
     .filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;)
     .filter(el &#x3D;&gt; (this.getOutputs(el.id).find(treenode_id &#x3D;&gt; this.getTreeNode(treenode_id).node.id &#x3D;&#x3D;&#x3D; b)))
     .filter(el &#x3D;&gt; (this.getInputsWithNdx(el.id).find(ip &#x3D;&gt; ip.tn.node.id &#x3D;&#x3D;&#x3D; a )));

     const combined &#x3D; set_a.concat(set_b);

    if(combined.length &#x3D;&#x3D;&#x3D; 0){
      //console.error(&quot;No connection found between&quot;, a, b);
      return -1;
    } 

    if(combined.length &gt; 1){
      console.error(&quot;more than one connection found&quot;);
    }

    return combined[0].id;
  
  }

  /**
   * checks if this node receives any input values
   * @param id the node id
   * @returns a boolean describing if an input exists
   */
  hasInput(id: number) : boolean {
    const tn: TreeNode &#x3D; this.getTreeNode(id);
    return (tn.inputs.length &gt; 0)
  }

/**
 * returns the ids of all nodes connected to the input node that are not connection nodes
 * @param op_id 
 */
 getNonCxnInputs(id: number):Array&lt;number&gt;{
    const inputs: Array&lt;number&gt; &#x3D; this.getInputs(id);
    const id_list:Array&lt;number&gt; &#x3D; inputs
    .map(id &#x3D;&gt; (this.getNode(id)))
    .filter(node &#x3D;&gt; node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;)
    .map(node &#x3D;&gt; this.getConnectionInput(node.id))
   // const id_list:Array&lt;number&gt; &#x3D; node_list.map(node &#x3D;&gt; (node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;) ? this.getConnectionInput(node.id): -1);
    return id_list;
  }


  hasNdx(stored_input: number, input_to_function: number){
    if(input_to_function &#x3D;&#x3D;&#x3D; -1) return false;
    if(stored_input &#x3D;&#x3D;&#x3D; -1) return false;
    else return true;
  }

  /**
 * returns the ids of all nodes connected to the input node that are not connection nodes
 * in the case of dynamic ops, also provide the input index
 * @param op_id 
 */
 getOpComponentInputs(op_id: number, ndx: number):Array&lt;number&gt;{
  const inputs: Array&lt;IOTuple&gt; &#x3D; this.getInputsWithNdx(op_id);
  const id_list:Array&lt;number&gt; &#x3D; inputs
  .filter(param &#x3D;&gt; param.ndx &#x3D;&#x3D;&#x3D; ndx)
  .map(param &#x3D;&gt; (param.tn.node))
  .filter(node &#x3D;&gt; node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;)
  .map(node &#x3D;&gt; this.getConnectionInput(node.id));
 // const id_list:Array&lt;number&gt; &#x3D; node_list.map(node &#x3D;&gt; (node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;) ? this.getConnectionInput(node.id): -1);
  return id_list;
}

/**
 * returns the ids of all nodes connected to the input node that are op nodes
 * @param op_id 
 */
 getOpInputs(id: number):Array&lt;number&gt;{
  const inputs: Array&lt;number&gt; &#x3D; this.getInputs(id);
  const node_list:Array&lt;Node&gt; &#x3D; inputs.map(id &#x3D;&gt; (this.getNode(id)));
  //const id_list:Array&lt;number&gt; &#x3D; node_list.map(node &#x3D;&gt; (node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;) ? this.getConnectionInput(node.id): node.id);
  const id_list: Array&lt;number&gt; &#x3D; node_list
      .filter(node &#x3D;&gt; node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;)
      .map(node &#x3D;&gt; this.getNode(this.getConnectionInput(node.id)))
      .filter(node &#x3D;&gt; node.type &#x3D;&#x3D;&#x3D; &#x27;op&#x27;)
      .map(node &#x3D;&gt; node.id)
  return id_list;
}

/**
 * returns the ids of all nodes connected to the input node that are draft nodes
 * @param op_id 
 */
 getDraftInputs(id: number):Array&lt;number&gt;{
  const inputs: Array&lt;number&gt; &#x3D; this.getInputs(id);
  const node_list:Array&lt;Node&gt; &#x3D; inputs.map(id &#x3D;&gt; (this.getNode(id)));
  //const id_list:Array&lt;number&gt; &#x3D; node_list.map(node &#x3D;&gt; (node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;) ? this.getConnectionInput(node.id): node.id);
  const id_list: Array&lt;number&gt; &#x3D; node_list
      .filter(node &#x3D;&gt; node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;)
      .map(node &#x3D;&gt; this.getNode(this.getConnectionInput(node.id)))
      .filter(node &#x3D;&gt; node.type &#x3D;&#x3D;&#x3D; &#x27;draft&#x27;)
      .map(node &#x3D;&gt; node.id)
  return id_list;
}

  /**
 * returns the ids of all nodes connected to the output node that are not connection nodes
 * @param op_id 
 */
 getNonCxnOutputs(id: number):Array&lt;number&gt;{
  const outputs: Array&lt;number&gt; &#x3D; this.getOutputs(id);
  const node_list:Array&lt;Node&gt; &#x3D; outputs.map(id &#x3D;&gt; (this.getNode(id)));
  const id_list:Array&lt;number&gt; &#x3D; node_list
    .map(node &#x3D;&gt; (this.getNode(node.id)))
    .filter(node &#x3D;&gt; node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;)
    .map(node &#x3D;&gt; this.getConnectionOutput(node.id))
    return id_list;
}

  /**
 * returns the ids of all nodes connected to the output node that are not connection nodes
 * @param op_id 
 */
   getDraftOutputs(id: number):Array&lt;number&gt;{
    const outputs: Array&lt;number&gt; &#x3D; this.getOutputs(id);
    const node_list:Array&lt;Node&gt; &#x3D; outputs.map(id &#x3D;&gt; (this.getNode(id)));
    const id_list:Array&lt;number&gt; &#x3D; node_list
      .map(node &#x3D;&gt; (this.getNode(node.id)))
      .filter(node &#x3D;&gt; node.type &#x3D;&#x3D;&#x3D; &#x27;cxn&#x27;)
      .map(node &#x3D;&gt; this.getConnectionOutput(node.id))
      .filter(node &#x3D;&gt; this.getType(node) &#x3D;&#x3D;&#x3D; &#x27;draft&#x27;);
      return id_list;
  }
  

  getInputs(node_id: number):Array&lt;number&gt;{
    const tn &#x3D; this.getTreeNode(node_id);
    if(tn &#x3D;&#x3D;&#x3D; undefined) return [];
    const input_ids: Array&lt;number&gt; &#x3D; tn.inputs.map(child &#x3D;&gt; child.tn.node.id);
    return input_ids;
  }

  getInputsWithNdx(node_id: number):Array&lt;IOTuple&gt;{
    const tn &#x3D; this.getTreeNode(node_id);
    if(tn &#x3D;&#x3D;&#x3D; undefined) return [];
    return tn.inputs;
  }

  getInputsAtNdx(node_id: number, inlet_ndx: number):Array&lt;IOTuple&gt;{
    const tn &#x3D; this.getTreeNode(node_id);
    if(tn &#x3D;&#x3D;&#x3D; undefined) return [];
    return tn.inputs.filter(el &#x3D;&gt; el.ndx &#x3D;&#x3D; inlet_ndx);
  }

  getConnectionInput(node_id: number):number{
    const tn &#x3D; this.getTreeNode(node_id);
    const input_ids: Array&lt;number&gt; &#x3D; tn.inputs.map(child &#x3D;&gt; child.tn.node.id);
    if(input_ids.length  &gt; 1) console.log(&quot;Error: more than one input&quot;);
    return input_ids[0];
  }

  getOutputs(node_id: number):Array&lt;number&gt;{
    const tn &#x3D; this.getTreeNode(node_id);
    if(tn &#x3D;&#x3D;&#x3D; undefined) return [];
    const ids: Array&lt;number&gt; &#x3D; tn.outputs.map(child &#x3D;&gt; child.tn.node.id);
    return ids;
  }


  getConnectionOutput(node_id: number):number{
    const tn &#x3D; this.getTreeNode(node_id);
    const output_ids: Array&lt;number&gt; &#x3D; tn.outputs.map(child &#x3D;&gt; child.tn.node.id);
    if(output_ids.length  &gt; 1) console.log(&quot;Error: more than one output&quot;);
    return output_ids.pop();
  }


  /**
   * returns the ids of the total set of operations that, when performed, will chain down to the other operations
   */
  getTopLevelOps() : Array&lt;number&gt; {

    return this.nodes
    .filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &quot;op&quot;)
    .filter(el &#x3D;&gt; this.getUpstreamOperations(el.id).length &#x3D;&#x3D;&#x3D; 0)
    .map(el &#x3D;&gt; el.id);
  }

  /**
   * returns a list of any drafts that have no parents
   */
  getTopLevelDrafts() : Array&lt;number&gt;{
    
    return this.nodes
    .filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &quot;draft&quot;)
    .map(el &#x3D;&gt; this.getTreeNode(el.id))
    .filter(el &#x3D;&gt; el.parent &#x3D;&#x3D;&#x3D; null)
    .map(el &#x3D;&gt; el.node.id);

    

  }


  

  getGenerationChildren(parents: Array&lt;number&gt;) : Array&lt;number&gt; {

    let children: Array&lt;number&gt; &#x3D; [];
    parents.forEach(parent &#x3D;&gt; {
      const tn: TreeNode &#x3D;  this.getTreeNode(parent);
      children &#x3D; children.concat(tn.outputs.map(io &#x3D;&gt; io.tn.node.id));
    });

    return children;
  }

  /**
   * for degugging, this &quot;prints&quot; a list of the tree by generations
   */
  print(){
    const gens: Array&lt;Array&lt;number&gt;&gt; &#x3D; this.convertTreeToGenerations();
    gens.forEach((el,ndx) &#x3D;&gt;{
      console.log(&quot;****  geneation &quot;, ndx, &quot;****&quot;);
      el.forEach(subel &#x3D;&gt; {
        const type &#x3D; this.getType(subel);
        console.log(&quot;(&quot;, subel, &#x27;,&#x27;,type,&#x27;)&#x27;);
      });
    });

    console.log(&quot;tree: &quot;, this.tree);


  }

  /**
   * converts the tree into an array where each element belongs to a similar &quot;generation&quot; meaning the first generation had no parents/inputs, and the subsequent generations are descending from that. 
   * returns a list of ids referencing the element ids belonging to each generation
   * should return an array that has the same number of elements as the tree overall
   */
  convertTreeToGenerations() : Array&lt;Array&lt;number&gt;&gt;{

    const gens: Array&lt;Array&lt;number&gt;&gt; &#x3D; [];
    let parents: Array&lt;number&gt; &#x3D; this.tree.filter(tn &#x3D;&gt; tn.inputs.length &#x3D;&#x3D; 0).map(tn &#x3D;&gt; tn.node.id);

    
    while(parents.length &gt; 0){
      gens.push(parents);
      parents &#x3D; this.getGenerationChildren(parents);
    }

    return gens;
  }

  /**
   * converts all of the nodes in this tree for saving. 
   * @returns an array of objects that describe nodes
   */
  exportNodesForSaving(current_scale: number) : Array&lt;NodeComponentProxy&gt; {

    const objs: Array&lt;any&gt; &#x3D; []; 

    this.nodes.forEach(node &#x3D;&gt; {
      const savable: NodeComponentProxy &#x3D; {
        node_id: node.id,
        type: node.type,
        topleft: (node.component !&#x3D;&#x3D; null) ? node.component.topleft : {x: 0, y: 0},
      }
      objs.push(savable);

    })

    return objs;

  }

  adjustTreadlingForSaving(tread: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;Array&lt;number&gt;&gt; {

    if(tread &#x3D;&#x3D; null || tread &#x3D;&#x3D; undefined ) return [];
    
    const adjusted: Array&lt;Array&lt;number&gt;&gt; &#x3D; [];
    tread.forEach((row, i) &#x3D;&gt; {
      if(row.length &#x3D;&#x3D;&#x3D; 0){
        adjusted.push([-1])
      }else{
         adjusted.push(row.slice())
      }  
     
    })

    return adjusted;
  }

   /**
   * converts draft nodes into a form suited for export. 
   * drafts with parents are not saved, as their data is generated from operations on load. 
   * @returns an array of objects that describe nodes
   */
    exportDraftNodeProxiesForSaving() : Promise&lt;Array&lt;DraftNodeProxy&gt;&gt; {
      const objs: Array&lt;any&gt; &#x3D; []; 
  
      this.getDraftNodes().forEach(node &#x3D;&gt; {

        let loom_export &#x3D; null;
        if((&lt;DraftNode&gt;node).loom !&#x3D;&#x3D; null &amp;&amp; (&lt;DraftNode&gt;node).loom !&#x3D;&#x3D; undefined){
          loom_export &#x3D; {
            threading:  (&lt;DraftNode&gt;node).loom.threading.slice(),
            tieup:  (&lt;DraftNode&gt;node).loom.tieup.slice(),
            treadling: this.adjustTreadlingForSaving(  (&lt;DraftNode&gt;node).loom.treadling)
          }
        }
        if((&lt;DraftNode&gt;node).draft !&#x3D;&#x3D; null &amp;&amp; (&lt;DraftNode&gt;node).draft !&#x3D;&#x3D; undefined){
        const savable: DraftNodeProxy &#x3D; {
          node_id: node.id,
          draft_id: (&lt;DraftNode&gt;node).draft.id,
          draft_name: getDraftName((&lt;DraftNode&gt;node).draft),
          draft: (this.hasParent(node.id)) ? null : (&lt;DraftNode&gt;node).draft,
          draft_visible: (node.component !&#x3D;&#x3D; null) ? (&lt;SubdraftComponent&gt;node.component).draft_visible : true,
          loom:  (this.hasParent(node.id)) ? null :loom_export,
          loom_settings: node.loom_settings,
          render_colors: ((&lt;DraftNode&gt;node).render_colors &#x3D;&#x3D; undefined ) ? true :  (&lt;DraftNode&gt;node).render_colors
        }
        objs.push(savable);
      }
  
      })


      //MAKE SURE ALL DRAFTS ARE ORIENTED TO TOP LEFT ON SAVE
      let flip_fs &#x3D; [];
      let ids &#x3D; [];
      const flips &#x3D; utilInstance.getFlips(this.ws.selected_origin_option, 3);
      objs.forEach((obj, i) &#x3D;&gt; {
        if(obj.draft !&#x3D;&#x3D; null){
          flip_fs.push(flipDraft(obj.draft, flips.horiz, flips.vert));
          ids.push(i);
        }
      });

     return  Promise.all(flip_fs)
      .then(drafts &#x3D;&gt; {
        drafts.forEach((draft, i) &#x3D;&gt; {
          objs[i].draft &#x3D; draft;
        })
        let ids &#x3D; [];
        let flip_fs &#x3D; [];
        objs.forEach((obj, i) &#x3D;&gt; {
          if(obj.loom !&#x3D;&#x3D; null){
            flip_fs.push(flipLoom(obj.loom, flips.horiz, flips.vert));
            ids.push(i);
          }
        });

        return Promise.all(flip_fs);

      })
      .then(looms &#x3D;&gt; {
        looms.forEach((loom, i) &#x3D;&gt; {
          objs[i].loom &#x3D; loom;
        })

        return objs;

      })
     

  
    }

  /**
   * this function is used when the file loader needs to create a template for an object that doesn&#x27;t yet exist in the tree
   * but will be loaded into the tree.
   * @param draft : the draft that will be loaded into this node
   * @param preloaded : a list of preloaded node ids to factor in when creating this new id.  
   */
  getNewDraftProxies(draft: Draft, preloaded: Array&lt;number&gt;){

    const id &#x3D;  this.getUniqueId();
    const node: NodeComponentProxy &#x3D; {
      node_id: id, 
      type: &#x27;draft&#x27;,
      topleft: null
    }
    
    const draft_node: DraftNodeProxy &#x3D; {
      node_id: id,
      draft_id: draft.id,
      draft_name: &#x27;&#x27;,
      draft: null,
      draft_visible: true,
      loom: null, 
      loom_settings:null,
      render_colors: true
    };

    const treenode: TreeNodeProxy &#x3D; {
      node: node.node_id,
      parent: -1, 
      inputs:[],
      outputs:[]
    };

    return {node, treenode, draft_node}
  }

  setNodesClear(){
    this.nodes.forEach(node &#x3D;&gt; node.dirty &#x3D; false);
  }

  setDirty(id: number){
    this.getNode(id).dirty &#x3D; true;

  }

  setDraftClean(id: number){
    if(id &#x3D;&#x3D;&#x3D; -1){
      this.preview.dirty &#x3D; false;
      return;
    } 

    const node &#x3D; this.getNode(id);
    if(node &#x3D;&#x3D;&#x3D; undefined){
      console.error(&quot;no node found at &quot;, id);
      return;
    } 
    node.dirty &#x3D; false;
  }


  setDraftOnly(id: number, draft: Draft) {
    const dn &#x3D; &lt;DraftNode&gt; this.getNode(id);
    draft.id &#x3D; id;
    dn.draft &#x3D; draft;
    dn.render_colors &#x3D; (dn.render_colors &#x3D;&#x3D;&#x3D; undefined) ? true : dn.render_colors; 
    if(dn.component !&#x3D;&#x3D; null) (&lt;SubdraftComponent&gt; dn.component).draft &#x3D; draft;

  }

/**
 * sets a new draft and loom at node specified by id. This occures when an operation that generated a draft has been recomputed
 * @param id the node to update
 * @param temp the draft to add
 * @param loom_settings  the settings that should govern the loom generated
 */
  setDraftAndRecomputeLoom(id: number, temp: Draft, loom_settings: LoomSettings) : Promise&lt;Loom&gt; {

    const dn &#x3D; &lt;DraftNode&gt; this.getNode(id);
    let ud_name &#x3D; getDraftName(temp);

    if(dn.draft &#x3D;&#x3D;&#x3D; null){
      dn.draft &#x3D; temp;
    } 
    else{
      ud_name &#x3D; dn.draft.ud_name;
      dn.draft &#x3D; createDraft(temp.drawdown, temp.gen_name, ud_name, temp.rowShuttleMapping, temp.rowSystemMapping, temp.colShuttleMapping, temp.colSystemMapping);
    } 

    dn.draft.id &#x3D; id;

    if(loom_settings &#x3D;&#x3D;&#x3D; null || loom_settings &#x3D;&#x3D;&#x3D; undefined){
      dn.loom_settings &#x3D; {
        type: this.ws.type,
        epi: this.ws.epi,
        units: this.ws.units,
        frames: this.ws.min_frames,
        treadles: this.ws.min_treadles
      }
    } 
    else dn.loom_settings &#x3D; loom_settings;

    dn.dirty &#x3D; true;
    if(dn.component !&#x3D;&#x3D; null) (&lt;SubdraftComponent&gt; dn.component).draft &#x3D; temp;

    const loom_utils &#x3D; getLoomUtilByType(dn.loom_settings.type);
    return loom_utils.computeLoomFromDrawdown(temp.drawdown, loom_settings, this.ws.selected_origin_option)
    .then(loom &#x3D;&gt;{

      dn.loom &#x3D; loom;
      return Promise.resolve(loom);
    });

  }


  /**
   * sets a new draft
   * @param temp the draft to set this component to
   */
  setDraftPattern(id: number, pattern: Drawdown) {

    const dn &#x3D; &lt;DraftNode&gt; this.getNode(id);
    dn.draft.drawdown &#x3D; pattern.slice();
    (&lt;SubdraftComponent&gt; dn.component).draft &#x3D; dn.draft;
    dn.dirty &#x3D; true;    
  }



  getOpNode(id: number) : OpNode{
    return &lt;OpNode&gt; this.getNode(id);
  }

  /**
   * exports all operation nodes with information that can be reloaded
   * @returns 
   */
  exportOpMetaForSaving() : Array&lt;OpComponentProxy&gt; {
    const objs: Array&lt;any&gt; &#x3D; []; 

    this.getOpNodes().forEach(op_node &#x3D;&gt; {
      const op &#x3D; this.ops.getOp(op_node.name);

      let cleaned_params &#x3D; op.params.map((param_template, ndx) &#x3D;&gt; {
        if(param_template.type &#x3D;&#x3D; &#x27;file&#x27;){
          return op_node.params[ndx].id;
        }else{
          return op_node.params[ndx];
        }
      })
      

      const savable:OpComponentProxy &#x3D; {
        node_id: op_node.id,
        name: op_node.name,
        params: cleaned_params,
        inlets: op_node.inlets
      }

      
      objs.push(savable);
    })

    return objs;

  }


  exportTreeForSaving() : Array&lt;TreeNodeProxy&gt; {

    const objs: Array&lt;any&gt; &#x3D; []; 


    this.tree.forEach(treenode &#x3D;&gt; {

      const savable:TreeNodeProxy &#x3D; {
        node: treenode.node.id,
        parent: (treenode.parent !&#x3D;&#x3D; null &amp;&amp; treenode.parent !&#x3D;&#x3D; undefined) ?  treenode.parent.node.id : -1,
        inputs: treenode.inputs.map(el &#x3D;&gt; {return {tn:el.tn.node.id, ndx: el.ndx}}),
        outputs: treenode.outputs.map(el &#x3D;&gt; {return {tn:el.tn.node.id, ndx: el.ndx}})
      }
      objs.push(savable);
    })

    return objs;

  }

   /**
 * exports only the drafts that have not been generated by other values
 * @returns an array of objects that describe nodes
 */
  // exportSeedDraftsForSaving() : Array&lt;DraftNode&gt; {

  //     const objs: Array&lt;any&gt; &#x3D; []; 
  //     const gens: Array&lt;Array&lt;number&gt;&gt; &#x3D; this.convertTreeToGenerations(); 
  
  //     if(gens.length &#x3D;&#x3D; 0) return objs;
  
  //     const seeds: Array&lt;number&gt; &#x3D; gens.shift();
  
  //     return seeds.map(seed &#x3D;&gt; this.getDraftNode(seed));
  
  
  //   }
  
     /**
   * exports TopLevel drafts associated with this tree
   * @returns an array of Drafts
   */
    // exportDraftNodesForSaving() : Array&lt;DraftNode&gt; {
  
    //   //make sure the name values are not undefined
    //   this.getDraftNodes().forEach(node &#x3D;&gt; {
    //     if(node.draft.ud_name &#x3D;&#x3D;&#x3D; undefined) node.draft.ud_name &#x3D; &#x27;&#x27;;
    //     if(node.loom &#x3D;&#x3D;&#x3D; undefined) node.loom &#x3D; null;
        
    //   });

    //   const all_nodes &#x3D; this.getDraftNodes()
    //   .filter(el &#x3D;&gt; this.getSubdraftParent(el.id) &#x3D;&#x3D;&#x3D; -1);

    //   return all_nodes;

  
    // }



 
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'TreeService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
