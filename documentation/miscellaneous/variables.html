<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>adacad documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">adacad documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content miscellaneous-variables">
                   <div class="content-data">


















<ol class="breadcrumb">
  <li class="breadcrumb-item">Miscellaneous</li>
  <li class="breadcrumb-item">Variables</li>
</ol>

<section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <ul class="index-list">
                        <li>
                            <a href="#__karma__" title="src/test.ts" ><b>__karma__</b>&nbsp;&nbsp;&nbsp;(src/.../test.ts)</a>
                        </li>
                        <li>
                            <a href="#addWarpInterlacement" title="src/app/core/model/yarnsimulation.ts" ><b>addWarpInterlacement</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#addWarpLayerInterlacementsToMap" title="src/app/core/model/yarnsimulation.ts" ><b>addWarpLayerInterlacementsToMap</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#addWeftInterlacement" title="src/app/core/model/yarnsimulation.ts" ><b>addWeftInterlacement</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#addWeftLayerInterlacementsToMap" title="src/app/core/model/yarnsimulation.ts" ><b>addWeftLayerInterlacementsToMap</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#all_possible_drafts" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>all_possible_drafts</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#alt_pics" title="src/app/core/operations/tabby/tabby.ts" ><b>alt_pics</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#amplitude" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>amplitude</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#amplitude" title="src/app/core/operations/sinewave/sineweave.ts" ><b>amplitude</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#amt" title="src/app/core/operations/rotate/rotate.ts" ><b>amt</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#amt" title="src/app/core/operations/shiftx/shiftx.ts" ><b>amt</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#amt" title="src/app/core/operations/shifty/shifty.ts" ><b>amt</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#amt_x" title="src/app/core/operations/shift/shift.ts" ><b>amt_x</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#amt_y" title="src/app/core/operations/shift/shift.ts" ><b>amt_y</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#apply_mats" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>apply_mats</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#applyMask" title="src/app/core/model/drafts.ts" ><b>applyMask</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#areInterlacement" title="src/app/core/model/yarnsimulation.ts" ><b>areInterlacement</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#assign_to_warp" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>assign_to_warp</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#assign_to_weft" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>assign_to_weft</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#assignsystems" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>assignsystems</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#atop" title="src/app/core/operations/atop/atop.ts" ><b>atop</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#base_pics" title="src/app/core/operations/tabby/tabby.ts" ><b>base_pics</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#bindings" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>bindings</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#bindwarpfloats" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>bindwarpfloats</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#bindweftfloats" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>bindweftfloats</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#black_cells" title="src/app/core/operations/fill/fill.ts" ><b>black_cells</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#border" title="src/app/core/operations/waffleish/waffleish.ts" ><b>border</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#bwimagemap" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>bwimagemap</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#calcClothHeightOffsetFactor" title="src/app/core/model/yarnsimulation.ts" ><b>calcClothHeightOffsetFactor</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#calcFloatDistance" title="src/app/core/model/yarnsimulation.ts" ><b>calcFloatDistance</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#calcMaxDisplacement" title="src/app/core/model/yarnsimulation.ts" ><b>calcMaxDisplacement</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#calcStrength" title="src/app/core/model/yarnsimulation.ts" ><b>calcStrength</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#CanvasToBMP" title="src/app/core/model/canvas2image.ts" ><b>CanvasToBMP</b>&nbsp;&nbsp;&nbsp;(src/.../canvas2image.ts)</a>
                        </li>
                        <li>
                            <a href="#chaos" title="src/app/core/operations/chaos/chaos.ts" ><b>chaos</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#clear" title="src/app/core/operations/clear/clear.ts" ><b>clear</b>&nbsp;&nbsp;&nbsp;(src/.../clear.ts)</a>
                        </li>
                        <li>
                            <a href="#combinatorics" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>combinatorics</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#complextwill" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>complextwill</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#computeDrawdown" title="src/app/core/model/looms.ts" ><b>computeDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#containsWeftEdge" title="src/app/core/model/yarnsimulation.ts" ><b>containsWeftEdge</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#convertEPItoMM" title="src/app/core/model/looms.ts" ><b>convertEPItoMM</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#copyDraft" title="src/app/core/model/drafts.ts" ><b>copyDraft</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#copyLoom" title="src/app/core/model/looms.ts" ><b>copyLoom</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#copyLoomSettings" title="src/app/core/model/looms.ts" ><b>copyLoomSettings</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#corner" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>corner</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#correctInterlacementLayers" title="src/app/core/model/yarnsimulation.ts" ><b>correctInterlacementLayers</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#createBlankDrawdown" title="src/app/core/model/drafts.ts" ><b>createBlankDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#createCell" title="src/app/core/model/cell.ts" ><b>createCell</b>&nbsp;&nbsp;&nbsp;(src/.../cell.ts)</a>
                        </li>
                        <li>
                            <a href="#createCellFromSequenceVal" title="src/app/core/model/cell.ts" ><b>createCellFromSequenceVal</b>&nbsp;&nbsp;&nbsp;(src/.../cell.ts)</a>
                        </li>
                        <li>
                            <a href="#createDraft" title="src/app/core/model/drafts.ts" ><b>createDraft</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#createLayerMaps" title="src/app/core/model/yarnsimulation.ts" ><b>createLayerMaps</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#createMaterial" title="src/app/core/model/material.ts" ><b>createMaterial</b>&nbsp;&nbsp;&nbsp;(src/.../material.ts)</a>
                        </li>
                        <li>
                            <a href="#createSystem" title="src/app/core/model/system.ts" ><b>createSystem</b>&nbsp;&nbsp;&nbsp;(src/.../system.ts)</a>
                        </li>
                        <li>
                            <a href="#createWarpLayerMap" title="src/app/core/model/yarnsimulation.ts" ><b>createWarpLayerMap</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#createWeftLayerMap" title="src/app/core/model/yarnsimulation.ts" ><b>createWeftLayerMap</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#crop" title="src/app/core/operations/crop/crop.ts" ><b>crop</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#cur_set" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>cur_set</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#cutout" title="src/app/core/operations/cutout/cutout.ts" ><b>cutout</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#defaults" title="src/app/core/model/defaults.ts" ><b>defaults</b>&nbsp;&nbsp;&nbsp;(src/.../defaults.ts)</a>
                        </li>
                        <li>
                            <a href="#deinterlace" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>deinterlace</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#deleteDrawdownCol" title="src/app/core/model/drafts.ts" ><b>deleteDrawdownCol</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#deleteDrawdownRow" title="src/app/core/model/drafts.ts" ><b>deleteDrawdownRow</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#deleteMappingCol" title="src/app/core/model/drafts.ts" ><b>deleteMappingCol</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#deleteMappingRow" title="src/app/core/model/drafts.ts" ><b>deleteMappingRow</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#diff" title="src/app/core/operations/diff/diff.ts" ><b>diff</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#direct_utils" title="src/app/core/model/looms.ts" ><b>direct_utils</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#directdrawdown" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>directdrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#download" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>download</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#draft" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>draft</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#draft" title="src/app/core/operations/crop/crop.ts" ><b>draft</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#draft" title="src/app/core/operations/margin/margin.ts" ><b>draft</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#draft" title="src/app/core/operations/selvedge/selvedge.ts" ><b>draft</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#draft" title="src/app/core/operations/trim/trim.ts" ><b>draft</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_a" title="src/app/core/operations/atop/atop.ts" ><b>draft_a</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_a" title="src/app/core/operations/cutout/cutout.ts" ><b>draft_a</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_a" title="src/app/core/operations/diff/diff.ts" ><b>draft_a</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_a" title="src/app/core/operations/mask/mask.ts" ><b>draft_a</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_a" title="src/app/core/operations/overlay/overlay.ts" ><b>draft_a</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_b" title="src/app/core/operations/atop/atop.ts" ><b>draft_b</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_b" title="src/app/core/operations/cutout/cutout.ts" ><b>draft_b</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_b" title="src/app/core/operations/diff/diff.ts" ><b>draft_b</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_b" title="src/app/core/operations/mask/mask.ts" ><b>draft_b</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_b" title="src/app/core/operations/overlay/overlay.ts" ><b>draft_b</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/chaos/chaos.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/clear/clear.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../clear.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/erase_blank/erase_blank.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../erase_blank.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/flip/flip.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/flipx/flipx.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../flipx.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/flipy/flipy.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../flipy.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/interlace/interlace.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/joinleft/joinleft.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/jointop/jointop.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/layer/layer.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../layer.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/rect/rect.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/resize/resize.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/rotate/rotate.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/set/set.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/shift/shift.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/shiftx/shiftx.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/shifty/shifty.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/stretch/stretch.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/tile/tile.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_inlet" title="src/app/core/operations/unset/unset.ts" ><b>draft_inlet</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_input" title="src/app/core/operations/slope/slope.ts" ><b>draft_input</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_input" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>draft_input</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#draft_input" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>draft_input</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#drafts" title="src/app/core/operations/overlay_multiple/overlay_multiple.ts" ><b>drafts</b>&nbsp;&nbsp;&nbsp;(src/.../overlay_multiple.ts)</a>
                        </li>
                        <li>
                            <a href="#DraftToWIF" title="src/app/core/model/draft2wif.ts" ><b>DraftToWIF</b>&nbsp;&nbsp;&nbsp;(src/.../draft2wif.ts)</a>
                        </li>
                        <li>
                            <a href="#drawdown" title="src/app/core/operations/drawdown/drawdown.ts" ><b>drawdown</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#drawdown" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>drawdown</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#drawdown" title="src/app/core/operations/makeloom/makeloom.ts" ><b>drawdown</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_id" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>dynamic_param_id</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_id" title="src/app/core/operations/imagemap/imagemap.ts" ><b>dynamic_param_id</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_id" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>dynamic_param_id</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_id" title="src/app/core/operations/samplelength/samplelength.ts" ><b>dynamic_param_id</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_id" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>dynamic_param_id</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_id" title="src/app/core/operations/system_notation/system_notation.ts" ><b>dynamic_param_id</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_id" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>dynamic_param_id</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_id" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>dynamic_param_id</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_type" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>dynamic_param_type</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_type" title="src/app/core/operations/imagemap/imagemap.ts" ><b>dynamic_param_type</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_type" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>dynamic_param_type</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_type" title="src/app/core/operations/samplelength/samplelength.ts" ><b>dynamic_param_type</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_type" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>dynamic_param_type</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_type" title="src/app/core/operations/system_notation/system_notation.ts" ><b>dynamic_param_type</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_type" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>dynamic_param_type</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#dynamic_param_type" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>dynamic_param_type</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#end_shift" title="src/app/core/operations/slope/slope.ts" ><b>end_shift</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#ending_ends" title="src/app/core/operations/margin/margin.ts" ><b>ending_ends</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#ending_ends" title="src/app/core/operations/trim/trim.ts" ><b>ending_ends</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#ending_pics" title="src/app/core/operations/margin/margin.ts" ><b>ending_pics</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#ending_pics" title="src/app/core/operations/trim/trim.ts" ><b>ending_pics</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#ends" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>ends</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#ends" title="src/app/core/operations/random/random.ts" ><b>ends</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#ends" title="src/app/core/operations/rect/rect.ts" ><b>ends</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#ends" title="src/app/core/operations/resize/resize.ts" ><b>ends</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#ends" title="src/app/core/operations/selvedge/selvedge.ts" ><b>ends</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#ends" title="src/app/core/operations/waffleish/waffleish.ts" ><b>ends</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#ends_btwn" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>ends_btwn</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#environment" title="src/environments/environment.prod.ts" ><b>environment</b>&nbsp;&nbsp;&nbsp;(src/.../environment.prod.ts)</a>
                        </li>
                        <li>
                            <a href="#environment" title="src/environments/environment.ts" ><b>environment</b>&nbsp;&nbsp;&nbsp;(src/.../environment.ts)</a>
                        </li>
                        <li>
                            <a href="#erase_blank" title="src/app/core/operations/erase_blank/erase_blank.ts" ><b>erase_blank</b>&nbsp;&nbsp;&nbsp;(src/.../erase_blank.ts)</a>
                        </li>
                        <li>
                            <a href="#extractInterlacementsFromTuples" title="src/app/core/model/yarnsimulation.ts" ><b>extractInterlacementsFromTuples</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#extractWeftLayerGroups" title="src/app/core/model/yarnsimulation.ts" ><b>extractWeftLayerGroups</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#facing" title="src/app/core/operations/satin/satin.ts" ><b>facing</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#facing" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>facing</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#facing" title="src/app/core/operations/twill/twill.ts" ><b>facing</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#file" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>file</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#file" title="src/app/core/operations/imagemap/imagemap.ts" ><b>file</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#fill" title="src/app/core/operations/fill/fill.ts" ><b>fill</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#flip" title="src/app/core/operations/flip/flip.ts" ><b>flip</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#flipAndComputeDrawdown" title="src/app/core/model/looms.ts" ><b>flipAndComputeDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#flipDraft" title="src/app/core/model/drafts.ts" ><b>flipDraft</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#flipDrawdown" title="src/app/core/model/drafts.ts" ><b>flipDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#flipLoom" title="src/app/core/model/looms.ts" ><b>flipLoom</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#flipPattern" title="src/app/core/model/looms.ts" ><b>flipPattern</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#flipThreading" title="src/app/core/model/looms.ts" ><b>flipThreading</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#flipTieUp" title="src/app/core/model/looms.ts" ><b>flipTieUp</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#flipTreadling" title="src/app/core/model/looms.ts" ><b>flipTreadling</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#flipx" title="src/app/core/operations/flipx/flipx.ts" ><b>flipx</b>&nbsp;&nbsp;&nbsp;(src/.../flipx.ts)</a>
                        </li>
                        <li>
                            <a href="#flipy" title="src/app/core/operations/flipy/flipy.ts" ><b>flipy</b>&nbsp;&nbsp;&nbsp;(src/.../flipy.ts)</a>
                        </li>
                        <li>
                            <a href="#force_fit" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>force_fit</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#force_fit" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>force_fit</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#frame_utils" title="src/app/core/model/looms.ts" ><b>frame_utils</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#frames" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>frames</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#frames" title="src/app/core/operations/makeloom/makeloom.ts" ><b>frames</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#freq" title="src/app/core/operations/sinewave/sineweave.ts" ><b>freq</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#generateDirectTieup" title="src/app/core/model/looms.ts" ><b>generateDirectTieup</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#generateMappingFromPattern" title="src/app/core/model/drafts.ts" ><b>generateMappingFromPattern</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/atop/atop.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/chaos/chaos.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/clear/clear.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../clear.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/crop/crop.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/cutout/cutout.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/diff/diff.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/drawdown/drawdown.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/erase_blank/erase_blank.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../erase_blank.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/fill/fill.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/flip/flip.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/flipx/flipx.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../flipx.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/flipy/flipy.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../flipy.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/imagemap/imagemap.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/interlace/interlace.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/invert/invert.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../invert.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/joinleft/joinleft.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/jointop/jointop.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/layer/layer.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../layer.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/makeloom/makeloom.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/margin/margin.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/mask/mask.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/overlay/overlay.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/overlay_multiple/overlay_multiple.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../overlay_multiple.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/random/random.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/rect/rect.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/resize/resize.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/rotate/rotate.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/samplelength/samplelength.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/satin/satin.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/satinish/satinish.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/selvedge/selvedge.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/set/set.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/shift/shift.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/shiftx/shiftx.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/shifty/shifty.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/sinewave/sineweave.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/slope/slope.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/stretch/stretch.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/system_notation/system_notation.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/tabby/tabby.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/tile/tile.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/trim/trim.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/twill/twill.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/unset/unset.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/waffleish/waffleish.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#generateName" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>generateName</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#generateThreading" title="src/app/core/model/looms.ts" ><b>generateThreading</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#generateTreadlingforFrameLoom" title="src/app/core/model/looms.ts" ><b>generateTreadlingforFrameLoom</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#getAllDraftsAtInlet" title="src/app/core/model/operations.ts" ><b>getAllDraftsAtInlet</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#getCellValue" title="src/app/core/model/cell.ts" ><b>getCellValue</b>&nbsp;&nbsp;&nbsp;(src/.../cell.ts)</a>
                        </li>
                        <li>
                            <a href="#getClosestWarpValue" title="src/app/core/model/yarnsimulation.ts" ><b>getClosestWarpValue</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getCol" title="src/app/core/model/drafts.ts" ><b>getCol</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#getDraftName" title="src/app/core/model/drafts.ts" ><b>getDraftName</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#getDraftTopology" title="src/app/core/model/yarnsimulation.ts" ><b>getDraftTopology</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getFirstWarpAssociatedWithLayer" title="src/app/core/model/yarnsimulation.ts" ><b>getFirstWarpAssociatedWithLayer</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getFloatRanges" title="src/app/core/model/yarnsimulation.ts" ><b>getFloatRanges</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getHeddle" title="src/app/core/model/drafts.ts" ><b>getHeddle</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#getInputDraft" title="src/app/core/model/operations.ts" ><b>getInputDraft</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#getInterlacements" title="src/app/core/model/yarnsimulation.ts" ><b>getInterlacements</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getInterlacementsBetweenWarps" title="src/app/core/model/yarnsimulation.ts" ><b>getInterlacementsBetweenWarps</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getInterlacementsBetweenWefts" title="src/app/core/model/yarnsimulation.ts" ><b>getInterlacementsBetweenWefts</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getLoomUtilByType" title="src/app/core/model/looms.ts" ><b>getLoomUtilByType</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#getMidpoint" title="src/app/core/model/yarnsimulation.ts" ><b>getMidpoint</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getNextWarpOnLayer" title="src/app/core/model/yarnsimulation.ts" ><b>getNextWarpOnLayer</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getNonInterlacingWarpSegment" title="src/app/core/model/yarnsimulation.ts" ><b>getNonInterlacingWarpSegment</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getNonInterlacingWeftSegment" title="src/app/core/model/yarnsimulation.ts" ><b>getNonInterlacingWeftSegment</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getOpParamValById" title="src/app/core/model/operations.ts" ><b>getOpParamValById</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#getOpParamValByName" title="src/app/core/model/operations.ts" ><b>getOpParamValByName</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#getOrientation" title="src/app/core/model/yarnsimulation.ts" ><b>getOrientation</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getPrevWarpOnLayer" title="src/app/core/model/yarnsimulation.ts" ><b>getPrevWarpOnLayer</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getSystemChar" title="src/app/core/model/system.ts" ><b>getSystemChar</b>&nbsp;&nbsp;&nbsp;(src/.../system.ts)</a>
                        </li>
                        <li>
                            <a href="#getSystemCharFromId" title="src/app/core/model/system.ts" ><b>getSystemCharFromId</b>&nbsp;&nbsp;&nbsp;(src/.../system.ts)</a>
                        </li>
                        <li>
                            <a href="#getTuplesWithinRange" title="src/app/core/model/yarnsimulation.ts" ><b>getTuplesWithinRange</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getWarpInterlacementTuples" title="src/app/core/model/yarnsimulation.ts" ><b>getWarpInterlacementTuples</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getWeftAsFloat" title="src/app/core/model/yarnsimulation.ts" ><b>getWeftAsFloat</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getWeftInterlacementTuples" title="src/app/core/model/yarnsimulation.ts" ><b>getWeftInterlacementTuples</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getWeftOffsetFromWarp" title="src/app/core/model/yarnsimulation.ts" ><b>getWeftOffsetFromWarp</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#getWeftOrientationVector" title="src/app/core/model/yarnsimulation.ts" ><b>getWeftOrientationVector</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#hasBarrier" title="src/app/core/model/yarnsimulation.ts" ><b>hasBarrier</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#hasCell" title="src/app/core/model/drafts.ts" ><b>hasCell</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#hasWarpBarrierInRange" title="src/app/core/model/yarnsimulation.ts" ><b>hasWarpBarrierInRange</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#hasWeftBarrierInRange" title="src/app/core/model/yarnsimulation.ts" ><b>hasWeftBarrierInRange</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#height" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>height</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#height" title="src/app/core/operations/crop/crop.ts" ><b>height</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#height" title="src/app/core/operations/imagemap/imagemap.ts" ><b>height</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#horiz" title="src/app/core/operations/flip/flip.ts" ><b>horiz</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#httpOptions" title="src/app/core/provider/upload.service.ts" ><b>httpOptions</b>&nbsp;&nbsp;&nbsp;(src/.../upload.service.ts)</a>
                        </li>
                        <li>
                            <a href="#imagemap" title="src/app/core/operations/imagemap/imagemap.ts" ><b>imagemap</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#inferWeftNullLayers" title="src/app/core/model/yarnsimulation.ts" ><b>inferWeftNullLayers</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#initDraft" title="src/app/core/model/drafts.ts" ><b>initDraft</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#initDraftFromDrawdown" title="src/app/core/model/drafts.ts" ><b>initDraftFromDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#initDraftWithParams" title="src/app/core/model/drafts.ts" ><b>initDraftWithParams</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/atop/atop.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/chaos/chaos.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/clear/clear.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../clear.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/crop/crop.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/cutout/cutout.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/diff/diff.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/drawdown/drawdown.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/erase_blank/erase_blank.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../erase_blank.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/fill/fill.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/flip/flip.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/flipx/flipx.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../flipx.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/flipy/flipy.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../flipy.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/imagemap/imagemap.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/interlace/interlace.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/invert/invert.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../invert.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/joinleft/joinleft.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/jointop/jointop.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/layer/layer.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../layer.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/makeloom/makeloom.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/margin/margin.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/mask/mask.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/overlay/overlay.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/overlay_multiple/overlay_multiple.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../overlay_multiple.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/random/random.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/rect/rect.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/resize/resize.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/rotate/rotate.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/samplelength/samplelength.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/satin/satin.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/satinish/satinish.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/selvedge/selvedge.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/set/set.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/shift/shift.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/shiftx/shiftx.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/shifty/shifty.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/sinewave/sineweave.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/slope/slope.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/stretch/stretch.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/system_notation/system_notation.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/tabby/tabby.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/tile/tile.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/trim/trim.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/twill/twill.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/unset/unset.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/waffleish/waffleish.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#inlets" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>inlets</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#input" title="src/app/core/operations/invert/invert.ts" ><b>input</b>&nbsp;&nbsp;&nbsp;(src/.../invert.ts)</a>
                        </li>
                        <li>
                            <a href="#insertDrawdownCol" title="src/app/core/model/drafts.ts" ><b>insertDrawdownCol</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#insertDrawdownRow" title="src/app/core/model/drafts.ts" ><b>insertDrawdownRow</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#insertMappingCol" title="src/app/core/model/drafts.ts" ><b>insertMappingCol</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#insertMappingRow" title="src/app/core/model/drafts.ts" ><b>insertMappingRow</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#insertWarp" title="src/app/core/model/yarnsimulation.ts" ><b>insertWarp</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#insertWeft" title="src/app/core/model/yarnsimulation.ts" ><b>insertWeft</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#interlace" title="src/app/core/operations/interlace/interlace.ts" ><b>interlace</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#interlacewarps" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>interlacewarps</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#invert" title="src/app/core/operations/invert/invert.ts" ><b>invert</b>&nbsp;&nbsp;&nbsp;(src/.../invert.ts)</a>
                        </li>
                        <li>
                            <a href="#invertDrawdown" title="src/app/core/model/drafts.ts" ><b>invertDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#isFrame" title="src/app/core/model/looms.ts" ><b>isFrame</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#isInThreadingRange" title="src/app/core/model/looms.ts" ><b>isInThreadingRange</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#isInTieupRange" title="src/app/core/model/looms.ts" ><b>isInTieupRange</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#isInTreadlingRange" title="src/app/core/model/looms.ts" ><b>isInTreadlingRange</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#isInUserThreadingRange" title="src/app/core/model/looms.ts" ><b>isInUserThreadingRange</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#isInUserTieupRange" title="src/app/core/model/looms.ts" ><b>isInUserTieupRange</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#isInUserTreadlingRange" title="src/app/core/model/looms.ts" ><b>isInUserTreadlingRange</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#isSet" title="src/app/core/model/drafts.ts" ><b>isSet</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#isUp" title="src/app/core/model/drafts.ts" ><b>isUp</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#jacquard_utils" title="src/app/core/model/looms.ts" ><b>jacquard_utils</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#joinleft" title="src/app/core/operations/joinleft/joinleft.ts" ><b>joinleft</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#jointop" title="src/app/core/operations/jointop/jointop.ts" ><b>jointop</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#layer" title="src/app/core/operations/layer/layer.ts" ><b>layer</b>&nbsp;&nbsp;&nbsp;(src/.../layer.ts)</a>
                        </li>
                        <li>
                            <a href="#layer_parsing_regex" title="src/app/core/operations/system_notation/system_notation.ts" ><b>layer_parsing_regex</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#liftlower" title="src/app/core/operations/set/set.ts" ><b>liftlower</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#liftlower" title="src/app/core/operations/unset/unset.ts" ><b>liftlower</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#liftplan" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>liftplan</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#loadDraftFromFile" title="src/app/core/model/drafts.ts" ><b>loadDraftFromFile</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#loadLoomFromFile" title="src/app/core/model/looms.ts" ><b>loadLoomFromFile</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#makedirectloom" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>makedirectloom</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#makeloom" title="src/app/core/operations/makeloom/makeloom.ts" ><b>makeloom</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#makesymmetric" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>makesymmetric</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#makeSystemsUnique" title="src/app/core/model/system.ts" ><b>makeSystemsUnique</b>&nbsp;&nbsp;&nbsp;(src/.../system.ts)</a>
                        </li>
                        <li>
                            <a href="#makeWarpSystemsUnique" title="src/app/core/model/system.ts" ><b>makeWarpSystemsUnique</b>&nbsp;&nbsp;&nbsp;(src/.../system.ts)</a>
                        </li>
                        <li>
                            <a href="#makeWeftSystemsUnique" title="src/app/core/model/system.ts" ><b>makeWeftSystemsUnique</b>&nbsp;&nbsp;&nbsp;(src/.../system.ts)</a>
                        </li>
                        <li>
                            <a href="#margin" title="src/app/core/operations/margin/margin.ts" ><b>margin</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#mask" title="src/app/core/operations/mask/mask.ts" ><b>mask</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#materials" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>materials</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#max_float" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>max_float</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#max_float" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>max_float</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#max_float" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>max_float</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#min_interlacements" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>min_interlacements</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#myCustomTooltipDefaults" title="src/app/mixer/mixer.component.ts" ><b>myCustomTooltipDefaults</b>&nbsp;&nbsp;&nbsp;(src/.../mixer.component.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/atop/atop.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/chaos/chaos.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/clear/clear.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../clear.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/crop/crop.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/cutout/cutout.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/diff/diff.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/drawdown/drawdown.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/erase_blank/erase_blank.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../erase_blank.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/fill/fill.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/flip/flip.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/flipx/flipx.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../flipx.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/flipy/flipy.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../flipy.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/imagemap/imagemap.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/interlace/interlace.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/invert/invert.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../invert.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/joinleft/joinleft.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/jointop/jointop.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/layer/layer.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../layer.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/makeloom/makeloom.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/margin/margin.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/mask/mask.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/overlay/overlay.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/overlay_multiple/overlay_multiple.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../overlay_multiple.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/random/random.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/rect/rect.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/resize/resize.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/rotate/rotate.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/samplelength/samplelength.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/satin/satin.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/satinish/satinish.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/selvedge/selvedge.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/set/set.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/shift/shift.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/shiftx/shiftx.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/shifty/shifty.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/sinewave/sineweave.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/slope/slope.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/stretch/stretch.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/system_notation/system_notation.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/tabby/tabby.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/tile/tile.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/trim/trim.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/twill/twill.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/unset/unset.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/waffleish/waffleish.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#name" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>name</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#notation" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>notation</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#notation_system" title="src/app/core/operations/system_notation/system_notation.ts" ><b>notation_system</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#numFrames" title="src/app/core/model/looms.ts" ><b>numFrames</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#numTreadles" title="src/app/core/model/looms.ts" ><b>numTreadles</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/atop/atop.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/chaos/chaos.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/clear/clear.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../clear.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/crop/crop.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/cutout/cutout.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/diff/diff.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/drawdown/drawdown.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/erase_blank/erase_blank.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../erase_blank.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/fill/fill.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/flip/flip.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/flipx/flipx.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../flipx.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/flipy/flipy.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../flipy.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/imagemap/imagemap.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/interlace/interlace.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/invert/invert.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../invert.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/joinleft/joinleft.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/jointop/jointop.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/layer/layer.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../layer.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/makeloom/makeloom.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/margin/margin.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/mask/mask.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/overlay/overlay.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/overlay_multiple/overlay_multiple.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../overlay_multiple.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/random/random.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/rect/rect.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/resize/resize.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/rotate/rotate.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/samplelength/samplelength.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/satin/satin.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/satinish/satinish.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/selvedge/selvedge.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/set/set.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/shift/shift.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/shiftx/shiftx.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/shifty/shifty.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/sinewave/sineweave.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/slope/slope.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/stretch/stretch.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/system_notation/system_notation.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/tabby/tabby.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/tile/tile.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/trim/trim.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/twill/twill.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/unset/unset.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/waffleish/waffleish.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#old_names" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>old_names</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#onParamChange" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>onParamChange</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#onParamChange" title="src/app/core/operations/imagemap/imagemap.ts" ><b>onParamChange</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#onParamChange" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>onParamChange</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#onParamChange" title="src/app/core/operations/samplelength/samplelength.ts" ><b>onParamChange</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#onParamChange" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>onParamChange</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#onParamChange" title="src/app/core/operations/system_notation/system_notation.ts" ><b>onParamChange</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#onParamChange" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>onParamChange</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#onParamChange" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>onParamChange</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#operationHasInputs" title="src/app/core/model/operations.ts" ><b>operationHasInputs</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#overlay" title="src/app/core/operations/overlay/overlay.ts" ><b>overlay</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#overlay_multi" title="src/app/core/operations/overlay_multiple/overlay_multiple.ts" ><b>overlay_multi</b>&nbsp;&nbsp;&nbsp;(src/.../overlay_multiple.ts)</a>
                        </li>
                        <li>
                            <a href="#packing_factor" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>packing_factor</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#packWeft" title="src/app/core/model/yarnsimulation.ts" ><b>packWeft</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/atop/atop.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/chaos/chaos.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/clear/clear.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../clear.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/crop/crop.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/cutout/cutout.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/diff/diff.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/drawdown/drawdown.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/erase_blank/erase_blank.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../erase_blank.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/fill/fill.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/flip/flip.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/flipx/flipx.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../flipx.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/flipy/flipy.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../flipy.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/imagemap/imagemap.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/interlace/interlace.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/invert/invert.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../invert.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/joinleft/joinleft.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/jointop/jointop.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/layer/layer.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../layer.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/makeloom/makeloom.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/margin/margin.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/mask/mask.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/overlay/overlay.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/overlay_multiple/overlay_multiple.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../overlay_multiple.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/random/random.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/rect/rect.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/resize/resize.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/rotate/rotate.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/samplelength/samplelength.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/satin/satin.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/satinish/satinish.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/selvedge/selvedge.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/set/set.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/shift/shift.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/shiftx/shiftx.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/shifty/shifty.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/sinewave/sineweave.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/slope/slope.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/stretch/stretch.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/system_notation/system_notation.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/tabby/tabby.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/tile/tile.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/trim/trim.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/twill/twill.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/unset/unset.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/waffleish/waffleish.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#params" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>params</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#parseDraftNames" title="src/app/core/model/operations.ts" ><b>parseDraftNames</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#parseSavedDrawdown" title="src/app/core/model/drafts.ts" ><b>parseSavedDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#parseSavedPattern" title="src/app/core/model/drafts.ts" ><b>parseSavedPattern</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#parseWarpSystem" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>parseWarpSystem</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#parseWarpSystem" title="src/app/core/operations/system_notation/system_notation.ts" ><b>parseWarpSystem</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#parseWeftSystem" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>parseWeftSystem</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#parseWeftSystem" title="src/app/core/operations/system_notation/system_notation.ts" ><b>parseWeftSystem</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#pasteDirectAndFrameThreading" title="src/app/core/model/looms.ts" ><b>pasteDirectAndFrameThreading</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#pasteDirectAndFrameTreadling" title="src/app/core/model/looms.ts" ><b>pasteDirectAndFrameTreadling</b>&nbsp;&nbsp;&nbsp;(src/.../looms.ts)</a>
                        </li>
                        <li>
                            <a href="#pasteIntoDrawdown" title="src/app/core/model/drafts.ts" ><b>pasteIntoDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#pattern" title="src/app/core/operations/fill/fill.ts" ><b>pattern</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#pattern" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>pattern</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#pattern" title="src/app/core/operations/samplelength/samplelength.ts" ><b>pattern</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#pattern" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>pattern</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#pattern" title="src/app/core/operations/system_notation/system_notation.ts" ><b>pattern</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#pattern" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>pattern</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#pattern" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>pattern</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#pcent" title="src/app/core/operations/random/random.ts" ><b>pcent</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/atop/atop.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/bindwarpfloats/bindwarpfloats.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../bindwarpfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/bindweftfloats/bindweftfloats.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../bindweftfloats.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/chaos/chaos.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/clear/clear.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../clear.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/crop/crop.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/cutout/cutout.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/diff/diff.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/drawdown/drawdown.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/erase_blank/erase_blank.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../erase_blank.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/fill/fill.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/flip/flip.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/flipx/flipx.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../flipx.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/flipy/flipy.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../flipy.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/imagemap/imagemap.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/interlace/interlace.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/invert/invert.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../invert.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/joinleft/joinleft.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/jointop/jointop.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/layer/layer.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../layer.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/makedirectloom/makedirectloom.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../makedirectloom.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/makeloom/makeloom.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/margin/margin.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/mask/mask.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/overlay/overlay.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/overlay_multiple/overlay_multiple.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../overlay_multiple.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/random/random.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/rect/rect.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/resize/resize.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/rotate/rotate.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/samplelength/samplelength.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/satin/satin.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/satinish/satinish.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/selvedge/selvedge.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/set/set.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/shift/shift.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/shiftx/shiftx.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/shifty/shifty.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/sinewave/sineweave.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/slope/slope.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/stretch/stretch.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/system_notation/system_notation.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/tabby/tabby.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/tile/tile.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/trim/trim.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/twill/twill.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/unset/unset.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/waffleish/waffleish.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#perform" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>perform</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#pic_shift" title="src/app/core/operations/slope/slope.ts" ><b>pic_shift</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#pics" title="src/app/core/operations/random/random.ts" ><b>pics</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#pics" title="src/app/core/operations/rect/rect.ts" ><b>pics</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#pics" title="src/app/core/operations/resize/resize.ts" ><b>pics</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#pics" title="src/app/core/operations/waffleish/waffleish.ts" ><b>pics</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#pics_btwn" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>pics_btwn</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#positionFloatingWefts" title="src/app/core/model/yarnsimulation.ts" ><b>positionFloatingWefts</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#processWarpInterlacement" title="src/app/core/model/yarnsimulation.ts" ><b>processWarpInterlacement</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#processWeftInterlacements" title="src/app/core/model/yarnsimulation.ts" ><b>processWeftInterlacements</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#radiateInterlacementForce" title="src/app/core/model/yarnsimulation.ts" ><b>radiateInterlacementForce</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#random" title="src/app/core/operations/random/random.ts" ><b>random</b>&nbsp;&nbsp;&nbsp;(src/.../random.ts)</a>
                        </li>
                        <li>
                            <a href="#receiving" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>receiving</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#receiving" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>receiving</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#rect" title="src/app/core/operations/rect/rect.ts" ><b>rect</b>&nbsp;&nbsp;&nbsp;(src/.../rect.ts)</a>
                        </li>
                        <li>
                            <a href="#reduceInterlacement" title="src/app/core/model/yarnsimulation.ts" ><b>reduceInterlacement</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#reduceToStaticInputs" title="src/app/core/model/operations.ts" ><b>reduceToStaticInputs</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#remove_center" title="src/app/core/operations/makesymmetric/makesymmetric.ts" ><b>remove_center</b>&nbsp;&nbsp;&nbsp;(src/.../makesymmetric.ts)</a>
                        </li>
                        <li>
                            <a href="#repeat" title="src/app/core/operations/satin/satin.ts" ><b>repeat</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#repeats" title="src/app/core/operations/interlace/interlace.ts" ><b>repeats</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#repeats" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>repeats</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#repeats" title="src/app/core/operations/joinleft/joinleft.ts" ><b>repeats</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#repeats" title="src/app/core/operations/jointop/jointop.ts" ><b>repeats</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#repeats" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>repeats</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#repeats" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>repeats</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#resize" title="src/app/core/operations/resize/resize.ts" ><b>resize</b>&nbsp;&nbsp;&nbsp;(src/.../resize.ts)</a>
                        </li>
                        <li>
                            <a href="#returnDefaultValue" title="src/app/core/model/operations.ts" ><b>returnDefaultValue</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#right_shift" title="src/app/core/operations/selvedge/selvedge.ts" ><b>right_shift</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#rotate" title="src/app/core/operations/rotate/rotate.ts" ><b>rotate</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#rotate_materials" title="src/app/core/operations/rotate/rotate.ts" ><b>rotate_materials</b>&nbsp;&nbsp;&nbsp;(src/.../rotate.ts)</a>
                        </li>
                        <li>
                            <a href="#sample_length" title="src/app/core/operations/samplelength/samplelength.ts" ><b>sample_length</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#sample_width" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>sample_width</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#satin" title="src/app/core/operations/satin/satin.ts" ><b>satin</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#satinish" title="src/app/core/operations/satinish/satinish.ts" ><b>satinish</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#sawtooth" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>sawtooth</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#segments" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>segments</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#selection" title="src/app/core/operations/combinatorics/combinatorics.ts" ><b>selection</b>&nbsp;&nbsp;&nbsp;(src/.../combinatorics.ts)</a>
                        </li>
                        <li>
                            <a href="#selvedge" title="src/app/core/operations/selvedge/selvedge.ts" ><b>selvedge</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#selvedge_draft" title="src/app/core/operations/margin/margin.ts" ><b>selvedge_draft</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#selvedge_draft" title="src/app/core/operations/selvedge/selvedge.ts" ><b>selvedge_draft</b>&nbsp;&nbsp;&nbsp;(src/.../selvedge.ts)</a>
                        </li>
                        <li>
                            <a href="#set" title="src/app/core/operations/set/set.ts" ><b>set</b>&nbsp;&nbsp;&nbsp;(src/.../set.ts)</a>
                        </li>
                        <li>
                            <a href="#setBaselineYForWeft" title="src/app/core/model/yarnsimulation.ts" ><b>setBaselineYForWeft</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#setCellValue" title="src/app/core/model/cell.ts" ><b>setCellValue</b>&nbsp;&nbsp;&nbsp;(src/.../cell.ts)</a>
                        </li>
                        <li>
                            <a href="#setHeddle" title="src/app/core/model/drafts.ts" ><b>setHeddle</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#setLayerZ" title="src/app/core/model/yarnsimulation.ts" ><b>setLayerZ</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#setMaterialID" title="src/app/core/model/material.ts" ><b>setMaterialID</b>&nbsp;&nbsp;&nbsp;(src/.../material.ts)</a>
                        </li>
                        <li>
                            <a href="#setSystemId" title="src/app/core/model/system.ts" ><b>setSystemId</b>&nbsp;&nbsp;&nbsp;(src/.../system.ts)</a>
                        </li>
                        <li>
                            <a href="#shaded_satin" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>shaded_satin</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#shift" title="src/app/core/operations/satin/satin.ts" ><b>shift</b>&nbsp;&nbsp;&nbsp;(src/.../satin.ts)</a>
                        </li>
                        <li>
                            <a href="#shift" title="src/app/core/operations/satinish/satinish.ts" ><b>shift</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#shift" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>shift</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#shift" title="src/app/core/operations/shift/shift.ts" ><b>shift</b>&nbsp;&nbsp;&nbsp;(src/.../shift.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_ends" title="src/app/core/operations/atop/atop.ts" ><b>shift_ends</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_ends" title="src/app/core/operations/cutout/cutout.ts" ><b>shift_ends</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_ends" title="src/app/core/operations/diff/diff.ts" ><b>shift_ends</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_ends" title="src/app/core/operations/mask/mask.ts" ><b>shift_ends</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_ends" title="src/app/core/operations/overlay/overlay.ts" ><b>shift_ends</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_pattern" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>shift_pattern</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_pattern" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>shift_pattern</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_pattern" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>shift_pattern</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_pics" title="src/app/core/operations/atop/atop.ts" ><b>shift_pics</b>&nbsp;&nbsp;&nbsp;(src/.../atop.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_pics" title="src/app/core/operations/cutout/cutout.ts" ><b>shift_pics</b>&nbsp;&nbsp;&nbsp;(src/.../cutout.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_pics" title="src/app/core/operations/diff/diff.ts" ><b>shift_pics</b>&nbsp;&nbsp;&nbsp;(src/.../diff.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_pics" title="src/app/core/operations/mask/mask.ts" ><b>shift_pics</b>&nbsp;&nbsp;&nbsp;(src/.../mask.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_pics" title="src/app/core/operations/overlay/overlay.ts" ><b>shift_pics</b>&nbsp;&nbsp;&nbsp;(src/.../overlay.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_warp_mat" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>shift_warp_mat</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_warp_systems" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>shift_warp_systems</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_weft_mats" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>shift_weft_mats</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#shift_weft_systems" title="src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts" ><b>shift_weft_systems</b>&nbsp;&nbsp;&nbsp;(src/.../applymaterialsandsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#shiftDrawdown" title="src/app/core/model/drafts.ts" ><b>shiftDrawdown</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#shiftx" title="src/app/core/operations/shiftx/shiftx.ts" ><b>shiftx</b>&nbsp;&nbsp;&nbsp;(src/.../shiftx.ts)</a>
                        </li>
                        <li>
                            <a href="#shifty" title="src/app/core/operations/shifty/shifty.ts" ><b>shifty</b>&nbsp;&nbsp;&nbsp;(src/.../shifty.ts)</a>
                        </li>
                        <li>
                            <a href="#sinewave" title="src/app/core/operations/sinewave/sineweave.ts" ><b>sinewave</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                        <li>
                            <a href="#slope" title="src/app/core/operations/slope/slope.ts" ><b>slope</b>&nbsp;&nbsp;&nbsp;(src/.../slope.ts)</a>
                        </li>
                        <li>
                            <a href="#sortInterlacementsOnWarp" title="src/app/core/model/yarnsimulation.ts" ><b>sortInterlacementsOnWarp</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#sortInterlacementsOnWeft" title="src/app/core/model/yarnsimulation.ts" ><b>sortInterlacementsOnWeft</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#splicein" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>splicein</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#spliceinwarps" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>spliceinwarps</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#splicing" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>splicing</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#splicing" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>splicing</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#split_by" title="src/app/core/operations/deinterlace/deinterlace.ts" ><b>split_by</b>&nbsp;&nbsp;&nbsp;(src/.../deinterlace.ts)</a>
                        </li>
                        <li>
                            <a href="#splitRangeByVerticies" title="src/app/core/model/yarnsimulation.ts" ><b>splitRangeByVerticies</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#square_waffle" title="src/app/core/operations/square_waffle/square_waffle.ts" ><b>square_waffle</b>&nbsp;&nbsp;&nbsp;(src/.../square_waffle.ts)</a>
                        </li>
                        <li>
                            <a href="#standardizeMaterialLists" title="src/app/core/model/material.ts" ><b>standardizeMaterialLists</b>&nbsp;&nbsp;&nbsp;(src/.../material.ts)</a>
                        </li>
                        <li>
                            <a href="#staring_pics" title="src/app/core/operations/crop/crop.ts" ><b>staring_pics</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#staring_pics" title="src/app/core/operations/trim/trim.ts" ><b>staring_pics</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#starting_ends" title="src/app/core/operations/crop/crop.ts" ><b>starting_ends</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#starting_ends" title="src/app/core/operations/margin/margin.ts" ><b>starting_ends</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#starting_ends" title="src/app/core/operations/trim/trim.ts" ><b>starting_ends</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#starting_pics" title="src/app/core/operations/margin/margin.ts" ><b>starting_pics</b>&nbsp;&nbsp;&nbsp;(src/.../margin.ts)</a>
                        </li>
                        <li>
                            <a href="#stretch" title="src/app/core/operations/stretch/stretch.ts" ><b>stretch</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#string_input" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>string_input</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#string_input" title="src/app/core/operations/satinish/satinish.ts" ><b>string_input</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#string_input" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>string_input</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#style" title="src/app/core/operations/spliceinwarps/spliceinwarps.ts" ><b>style</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwarps.ts)</a>
                        </li>
                        <li>
                            <a href="#style" title="src/app/core/operations/spliceinwefts/spliceinwefts.ts" ><b>style</b>&nbsp;&nbsp;&nbsp;(src/.../spliceinwefts.ts)</a>
                        </li>
                        <li>
                            <a href="#systems" title="src/app/core/operations/layer_notation/layer_notation.ts" ><b>systems</b>&nbsp;&nbsp;&nbsp;(src/.../layer_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#systems" title="src/app/core/operations/samplelength/samplelength.ts" ><b>systems</b>&nbsp;&nbsp;&nbsp;(src/.../samplelength.ts)</a>
                        </li>
                        <li>
                            <a href="#systems" title="src/app/core/operations/samplewidth/samplewidth.ts" ><b>systems</b>&nbsp;&nbsp;&nbsp;(src/.../samplewidth.ts)</a>
                        </li>
                        <li>
                            <a href="#systems" title="src/app/core/operations/system_notation/system_notation.ts" ><b>systems</b>&nbsp;&nbsp;&nbsp;(src/.../system_notation.ts)</a>
                        </li>
                        <li>
                            <a href="#systems" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>systems</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#systems" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>systems</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#sz" title="src/app/core/operations/complex_twill/complex_twill.ts" ><b>sz</b>&nbsp;&nbsp;&nbsp;(src/.../complex_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#sz" title="src/app/core/operations/satinish/satinish.ts" ><b>sz</b>&nbsp;&nbsp;&nbsp;(src/.../satinish.ts)</a>
                        </li>
                        <li>
                            <a href="#sz" title="src/app/core/operations/twill/twill.ts" ><b>sz</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#sz" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>sz</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#tabby_der" title="src/app/core/operations/tabby/tabby.ts" ><b>tabby_der</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#threading" title="src/app/core/operations/directdrawdown/directdrawdown.ts" ><b>threading</b>&nbsp;&nbsp;&nbsp;(src/.../directdrawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#threading" title="src/app/core/operations/drawdown/drawdown.ts" ><b>threading</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#tieup" title="src/app/core/operations/drawdown/drawdown.ts" ><b>tieup</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#tile" title="src/app/core/operations/tile/tile.ts" ><b>tile</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#toggleHeddle" title="src/app/core/model/cell.ts" ><b>toggleHeddle</b>&nbsp;&nbsp;&nbsp;(src/.../cell.ts)</a>
                        </li>
                        <li>
                            <a href="#transferSystemsAndShuttles" title="src/app/core/model/operations.ts" ><b>transferSystemsAndShuttles</b>&nbsp;&nbsp;&nbsp;(src/.../operations.ts)</a>
                        </li>
                        <li>
                            <a href="#translateTopologyToPoints" title="src/app/core/model/yarnsimulation.ts" ><b>translateTopologyToPoints</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#treadles" title="src/app/core/operations/makeloom/makeloom.ts" ><b>treadles</b>&nbsp;&nbsp;&nbsp;(src/.../makeloom.ts)</a>
                        </li>
                        <li>
                            <a href="#treadling" title="src/app/core/operations/drawdown/drawdown.ts" ><b>treadling</b>&nbsp;&nbsp;&nbsp;(src/.../drawdown.ts)</a>
                        </li>
                        <li>
                            <a href="#trim" title="src/app/core/operations/trim/trim.ts" ><b>trim</b>&nbsp;&nbsp;&nbsp;(src/.../trim.ts)</a>
                        </li>
                        <li>
                            <a href="#twill" title="src/app/core/operations/twill/twill.ts" ><b>twill</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#undulatewarps" title="src/app/core/operations/undulatewarps/undulatewarps.ts" ><b>undulatewarps</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewarps.ts)</a>
                        </li>
                        <li>
                            <a href="#undulatewefts" title="src/app/core/operations/undulatewefts/undulatewefts.ts" ><b>undulatewefts</b>&nbsp;&nbsp;&nbsp;(src/.../undulatewefts.ts)</a>
                        </li>
                        <li>
                            <a href="#undulatingtwill" title="src/app/core/operations/undulating_twill/undulating_twill.ts" ><b>undulatingtwill</b>&nbsp;&nbsp;&nbsp;(src/.../undulating_twill.ts)</a>
                        </li>
                        <li>
                            <a href="#unset" title="src/app/core/operations/unset/unset.ts" ><b>unset</b>&nbsp;&nbsp;&nbsp;(src/.../unset.ts)</a>
                        </li>
                        <li>
                            <a href="#updateWarpSystemsAndShuttles" title="src/app/core/model/drafts.ts" ><b>updateWarpSystemsAndShuttles</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#updateWeftSystemsAndShuttles" title="src/app/core/model/drafts.ts" ><b>updateWeftSystemsAndShuttles</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#updateY" title="src/app/core/model/yarnsimulation.ts" ><b>updateY</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#utilInstance" title="src/app/core/model/util.ts" ><b>utilInstance</b>&nbsp;&nbsp;&nbsp;(src/.../util.ts)</a>
                        </li>
                        <li>
                            <a href="#vert" title="src/app/core/operations/flip/flip.ts" ><b>vert</b>&nbsp;&nbsp;&nbsp;(src/.../flip.ts)</a>
                        </li>
                        <li>
                            <a href="#waffleish" title="src/app/core/operations/waffleish/waffleish.ts" ><b>waffleish</b>&nbsp;&nbsp;&nbsp;(src/.../waffleish.ts)</a>
                        </li>
                        <li>
                            <a href="#warp_data" title="src/app/core/operations/jointop/jointop.ts" ><b>warp_data</b>&nbsp;&nbsp;&nbsp;(src/.../jointop.ts)</a>
                        </li>
                        <li>
                            <a href="#warp_profile" title="src/app/core/operations/warp_profile/warp_profile.ts" ><b>warp_profile</b>&nbsp;&nbsp;&nbsp;(src/.../warp_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#warp_repeats" title="src/app/core/operations/chaos/chaos.ts" ><b>warp_repeats</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#warp_repeats" title="src/app/core/operations/stretch/stretch.ts" ><b>warp_repeats</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#warp_repeats" title="src/app/core/operations/tile/tile.ts" ><b>warp_repeats</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#warp_system" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>warp_system</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#warp_systems" title="src/app/core/operations/interlace/interlace.ts" ><b>warp_systems</b>&nbsp;&nbsp;&nbsp;(src/.../interlace.ts)</a>
                        </li>
                        <li>
                            <a href="#warpLayerValueInRange" title="src/app/core/model/yarnsimulation.ts" ><b>warpLayerValueInRange</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#warps" title="src/app/core/model/drafts.ts" ><b>warps</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#warps_lowered" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>warps_lowered</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#warps_lowered" title="src/app/core/operations/tabby/tabby.ts" ><b>warps_lowered</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#warps_lowered" title="src/app/core/operations/twill/twill.ts" ><b>warps_lowered</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#warps_raised" title="src/app/core/operations/shaded_satin/shaded_satin.ts" ><b>warps_raised</b>&nbsp;&nbsp;&nbsp;(src/.../shaded_satin.ts)</a>
                        </li>
                        <li>
                            <a href="#warps_raised" title="src/app/core/operations/tabby/tabby.ts" ><b>warps_raised</b>&nbsp;&nbsp;&nbsp;(src/.../tabby.ts)</a>
                        </li>
                        <li>
                            <a href="#warps_raised" title="src/app/core/operations/twill/twill.ts" ><b>warps_raised</b>&nbsp;&nbsp;&nbsp;(src/.../twill.ts)</a>
                        </li>
                        <li>
                            <a href="#weft_data" title="src/app/core/operations/joinleft/joinleft.ts" ><b>weft_data</b>&nbsp;&nbsp;&nbsp;(src/.../joinleft.ts)</a>
                        </li>
                        <li>
                            <a href="#weft_pattern" title="src/app/core/operations/assignsystems/assignsystems.ts" ><b>weft_pattern</b>&nbsp;&nbsp;&nbsp;(src/.../assignsystems.ts)</a>
                        </li>
                        <li>
                            <a href="#weft_profile" title="src/app/core/operations/weft_profile/weft_profile.ts" ><b>weft_profile</b>&nbsp;&nbsp;&nbsp;(src/.../weft_profile.ts)</a>
                        </li>
                        <li>
                            <a href="#weft_repeats" title="src/app/core/operations/chaos/chaos.ts" ><b>weft_repeats</b>&nbsp;&nbsp;&nbsp;(src/.../chaos.ts)</a>
                        </li>
                        <li>
                            <a href="#weft_repeats" title="src/app/core/operations/stretch/stretch.ts" ><b>weft_repeats</b>&nbsp;&nbsp;&nbsp;(src/.../stretch.ts)</a>
                        </li>
                        <li>
                            <a href="#weft_repeats" title="src/app/core/operations/tile/tile.ts" ><b>weft_repeats</b>&nbsp;&nbsp;&nbsp;(src/.../tile.ts)</a>
                        </li>
                        <li>
                            <a href="#weft_systems" title="src/app/core/operations/interlace_warps/interlace_warps.ts" ><b>weft_systems</b>&nbsp;&nbsp;&nbsp;(src/.../interlace_warps.ts)</a>
                        </li>
                        <li>
                            <a href="#weftLayerValueInRange" title="src/app/core/model/yarnsimulation.ts" ><b>weftLayerValueInRange</b>&nbsp;&nbsp;&nbsp;(src/.../yarnsimulation.ts)</a>
                        </li>
                        <li>
                            <a href="#wefts" title="src/app/core/model/drafts.ts" ><b>wefts</b>&nbsp;&nbsp;&nbsp;(src/.../drafts.ts)</a>
                        </li>
                        <li>
                            <a href="#white_cells" title="src/app/core/operations/fill/fill.ts" ><b>white_cells</b>&nbsp;&nbsp;&nbsp;(src/.../fill.ts)</a>
                        </li>
                        <li>
                            <a href="#width" title="src/app/core/operations/bwimagemap/bwimagemap.ts" ><b>width</b>&nbsp;&nbsp;&nbsp;(src/.../bwimagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#width" title="src/app/core/operations/crop/crop.ts" ><b>width</b>&nbsp;&nbsp;&nbsp;(src/.../crop.ts)</a>
                        </li>
                        <li>
                            <a href="#width" title="src/app/core/operations/imagemap/imagemap.ts" ><b>width</b>&nbsp;&nbsp;&nbsp;(src/.../imagemap.ts)</a>
                        </li>
                        <li>
                            <a href="#width" title="src/app/core/operations/sawtooth/sawtooth.ts" ><b>width</b>&nbsp;&nbsp;&nbsp;(src/.../sawtooth.ts)</a>
                        </li>
                        <li>
                            <a href="#width" title="src/app/core/operations/sinewave/sineweave.ts" ><b>width</b>&nbsp;&nbsp;&nbsp;(src/.../sineweave.ts)</a>
                        </li>
                    </ul>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    <h3>src/test.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="__karma__"></a>
                    <span class="name">
                        <span ><b>__karma__</b></span>
                        <a href="#__karma__"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/yarnsimulation.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addWarpInterlacement"></a>
                    <span class="name">
                        <span ><b>addWarpInterlacement</b></span>
                        <a href="#addWarpInterlacement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, i: number, j: number, z_pos: number, diam: number, sim: SimulationVars, warp_vtxs: Array&lt;Array&lt;YarnVertex&gt;&gt;, weft_vtxs: Array&lt;Array&lt;YarnVertex&gt;&gt;) :  Array&lt;Array&lt;YarnVertex&gt;&gt; &#x3D;&gt; {


    //THIS HAPPENS BECAUSE WE FORCE EVERY WARP TO HAVE AT LEAST 2 points at beginning and end, even if they 
    //don&#x27;t change position in the cloth
    if(i &lt; 0 || i &gt;&#x3D; weft_vtxs.length){
      warp_vtxs[j].push({
        x: j*sim.warp_spacing, 
        y: i*diam,
        z: z_pos*sim.layer_spacing,
        i: i, 
        j: j
      });
    }else{


    let weft &#x3D; weft_vtxs[i];
    
    let closest_weft_vtx &#x3D; weft.reduce((acc, el, ndx)&#x3D;&gt; {
      let dist &#x3D; Math.abs(el.j-j);
      if(dist &lt; acc.val) return {ndx, val:dist};
      else return acc;

    }, {ndx: -1, val: 100000})


    if(closest_weft_vtx.ndx !&#x3D;&#x3D; -1){

      warp_vtxs[j].push({
        x: j*sim.warp_spacing, 
        y: weft[closest_weft_vtx.ndx].y,
        z: z_pos*sim.layer_spacing,
        i: i, 
        j: j
      });
    }else{
      console.error(&quot;NO VTX FOUND FOR  &quot;, i, j)
    }

    }




     return warp_vtxs;
     
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addWarpLayerInterlacementsToMap"></a>
                    <span class="name">
                        <span ><b>addWarpLayerInterlacementsToMap</b></span>
                        <a href="#addWarpLayerInterlacementsToMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(layer_map: Array&lt;Array&lt;number&gt;&gt;, interlacements: Array&lt;TopologyVtx&gt;, max_ilace_width: number, max_ilace_height: number) : Array&lt;Array&lt;number&gt;&gt; &#x3D;&gt; {

      interlacements.forEach(ilace &#x3D;&gt; {
        let height &#x3D; ilace.i_top-ilace.i_bot;
        if(height &lt;&#x3D; max_ilace_height){
          //span the interlaced warps onto the same layer
         for(let i &#x3D; ilace.i_bot; i &lt;&#x3D; ilace.i_top; i++){
              if(layer_map[i][ilace.j_left] &#x3D;&#x3D; null) layer_map[i][ilace.j_left] &#x3D; ilace.z_pos;
              if(layer_map[i][ilace.j_right] &#x3D;&#x3D; null) layer_map[i][ilace.j_right] &#x3D; ilace.z_pos;              
          } 

         let i_min &#x3D; Math.max(0, ilace.i_bot - max_ilace_height);
         let i_max &#x3D; Math.min(ilace.i_top + max_ilace_height, layer_map.length-1);
         

        //reach out from all four corners and see if there is an interlacement with the same layer val in range
        let bottom_left &#x3D; warpLayerValueInRange(layer_map, ilace.z_pos, i_min, ilace.i_bot, ilace.j_left);
        if(bottom_left !&#x3D;&#x3D; -1){
          for(let i &#x3D; i_min; i &lt; ilace.i_bot; i++){
            if(layer_map[i][ilace.j_left] &#x3D;&#x3D; null) layer_map[i][ilace.j_left] &#x3D; ilace.z_pos;
          }
        }

        let bottom_right &#x3D; warpLayerValueInRange(layer_map, ilace.z_pos, i_min, ilace.i_bot, ilace.j_right);
        if(bottom_right !&#x3D;&#x3D; -1){
         for(let i &#x3D; bottom_right; i &lt;&#x3D; ilace.i_bot; i++){
           if(layer_map[i][ilace.j_right] &#x3D;&#x3D; null) layer_map[i][ilace.j_right] &#x3D; ilace.z_pos;
         }
        }

        let top_left &#x3D; warpLayerValueInRange(layer_map, ilace.z_pos, ilace.i_top,i_max, ilace.j_left);
        if(top_left !&#x3D;&#x3D; -1){
          for(let i &#x3D; ilace.i_top; i &lt; top_left; i++){
            if(layer_map[i][ilace.j_left] &#x3D;&#x3D; null) layer_map[i][ilace.j_left] &#x3D; ilace.z_pos;
          }
        }

        let top_right &#x3D; warpLayerValueInRange(layer_map, ilace.z_pos,ilace.i_top,i_max, ilace.j_right);
        if(top_right !&#x3D;&#x3D; -1){
          for(let i &#x3D; ilace.i_top; i &lt; top_right; i++){
            if(layer_map[i][ilace.j_right] &#x3D;&#x3D; null) layer_map[i][ilace.j_right] &#x3D; ilace.z_pos;
         }
        }

        }
      });

      return layer_map;
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>takes interlacements associted with a layer and organizes them to associate each warp location with a given location</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addWeftInterlacement"></a>
                    <span class="name">
                        <span ><b>addWeftInterlacement</b></span>
                        <a href="#addWeftInterlacement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(
    draft: Draft, 
    i: number, 
    j: number, 
    z_pos: number, 
    diam: number, 
    sim: SimulationVars, 
    weft_vtxs: Array&lt;YarnVertex&gt;, 
    ) 
  : Array&lt;YarnVertex&gt; &#x3D;&gt; {
    let offset &#x3D; getWeftOffsetFromWarp(draft, i, j, sim.ms);
    let orient &#x3D; getWeftOrientationVector(draft, i, j);


      weft_vtxs.push({
      x: j*sim.warp_spacing, 
      y: i*diam,
      z: z_pos*sim.layer_spacing+offset*orient,
      i: i, 
      j: j
     });



     return weft_vtxs;
     
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addWeftLayerInterlacementsToMap"></a>
                    <span class="name">
                        <span ><b>addWeftLayerInterlacementsToMap</b></span>
                        <a href="#addWeftLayerInterlacementsToMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(layer_map: Array&lt;Array&lt;number&gt;&gt;, interlacements: Array&lt;TopologyVtx&gt;, max_ilace_width: number) : Array&lt;Array&lt;number&gt;&gt; &#x3D;&gt; {
      max_ilace_width &#x3D; 5;
      console.log(&quot;INTERLACEMENTS &quot;, interlacements)
      interlacements.forEach(ilace &#x3D;&gt; {
        let width &#x3D; ilace.j_right-ilace.j_left;
        if(width &lt;&#x3D; max_ilace_width){
    
          //span the interlaced wefts onto the same layer
         for(let j &#x3D; ilace.j_left; j &lt;&#x3D; ilace.j_right; j++){
              if(layer_map[ilace.i_bot][j] &#x3D;&#x3D; null) layer_map[ilace.i_bot][j]  &#x3D; ilace.z_pos;
              if(layer_map[ilace.i_top][j] &#x3D;&#x3D; null) layer_map[ilace.i_top][j] &#x3D; ilace.z_pos;
            
         } 

         let j_min &#x3D; Math.max(0, ilace.j_left - max_ilace_width);
         let j_max &#x3D; Math.min(ilace.j_right + max_ilace_width, layer_map[0].length-1);

        //reach out from all four corners and see if there is an interlacement with the same layer val in range
         let bottom_left &#x3D; weftLayerValueInRange(layer_map, ilace.z_pos, j_min, ilace.j_left, ilace.i_bot);

        if(bottom_left !&#x3D;&#x3D; -1){
         for(let j &#x3D; bottom_left; j &lt; ilace.j_left; j++){
          if(layer_map[ilace.i_bot][j] &#x3D;&#x3D; null) layer_map[ilace.i_bot][j] &#x3D; ilace.z_pos;
         }
        }

        

        let top_left &#x3D; weftLayerValueInRange(layer_map, ilace.z_pos, j_min, ilace.j_left, ilace.i_top);
        if(top_left !&#x3D;&#x3D; -1){
          for(let j &#x3D; top_left; j &lt; ilace.j_left; j++){
            if(layer_map[ilace.i_top][j] &#x3D;&#x3D; null) layer_map[ilace.i_top][j] &#x3D; ilace.z_pos;
          }
         }
 
         let bottom_right &#x3D; weftLayerValueInRange(layer_map, ilace.z_pos, ilace.j_right, j_max, ilace.i_bot);
         if(bottom_right !&#x3D;&#x3D; -1){
          for(let j &#x3D; ilace.j_right; j &lt;&#x3D; bottom_right; j++){
            if(layer_map[ilace.i_bot][j] &#x3D;&#x3D; null) layer_map[ilace.i_bot][j] &#x3D; ilace.z_pos;
          }
         }

         let top_right &#x3D; weftLayerValueInRange(layer_map, ilace.z_pos, ilace.j_right, j_max, ilace.i_top);
         if(top_right !&#x3D;&#x3D; -1){
          for(let j &#x3D; ilace.j_right; j &lt;&#x3D; top_right; j++){
            if(layer_map[ilace.i_top][j] &#x3D;&#x3D; null) layer_map[ilace.i_top][j] &#x3D; ilace.z_pos;
          }
         }
        }
      });

      return layer_map;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="areInterlacement"></a>
                    <span class="name">
                        <span ><b>areInterlacement</b></span>
                        <a href="#areInterlacement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(a: Cell, b: Cell) : boolean &#x3D;&gt; {

    if(getCellValue(a) &#x3D;&#x3D; null || getCellValue(b) &#x3D;&#x3D; null) return false;

    if( getCellValue(a) !&#x3D; getCellValue(b)) return true;

    return false;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calcClothHeightOffsetFactor"></a>
                    <span class="name">
                        <span ><b>calcClothHeightOffsetFactor</b></span>
                        <a href="#calcClothHeightOffsetFactor"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(diam: number, radius: number, offset: number) : number &#x3D;&gt; {
    return  diam * (radius-offset)/radius; 
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calcFloatDistance"></a>
                    <span class="name">
                        <span ><b>calcFloatDistance</b></span>
                        <a href="#calcFloatDistance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, j: number, float: YarnFloat, weft: Array&lt;YarnVertex&gt;, layer_maps: LayerMaps, draft:Draft, sim:SimulationVars) : number &#x3D;&gt; {
        
        let left_warp_id &#x3D; getPrevWarpOnLayer(i, float.start, layer_maps); 
        let right_warp_id &#x3D;float.end; 

        if(j &#x3D;&#x3D; left_warp_id || j &#x3D;&#x3D; right_warp_id) return 0;
        


       

        let start_x &#x3D; sim.warp_spacing*left_warp_id;
        let end_x &#x3D;  sim.warp_spacing*right_warp_id;
        let width &#x3D; end_x - start_x;

        let half_width &#x3D; width/2;

        let jx &#x3D; (j * sim.warp_spacing) - start_x;
        let distance_from_center &#x3D; (jx &lt;&#x3D; half_width) ? half_width - jx : jx - half_width;
       
        if(half_width &#x3D;&#x3D; 0) return 0;

        let closeness_ratio &#x3D; 1-(distance_from_center/half_width);
        // console.log(&quot;WIDTH / DISTANCE &quot;, distance_from_center, half_width, closeness_ratio)
        //should be 1 when the distance is 0;


        //less x_distance, stonger repel. 
        // repel depends on length; 
        let max_dx &#x3D; Math.min(8, width/10);
        let pcent &#x3D; Math.sin(Math.PI/2 * closeness_ratio)



       
        //let positioned_dx &#x3D; (float.heddle) ? max_dx*pcent : -max_dx*pcent; 
        let positioned_dx &#x3D; (float.heddle) ? -pcent*max_dx : pcent*max_dx; 
       // console.log(&quot;POSITINED DX &quot;, positioned_dx)

        return positioned_dx;
      }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>how far can a strong interlacement push a weft upward in the cloth. This depends on the sett of the cloth and density of the yarns. How much distance is between these yarns? Returns the displacement in mm.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calcMaxDisplacement"></a>
                    <span class="name">
                        <span ><b>calcMaxDisplacement</b></span>
                        <a href="#calcMaxDisplacement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(sett_width: number, max_warp_thickness: number) : number &#x3D;&gt; {
      return max_warp_thickness / sett_width;
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>how far can a strong interlacement push a weft upward in the cloth. This depends on the sett of the cloth and density of the yarns. How much distance is between these yarns? Returns the displacement in mm.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="calcStrength"></a>
                    <span class="name">
                        <span ><b>calcStrength</b></span>
                        <a href="#calcStrength"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(dist: number) : number &#x3D;&gt; {
      return 1/dist;
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given the distance of this interlacement in mm, this function figures out the strength factor. Which will determine how much to push up this warp as  function of distance. Smaller widths get pushed up harder than farther widths. Max is 1 - min is very close to zero.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="containsWeftEdge"></a>
                    <span class="name">
                        <span ><b>containsWeftEdge</b></span>
                        <a href="#containsWeftEdge"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, ilaces: Array&lt;WarpInterlacementTuple&gt;) : boolean &#x3D;&gt; {

    ilaces.forEach(ilace &#x3D;&gt; {
      if(ilace.i_top &#x3D;&#x3D; wefts(draft.drawdown)-1) return true;
      if(ilace.i_bot &#x3D;&#x3D; 0) return true;
    })

    return false;

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks to see if either of the wefts we are comparing against is on the edge.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="correctInterlacementLayers"></a>
                    <span class="name">
                        <span ><b>correctInterlacementLayers</b></span>
                        <a href="#correctInterlacementLayers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(all: Array&lt;TopologyVtx&gt;, weft: Array&lt;TopologyVtx&gt;, layer_threshold: number) : Array&lt;TopologyVtx&gt; &#x3D;&gt; {


//this is a list of every possible interlacement between wefts but also includes sometimes more interlacements than we need. For instance, with satin, it might detect layers within float spaces. We can identify those as interlacements that share a corner. 

    let hard_overlaps &#x3D; [];
    let to_check &#x3D; weft.slice();
    all.forEach((topo) &#x3D;&gt; {
        to_check &#x3D; to_check.filter(el &#x3D;&gt; el.id !&#x3D; topo.id);
        to_check.forEach((check) &#x3D;&gt; {
          if(topo.i_bot &#x3D;&#x3D; check.i_bot &amp;&amp; topo.j_left &#x3D;&#x3D; check.j_left) hard_overlaps.push({a: topo.id, b: check.id})
          if(topo.i_bot &#x3D;&#x3D; check.i_bot &amp;&amp; topo.j_right &#x3D;&#x3D; check.j_right) hard_overlaps.push({a: topo.id, b: check.id})
          if(topo.i_top &#x3D;&#x3D; check.i_top &amp;&amp; topo.j_left &#x3D;&#x3D; check.j_left) hard_overlaps.push({a: topo.id, b: check.id})
          if(topo.i_top &#x3D;&#x3D; check.i_top &amp;&amp; topo.j_right &#x3D;&#x3D; check.j_right) hard_overlaps.push({a: topo.id, b: check.id})
        });
    })

    hard_overlaps.forEach(topo &#x3D;&gt; {
      weft &#x3D; weft.filter(el &#x3D;&gt; el.id !&#x3D;&#x3D; topo.b);

      // let a:TopologyVtx &#x3D; all.find(el &#x3D;&gt; el.id &#x3D;&#x3D; topo.a);
      // let b:TopologyVtx &#x3D; weft.find(el &#x3D;&gt; el.id &#x3D;&#x3D; topo.b);
      // if(a !&#x3D;&#x3D; undefined &amp;&amp; b!&#x3D;&#x3D; undefined){
      // if(Math.abs(a.z_pos) &lt; Math.abs(b.z_pos)) weft &#x3D; weft.filter(el &#x3D;&gt; el.id !&#x3D;&#x3D; b.id);
      // else all &#x3D; all.filter(el &#x3D;&gt; el.id !&#x3D;&#x3D; a.id);
      // }
    });
    all &#x3D; weft.slice();


    let compressed_weft &#x3D; [];
    let last &#x3D; null;

    //check weft from left to right and strip out anything that seems to be an outlier
    weft.forEach(vtx &#x3D;&gt; {
      
      if(vtx.z_pos &#x3D;&#x3D; last){
         compressed_weft[compressed_weft.length-1].count++;
         compressed_weft[compressed_weft.length-1].els.push(vtx);
      }else{
        compressed_weft.push({id: vtx.z_pos, count: 1, els: [vtx]});
      }
      last &#x3D; vtx.z_pos;
    });


    let mark_for_removal &#x3D; [];
    compressed_weft.forEach((item, ndx) &#x3D;&gt; {
      if(item.count &lt; layer_threshold){
        //check left 
        // console.log(&quot;Removing below threshold elements&quot;)
        item.els.forEach(el &#x3D;&gt; {
          mark_for_removal.push(el.id);
        })
        //let left_mag &#x3D; (ndx -1 &gt;&#x3D; 0) ? compressed_weft[ndx-1].count : -1;
        //let right_mag &#x3D; (ndx +1 &lt; compressed_weft.length) ? compressed_weft[ndx+1].count : -1;

        // if(left_mag !&#x3D;&#x3D; -1 &amp;&amp; right_mag !&#x3D; -1){
        //   let new_pos &#x3D; -1;
        //   if(left_mag &gt;&#x3D; right_mag){
        //     new_pos &#x3D; compressed_weft[ndx-1].id;
        //   }else{
        //     new_pos &#x3D; compressed_weft[ndx+1].id;
        //   }
          
         
        // }

      }
    })

    weft &#x3D; weft.filter(el &#x3D;&gt; mark_for_removal.find(item &#x3D;&gt; item &#x3D;&#x3D; el.id) &#x3D;&#x3D; undefined);
    all &#x3D; weft.slice();



    //check weft from top to bottom
    //this has the problem that if there is an error somewhere, it will no ripple out through the cloth. 
    weft.forEach(vtx &#x3D;&gt; {

      let shares_layer &#x3D; all.filter(el &#x3D;&gt; 
        (el.j_left &#x3D;&#x3D; vtx.j_right &amp;&amp; el.i_top &#x3D;&#x3D; vtx.i_bot) || (el.j_right &#x3D;&#x3D; vtx.j_left &amp;&amp; el.i_top &#x3D;&#x3D; vtx.i_bot))

      shares_layer.forEach(topo_vtx &#x3D;&gt; {
        vtx.z_pos &#x3D; topo_vtx.z_pos;
      })

    });

    return weft;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createLayerMaps"></a>
                    <span class="name">
                        <span ><b>createLayerMaps</b></span>
                        <a href="#createLayerMaps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, topo: Array&lt;TopologyVtx&gt;, sim: SimulationVars) : 
    Promise&lt;LayerMaps&gt; &#x3D;&gt; {


      const layer_maps &#x3D; {
        weft: [], 
        warp: []
      };
      
       //let a list of all the active layers in this toplogy (as absolute vals)
       let active_layers:Array&lt;number&gt; &#x3D; topo.reduce((acc, val) &#x3D;&gt; {
         let has_elem &#x3D; acc.find(el &#x3D;&gt; el &#x3D;&#x3D; Math.abs(val.z_pos))
         if(has_elem &#x3D;&#x3D;&#x3D; undefined){
           return acc.concat(Math.abs(val.z_pos));
         }
         return acc;
       }, []); 
 
       //get the largest magnitude layer (e.g. farthest from zero)
       const max_layer &#x3D; active_layers.reduce((acc, val) &#x3D;&gt; {
         if(val &gt; acc) return val;
         return acc;
       }, 0);




      return createWarpLayerMap(draft, topo, sim, active_layers, max_layer)
      .then(warps &#x3D;&gt; {

        layer_maps.warp &#x3D; warps;
        return createWeftLayerMap(draft, topo, sim, warps)
      }
      ).then(wefts &#x3D;&gt;{

        layer_maps.weft &#x3D; wefts;
        
  
        //make sure every column in the warp map has at least one weft traveling on it in the weft map. 


        return layer_maps;
      });
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>to create the rendering of the draft, we need to understand what is happening layer wise with the warps and wefts</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createWarpLayerMap"></a>
                    <span class="name">
                        <span ><b>createWarpLayerMap</b></span>
                        <a href="#createWarpLayerMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, topo: Array&lt;TopologyVtx&gt;, sim: SimulationVars, active_layers: Array&lt;number&gt;, max_layer: number) : Promise&lt;Array&lt;Array&lt;number&gt;&gt;&gt; &#x3D;&gt; {
    
    console.log(&quot;TOPO &quot;, topo)

    //get the closest weft interlacements 
    const max_height &#x3D; topo.reduce((acc, val) &#x3D;&gt; {
      if((val.i_top - val.i_bot) &gt; acc) return (val.i_top - val.i_bot);
      return acc;
    }, 0);

    //start from the smallest width to the largest  
    //push interlacements to the map in this order, not adding any additional. 
    
    // //default all layers to null
    let layer_map: Array&lt;Array&lt;number&gt;&gt; &#x3D; [];
    for(let i &#x3D; 0; i &lt; wefts(draft.drawdown); i++){
      layer_map.push([]);
      for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
        layer_map[i][j] &#x3D; null;
      }
    }
    
    //go through layers 0 -&gt; max and push interlacements to the layer map 
    for(let i &#x3D; 1; i &lt;&#x3D; max_height; i++){
        let layer_ilace &#x3D; topo.filter(ilace &#x3D;&gt; ilace.i_top-ilace.i_bot &#x3D;&#x3D; i);
        console.log(&quot;LAYER ILACE &quot;, i, layer_ilace);
        layer_map &#x3D; addWarpLayerInterlacementsToMap(layer_map, layer_ilace, sim.max_interlacement_width, sim.max_interlacement_height); 
      
    }

    


    //now scan through the layer map. Count the number of consecutive layer values on a warp. 
    //if it is larger than the layer threshold, keep them
    //if not, 
    for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){

      let col &#x3D; layer_map.reduce((acc,el) &#x3D;&gt; {
        return acc.concat(el[j]);
      }, []);

      //find all of the non null vals
      let vals &#x3D; [];
      
      col.forEach((el, ndx) &#x3D;&gt; {
        if(el !&#x3D;&#x3D; null) vals.push(ndx);
      });


      if(vals.length &#x3D;&#x3D; 0){
        //find the first non-zero val to the columns to the right 
        //fill this with those columns 
      }else{

        vals.forEach(val &#x3D;&gt; {
          //fill downwards
          let found &#x3D; false;
          for(let i &#x3D; val-1; i &gt;&#x3D; 0 &amp;&amp; !found; i--){
            if(layer_map[i][j] &#x3D;&#x3D; null) layer_map[i][j] &#x3D;  layer_map[val][j];
            else found &#x3D; true;
          };

          //fill upwards
            found &#x3D; false;
          for(let i &#x3D; val+1; i &lt; col.length &amp;&amp; !found; i++){
            if(layer_map[i][j] &#x3D;&#x3D; null) layer_map[i][j] &#x3D;  layer_map[val][j];
            else found &#x3D; true;
          };


        });
        

      }

        
    // }

    }


  /**
   * look through rows, if you hit a null value in a row, look to the preview 
   * values it had just saw, and replace this value with those values. 
   */
    let prior_pattern &#x3D; [];
    let needs_value &#x3D; [];
    let starting_pattern &#x3D; [];
    let count_null &#x3D; 0;
    let has_pattern &#x3D; false;
    for(let i &#x3D; 0; i &lt; wefts(draft.drawdown); i++){
      prior_pattern &#x3D; [];
      needs_value &#x3D; [];
      starting_pattern &#x3D; [];
      count_null &#x3D; 0;
      has_pattern &#x3D; false;
      for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
        if(layer_map[i][j] !&#x3D;&#x3D; null){
          if(count_null &gt; 0) prior_pattern &#x3D; [];
          prior_pattern.push(layer_map[i][j]);
          count_null &#x3D; 0;
        }else{
        
          if(prior_pattern.length &#x3D;&#x3D; 0) needs_value.push(j);
          else{
            if(!has_pattern) starting_pattern &#x3D; prior_pattern.slice();
            has_pattern &#x3D; true;
            layer_map[i][j] &#x3D; prior_pattern[count_null%prior_pattern.length];
          } 
          count_null++;
        }
      }

      for(let n &#x3D; 0; n &lt;needs_value.length; n++){
        layer_map[i][needs_value[n]] &#x3D; starting_pattern[n%starting_pattern.length];
      }




    }


      //now clean up 
      console.log(&quot;WARP LAYER MAP&quot;, layer_map)
      return Promise.resolve(layer_map);
     
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>use the topology generated to create a map describing the relationship between warp and weft layers. assign each position along a warp with an associated layer. If a weft interlaces with that warp, it must do so on the warps associated layer</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createWeftLayerMap"></a>
                    <span class="name">
                        <span ><b>createWeftLayerMap</b></span>
                        <a href="#createWeftLayerMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, topo: Array&lt;TopologyVtx&gt;, sim: SimulationVars, warp_layer_map: Array&lt;Array&lt;number&gt;&gt;) : Promise&lt;Array&lt;Array&lt;number&gt;&gt;&gt; &#x3D;&gt; {

    //get the closest weft interlacements 
        const max_width &#x3D; topo.reduce((acc, val) &#x3D;&gt; {
          if((val.j_right - val.j_left) &gt; acc) return (val.i_top - val.i_bot);
          return acc;
        }, 0);


        //default all layers to null
        let layer_map: Array&lt;Array&lt;number&gt;&gt; &#x3D; [];
        for(let i &#x3D; 0; i &lt; wefts(draft.drawdown); i++){
          layer_map.push([]);
          for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
            layer_map[i][j] &#x3D; null;
          }
        }

        //go through layers 0 -&gt; max and push interlacements to the layer map 
        // for(let j &#x3D; 1; j &lt;&#x3D; max_width; j++){
        //   console.log(&quot;ADDING INTERLACEMENTS OF SIZE &quot;, j)
        //   let layer_ilace &#x3D; topo.filter(ilace &#x3D;&gt; ilace.j_right-ilace.j_left &#x3D;&#x3D; j);
        //   layer_map &#x3D; addWeftLayerInterlacementsToMap(layer_map, layer_ilace, sim.max_interlacement_width); 
        // }

      let null_set;
      for(let i &#x3D; 0; i &lt; wefts(draft.drawdown); i++){
        null_set &#x3D; [];
        for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
          if(layer_map[i][j] &#x3D;&#x3D; null) null_set.push(j); 
          else if(null_set.length &gt; 0){
            let layers &#x3D; inferWeftNullLayers(i, draft, null_set, layer_map,  warp_layer_map);
            for(let n &#x3D; 0; n&lt;null_set.length; n++){
                layer_map[i][null_set[n]] &#x3D; layers[n];
            }
            null_set &#x3D; [];
          }
        }
        
        //catch any last nulls left over at teh end of the weft
        let layers &#x3D; inferWeftNullLayers(i, draft, null_set, layer_map,  warp_layer_map);
        for(let n &#x3D; 0; n&lt;null_set.length; n++){
            layer_map[i][null_set[n]] &#x3D; layers[n];
        }



      }


       

      
        /**
         * look through columns, if you hit a null value in a column, look to the preview 
         * values it had just saw, and replace this value with those values. 
         */
        // let prior_pattern &#x3D; [];
        // let needs_value &#x3D; [];
        // let starting_pattern &#x3D; [];
        // let count_null &#x3D; 0;
        // let has_pattern &#x3D; false;
        // for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
        //   prior_pattern &#x3D; [];
        //   needs_value &#x3D; [];
        //   starting_pattern &#x3D; [];
        //   count_null &#x3D; 0;
        //   has_pattern &#x3D; false;
        //   for(let i &#x3D; 0; i &lt; wefts(draft.drawdown); i++){
        //     if(layer_map[i][j] !&#x3D;&#x3D; null){
        //       if(count_null &gt; 0) prior_pattern &#x3D; [];
        //       prior_pattern.push(layer_map[i][j]);
        //       count_null &#x3D; 0;
        //     }else{
            
        //       if(prior_pattern.length &#x3D;&#x3D; 0) needs_value.push(i);
        //       else{
        //         if(!has_pattern) starting_pattern &#x3D; prior_pattern.slice();
        //         has_pattern &#x3D; true;
        //         layer_map[i][j] &#x3D; prior_pattern[count_null%prior_pattern.length];
        //       } 
        //       count_null++;
        //     }
        //   }

          // if(starting_pattern.length &gt; 0){
          //   for(let n &#x3D; 0; n &lt; needs_value.length; n++){
          //     console.log(&quot;STARTING PATTERN ON &quot;, needs_value[n], j, layer_map.length, starting_pattern, n%starting_pattern.length)
          //     layer_map[needs_value[n]][j] &#x3D; starting_pattern[n%starting_pattern.length];
          //   }
          // }else{
          //   //there are absolutely no values on this column, what to do?
          // }
         //}


     

      console.log(&quot;WEFT LAYER MAP&quot;, layer_map)
      return Promise.resolve(layer_map);

    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>use the topology generated to create a map describing the relationship between warp and weft layers. assign each position along a warp with an associated layer. If a weft interlaces with that warp, it must do so on the warps associated layer</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="extractInterlacementsFromTuples"></a>
                    <span class="name">
                        <span ><b>extractInterlacementsFromTuples</b></span>
                        <a href="#extractInterlacementsFromTuples"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(tuples: Array&lt;WarpInterlacementTuple&gt;, count: number, simvars: SimulationVars) : Array&lt;TopologyVtx&gt; &#x3D;&gt; {
    const topo: Array&lt;TopologyVtx&gt; &#x3D; [];

    //look left to right
    for(let x &#x3D; 1; x &lt; tuples.length; x++){
      let last &#x3D; x -1;
      if(tuples[last].orientation !&#x3D;&#x3D; tuples[x].orientation &amp;&amp; (tuples[x].j - tuples[last].j) &lt;&#x3D; simvars.max_interlacement_width){
          topo.push({
            id: tuples[last].i_bot+&quot;.&quot;+tuples[last].i_top+&quot;.&quot;+tuples[last].j+&quot;.&quot;+tuples[x].j+&quot;.&quot;+count,
            i_top: tuples[last].i_top, 
            i_bot: tuples[last].i_bot,
            j_left: tuples[last].j,
            j_right: tuples[x].j,
            orientation: !tuples[last].orientation,
            z_pos: count
          });
        }
      }

    let optimal_topo: Array&lt;TopologyVtx&gt; &#x3D; [];
    topo.forEach(vtx &#x3D;&gt; {
      let reduced &#x3D; reduceInterlacement(vtx, tuples, count);

      if(reduced &#x3D;&#x3D;&#x3D; null) optimal_topo.push(vtx);
      else optimal_topo.push(reduced);
    })



     return optimal_topo;

    
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a list of weft-oriented tuples (comapring wefts at each warp) find all the relevant interlacements</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="extractWeftLayerGroups"></a>
                    <span class="name">
                        <span ><b>extractWeftLayerGroups</b></span>
                        <a href="#extractWeftLayerGroups"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, null_set: Array&lt;number&gt;, draft: Draft, warp_map: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;number&gt; &#x3D;&gt; {

    let observed: Array&lt;{id: number, under: boolean, over:boolean}&gt; &#x3D; [];
    let layer_vals &#x3D; [];

    for(let n &#x3D; 0; n &lt; null_set.length; n++ ){
       
        let j &#x3D; null_set[n];
        let warp_layer &#x3D; warp_map[i][j];
        let el &#x3D; observed.find(el &#x3D;&gt; el.id &#x3D;&#x3D; warp_layer);

        // console.log(&quot;CHECKING &quot;, i, j, warp_layer, getCellValue(draft.drawdown[i][j]));

        if(getCellValue(draft.drawdown[i][j]) &#x3D;&#x3D; true){ 
          if(el !&#x3D;&#x3D; undefined) el.under &#x3D; true;
          else observed.push({id: warp_layer, under: true, over: false})
        }else{
          if(el !&#x3D;&#x3D; undefined) el.over &#x3D; true;
          else observed.push({id: warp_layer, under: false, over: true})
        }


        //check to see if there is an over and an under
        let found &#x3D; observed.find(el &#x3D;&gt; el.over &amp;&amp; el.under);
        if(found !&#x3D;&#x3D; undefined){
          //write everything prior to the current n to be the 
          for(let l &#x3D; 0; l &lt;&#x3D; n; l++){
            layer_vals.push(found.id);
          }
          // console.log(&quot;RETURNING &quot;, layer_vals, n)
          return layer_vals;
        }
      }
      return [];
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getClosestWarpValue"></a>
                    <span class="name">
                        <span ><b>getClosestWarpValue</b></span>
                        <a href="#getClosestWarpValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, j: number, warp_vtx: Array&lt;Array&lt;YarnVertex&gt;&gt;) : number &#x3D;&gt; {

  for(let x &#x3D; 1; x &lt; warp_vtx.length; x++){
    let bot &#x3D; i-x;
    let top &#x3D; i+x;

    if(bot &gt;&#x3D; 0 &amp;&amp; bot &lt;&#x3D; warp_vtx.length-1 &amp;&amp; warp_vtx[bot][j].z !&#x3D;&#x3D; -10000000) return warp_vtx[bot][j].z;
    if(top &gt;&#x3D; 0 &amp;&amp; top &lt;&#x3D; warp_vtx.length -1 &amp;&amp; warp_vtx[top][j].z !&#x3D;&#x3D; -10000000) return warp_vtx[top][j].z;
  }
  return 0;

}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>when positioning warps in layers, warps close to the ends of the draft will never get a position set. For this reason, we set an unreasinable z value to flag a process after the warps are positioned to update the ends.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDraftTopology"></a>
                    <span class="name">
                        <span ><b>getDraftTopology</b></span>
                        <a href="#getDraftTopology"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, sim: SimulationVars) : Promise&lt;Array&lt;TopologyVtx&gt;&gt; &#x3D;&gt; {
    let dd &#x3D; draft.drawdown;

    //extend the drawdown by boundary in all directions so that we can eliminate strange data that emerges from drafts that don&#x27;t have enough interlacements because they are small. This artifically tiles the draft to get more fidelity. 



    const warp_tuples &#x3D; getWarpInterlacementTuples(dd);
    // console.log(&quot;WARP TUPLES &quot;, warp_tuples);
    let topology: Array&lt;TopologyVtx&gt; &#x3D; [];

  
    //look at each weft
    for(let i &#x3D; 0; i &lt; wefts(dd); i++){

      //get the interlacements associated with this row
      let a &#x3D; warp_tuples.filter(el &#x3D;&gt; el.i_top &#x3D;&#x3D; i);

      let range &#x3D; {j_left: 0, j_right: warps(draft.drawdown)-1}

      let verticies &#x3D; getInterlacements( a, range, 0,  draft, sim);

      let corrected &#x3D; correctInterlacementLayers(topology, verticies, sim.layer_threshold);
      topology &#x3D; topology.concat(corrected);
    }

  
    return  Promise.resolve(topology);

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this function takes a draft and input variables and uses those to generate a list of vertexes between which yarns will cross on the z plane. These points are used to determine how layers are formed and how yarns will stack relative to eacother.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFirstWarpAssociatedWithLayer"></a>
                    <span class="name">
                        <span ><b>getFirstWarpAssociatedWithLayer</b></span>
                        <a href="#getFirstWarpAssociatedWithLayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, layerid: number, layermaps: LayerMaps ) : number &#x3D;&gt; {

        for(let j &#x3D; 0; j &lt; layermaps.weft[i].length; j++){
          if(layermaps.warp[i][j] &#x3D;&#x3D; layerid) return j;
        }
        return -1;

      }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getFloatRanges"></a>
                    <span class="name">
                        <span ><b>getFloatRanges</b></span>
                        <a href="#getFloatRanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, i: number) &#x3D;&gt; {
    const ranges: Array&lt;WarpRange&gt; &#x3D; [];
    let last_ndx &#x3D; -1;
    let last_value, cur_value: boolean  &#x3D; false;
    draft.drawdown[i].forEach((cell, j) &#x3D;&gt; {
      if(j &#x3D;&#x3D; 0){
        last_ndx &#x3D; 0;
        last_value &#x3D; cell.is_set &amp;&amp; cell.is_up;
      } else{
        cur_value &#x3D; cell.is_set &amp;&amp; cell.is_up;
        if(cur_value !&#x3D; last_value){
          ranges.push({j_left:last_ndx, j_right:j})
        }
        last_value &#x3D; cur_value;
        last_ndx &#x3D; j;

      }
    })
    ranges.push({j_left: last_ndx, j_right: warps(draft.drawdown)-1});
    return ranges;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInterlacements"></a>
                    <span class="name">
                        <span ><b>getInterlacements</b></span>
                        <a href="#getInterlacements"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(tuples: Array&lt;WarpInterlacementTuple&gt;, range: WarpRange, count: number,  draft: Draft, simvars: SimulationVars) : Array&lt;TopologyVtx&gt; &#x3D;&gt; {


    let closeness_to_edge &#x3D; Math.ceil(warps(draft.drawdown)/8);


    if(tuples.length &lt; 1) return [];



    if(tuples[0].i_bot &lt; 0) return [];



   // if(tuples[0].i_top &#x3D;&#x3D; wefts(draft.drawdown)-1) return [];

    
    tuples &#x3D; getTuplesWithinRange(tuples, range);

    const topo  &#x3D; extractInterlacementsFromTuples(tuples, count, simvars);

    let i_bot &#x3D; tuples[0].i_bot;
    let i_top &#x3D; tuples[0].i_top;
    let orientation &#x3D; tuples[0].orientation

    let ilaces: Array&lt;TopologyVtx&gt; &#x3D; [];
    let float_groups: Array&lt;WarpRange&gt; &#x3D; splitRangeByVerticies(range , topo);

    float_groups &#x3D; float_groups.filter(el &#x3D;&gt; el.j_left !&#x3D;&#x3D; el.j_right);

    //filter out groups where the last warp is included because they tend to be noisy  
    float_groups &#x3D; float_groups.filter(el &#x3D;&gt; !(el.j_right !&#x3D; warps(draft.drawdown)-1 &amp;&amp; el.j_right - el.j_left &lt; closeness_to_edge));


    float_groups.forEach((range, x) &#x3D;&gt; {
      //you need this here so it doesn&#x27;t increment the count un-neccessarily
      let cur_count &#x3D; orientation ? count - 1 : count + 1;
      
      let next_row_tuple: Array&lt;WarpInterlacementTuple&gt; &#x3D; getInterlacementsBetweenWefts(i_top, i_bot-1, range.j_left, range.j_right, draft);
      ilaces &#x3D; ilaces.concat(getInterlacements(next_row_tuple.slice(), range, cur_count,  draft, simvars));

    });
  

      
    
    return topo.concat(ilaces);

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>a recursive function that finds interlacments, returns them, and then searches remaining floating sections to see if they should push to a new layer</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInterlacementsBetweenWarps"></a>
                    <span class="name">
                        <span ><b>getInterlacementsBetweenWarps</b></span>
                        <a href="#getInterlacementsBetweenWarps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(j_active: number, j_check: number, i_start: number, i_end: number, draft: Draft) &#x3D;&gt; {
    let ilace_list: Array&lt;WeftInterlacementTuple&gt; &#x3D; [];
    for(let i &#x3D;i_start; i &lt;&#x3D; i_end; i++){
      const are_interlacements &#x3D; areInterlacement(draft.drawdown[i][j_active], draft.drawdown[i][j_check]);
      if(are_interlacements) ilace_list.push({
        j_left: j_check,
        j_right: j_active,
        i: i,
        orientation: getOrientation(draft.drawdown[i][j_active], draft.drawdown[i][j_check])
      })
    }
    return ilace_list;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given two columsn/warps (j) generate a list of all interlacments (between istart and iend) that exist between these two warps</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInterlacementsBetweenWefts"></a>
                    <span class="name">
                        <span ><b>getInterlacementsBetweenWefts</b></span>
                        <a href="#getInterlacementsBetweenWefts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i_active: number, i_check: number, j_start: number, j_end: number, draft: Draft) &#x3D;&gt; {

    let ilace_list: Array&lt;WarpInterlacementTuple&gt; &#x3D; [];
    
    if(i_check &lt; 0){
      return ilace_list;
    }

    for(let j &#x3D;j_start; j &lt;&#x3D; j_end; j++){
      
      const are_interlacements &#x3D; areInterlacement(draft.drawdown[i_active][j], draft.drawdown[i_check][j]);
      if(are_interlacements) ilace_list.push({
        i_top: i_active,
        i_bot: i_check,
        j: j,
        orientation: getOrientation(draft.drawdown[i_active][j], draft.drawdown[i_check][j])
      })
    }
    return ilace_list;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given two rows (i) generate a list of all interlacments (between jstart and end) that exist between these two rows</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMidpoint"></a>
                    <span class="name">
                        <span ><b>getMidpoint</b></span>
                        <a href="#getMidpoint"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(a: number, b: number) : number &#x3D;&gt;{
    let max &#x3D; Math.max(a,b);
    let min &#x3D; Math.min(a,b);
    let float &#x3D; max - min;
    return min + float/2;

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNextWarpOnLayer"></a>
                    <span class="name">
                        <span ><b>getNextWarpOnLayer</b></span>
                        <a href="#getNextWarpOnLayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, j: number, layermaps: LayerMaps) : number &#x3D;&gt; {

      for(let ndx &#x3D; j; ndx &lt; layermaps.weft[0].length; ndx++){
        if(layermaps.weft[i][j] &#x3D;&#x3D; layermaps.weft[i][ndx]) return ndx;
      }
      return -1;

    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNonInterlacingWarpSegment"></a>
                    <span class="name">
                        <span ><b>getNonInterlacingWarpSegment</b></span>
                        <a href="#getNonInterlacingWarpSegment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(start: WarpInterlacementTuple, remaining: Array&lt;WarpInterlacementTuple&gt;) : {ndx: number, dist: number} &#x3D;&gt;{
     
    let ref_orientation &#x3D; start.orientation;
    let barrier_cell &#x3D; remaining.findIndex(el &#x3D;&gt; el.orientation !&#x3D;&#x3D; ref_orientation);
   
    if(barrier_cell !&#x3D;&#x3D; -1){
      let distance &#x3D; Math.abs(start.j - remaining[barrier_cell].j-1);
      return {ndx:barrier_cell, dist: distance};
    }else{
      return {ndx: -1, dist:-1};
    }
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>a segment with no varience in interlacemetn orientations often signifies a layer. In this snippit, you continue comparing the active row with each subsequent row underneith to identify if it has a barrier. When it finds a barrier, it sets all the warps associated with teh interlacements on the barrier row to the associated layer position.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNonInterlacingWeftSegment"></a>
                    <span class="name">
                        <span ><b>getNonInterlacingWeftSegment</b></span>
                        <a href="#getNonInterlacingWeftSegment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(start: WeftInterlacementTuple, all: Array&lt;WeftInterlacementTuple&gt;) : {ndx: number, dist: number} &#x3D;&gt;{
     

    let ref_orientation &#x3D; start.orientation;
    let barrier_cell &#x3D; all.findIndex(el &#x3D;&gt; el.i &gt; start.i &amp;&amp; el.orientation !&#x3D;&#x3D; ref_orientation);


    if(barrier_cell !&#x3D;&#x3D; -1){
      let distance &#x3D; Math.abs(start.i - all[barrier_cell].i-1);
      return {ndx:barrier_cell, dist: distance};
    }else{
      return {ndx: -1, dist:-1};
    }
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOrientation"></a>
                    <span class="name">
                        <span ><b>getOrientation</b></span>
                        <a href="#getOrientation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(a: Cell, b: Cell) : boolean &#x3D;&gt; {

    if(getCellValue(a) &#x3D;&#x3D; true &amp;&amp; getCellValue(b) &#x3D;&#x3D; false) return true;
    return false;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPrevWarpOnLayer"></a>
                    <span class="name">
                        <span ><b>getPrevWarpOnLayer</b></span>
                        <a href="#getPrevWarpOnLayer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, j: number, layermaps: LayerMaps) : number &#x3D;&gt; {

      for(let ndx &#x3D; j; ndx &gt;&#x3D;0; ndx--){
        if(layermaps.weft[i][j] &#x3D;&#x3D; layermaps.weft[i][ndx]) return ndx;
      }
      return -1;

    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTuplesWithinRange"></a>
                    <span class="name">
                        <span ><b>getTuplesWithinRange</b></span>
                        <a href="#getTuplesWithinRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(tuples: Array&lt;WarpInterlacementTuple&gt;, range: WarpRange) : Array&lt;WarpInterlacementTuple&gt; &#x3D;&gt; {
    return tuples.filter(tuple &#x3D;&gt; tuple.j &gt;&#x3D; range.j_left &amp;&amp; tuple.j &lt;&#x3D; range.j_right);
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getWarpInterlacementTuples"></a>
                    <span class="name">
                        <span ><b>getWarpInterlacementTuples</b></span>
                        <a href="#getWarpInterlacementTuples"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(dd: Drawdown) : Array&lt;WarpInterlacementTuple&gt; &#x3D;&gt; {
    const ilace_list: Array&lt;WarpInterlacementTuple&gt; &#x3D; [];
    
    for(let i &#x3D; 0; i &lt; wefts(dd); i++){
      let i_top &#x3D; i+1;
      let i_bot &#x3D; i;

      for(let j &#x3D; 0; j &lt; warps(dd); j++){


        if(i_top !&#x3D;&#x3D; wefts(dd)){

          const ilace &#x3D; areInterlacement(dd[i_top][j], dd[i_bot][j]); 
          if(ilace ){

            ilace_list.push({
              i_bot: i_bot,
              i_top:i_top,
              j: j,
              orientation: getOrientation(dd[i_top][j], dd[i_bot][j])
            })
          }
        }
      }
    }
    return ilace_list;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>analyzes the relationship between neighboring wefts to figure out where the warp travels from front to back 
used to determine layering</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getWeftAsFloat"></a>
                    <span class="name">
                        <span ><b>getWeftAsFloat</b></span>
                        <a href="#getWeftAsFloat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, draft:Draft, layer_maps:LayerMaps) : Array&lt;YarnFloat&gt; &#x3D;&gt; {
     
      if(draft.drawdown[i].length &#x3D;&#x3D; 0) return [];

      let start_id &#x3D; getFirstWarpAssociatedWithLayer(i, layer_maps.weft[i][0], layer_maps);
      if(start_id &#x3D;&#x3D; -1) start_id &#x3D; 0;

      let floats:Array&lt;YarnFloat&gt; &#x3D; [{
        heddle: getCellValue(draft.drawdown[i][start_id]),
        end: start_id, 
        start: 0,
        layer: layer_maps.weft[i][start_id],
      }];

      let last_float &#x3D; floats[0];


      for(let j &#x3D; 1; j &lt; warps(draft.drawdown); j++){
        if(layer_maps.warp[i][j] &#x3D;&#x3D; layer_maps.weft[i][j]){

          last_float.end &#x3D; j;

          if(getCellValue(draft.drawdown[i][j]) !&#x3D; last_float.heddle ||  layer_maps.weft[i][j] !&#x3D; last_float.layer){
            last_float &#x3D; {
              heddle: getCellValue(draft.drawdown[i][j]) ,
              start: j,
              end:j,
              layer: layer_maps.weft[i][j]
            }

            floats.push(last_float);
          }
        }
      }

      return floats;

    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>convert a draft row into an array of floats. This is an alternate representation of the same data that focuses on how long the float values are and where they start, rather than each cell individually. Teh structure stores teh start of the float - the first cell that reresents the value across the float. The end value represents the cell upon which the value changes.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getWeftInterlacementTuples"></a>
                    <span class="name">
                        <span ><b>getWeftInterlacementTuples</b></span>
                        <a href="#getWeftInterlacementTuples"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(dd: Drawdown) : Array&lt;WeftInterlacementTuple&gt; &#x3D;&gt; {
    const ilace_list: Array&lt;WeftInterlacementTuple&gt; &#x3D; [];

    for(let j &#x3D; 0; j &lt; warps(dd); j++){
     for(let i &#x3D; 0; i &lt; wefts(dd); i++){

        let j_left &#x3D; j;
        let j_right &#x3D; j+1;


        if(j_right !&#x3D;&#x3D; warps(dd)){

          const ilace &#x3D; areInterlacement(dd[i][j_left], dd[i][j_right]); 
          if(ilace ){

            ilace_list.push({
              j_left: j_left,
              j_right:j_right,
              i: i,
              orientation: getOrientation(dd[i][j_left], dd[i][j_right])
            })
          }
        }
      }
    }
    return ilace_list;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getWeftOffsetFromWarp"></a>
                    <span class="name">
                        <span ><b>getWeftOffsetFromWarp</b></span>
                        <a href="#getWeftOffsetFromWarp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, i: number, j: number, ms: MaterialsService) : number &#x3D;&gt; {

    let warp_diam &#x3D; ms.getDiameter(draft.colShuttleMapping[j]);
    let weft_diam &#x3D; ms.getDiameter(draft.rowShuttleMapping[i]);

    return (warp_diam / 2 + weft_diam/2);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getWeftOrientationVector"></a>
                    <span class="name">
                        <span ><b>getWeftOrientationVector</b></span>
                        <a href="#getWeftOrientationVector"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, i: number, j: number) : number &#x3D;&gt; {
    return (draft.drawdown[i][j].is_set &amp;&amp; draft.drawdown[i][j].is_up) ? -1 : 1; 

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasBarrier"></a>
                    <span class="name">
                        <span ><b>hasBarrier</b></span>
                        <a href="#hasBarrier"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(ilaces: Array&lt;WarpInterlacementTuple&gt; | Array&lt;WeftInterlacementTuple&gt;) : boolean &#x3D;&gt; {

    let last &#x3D; null;
    let barrier_found &#x3D; false;
    ilaces.forEach(ilace &#x3D;&gt; {

      if(last &#x3D;&#x3D; null) last &#x3D; ilace.orientation;
      if(last !&#x3D;&#x3D; ilace.orientation) barrier_found &#x3D; true;
    })

    return barrier_found;

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a list of interlacments, see if there are interlacements with opposite orientation within the list that would indicate that these two yarns cross eachother at some point.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasWarpBarrierInRange"></a>
                    <span class="name">
                        <span ><b>hasWarpBarrierInRange</b></span>
                        <a href="#hasWarpBarrierInRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(ilaces: Array&lt;WeftInterlacementTuple&gt;, start: number, end: number, size: number, draft: Draft) : boolean &#x3D;&gt; {



    let adj_start &#x3D; Math.max(start-size, 0);
    let adj_end &#x3D; Math.min(end+size, wefts(draft.drawdown));

    let all_relevant_interlacements &#x3D; ilaces.filter(el &#x3D;&gt; el.i &gt; adj_start &amp;&amp; el.i &lt; adj_end);
    return  hasBarrier(all_relevant_interlacements);
    

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasWeftBarrierInRange"></a>
                    <span class="name">
                        <span ><b>hasWeftBarrierInRange</b></span>
                        <a href="#hasWeftBarrierInRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(ilaces: Array&lt;WarpInterlacementTuple&gt;, start: number, end: number, size: number, draft: Draft) : boolean &#x3D;&gt; {

    let adj_start &#x3D; Math.max(start-size, 0);
    let adj_end &#x3D; Math.min(end+size, warps(draft.drawdown));

    let all_relevant_interlacements &#x3D; ilaces.filter(el &#x3D;&gt; el.j &gt; adj_start &amp;&amp; el.j &lt; adj_end);
    return  hasBarrier(all_relevant_interlacements);
    

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a list of interlacments, see if there are interlacements with opposite orientation within the list that would indicate that these two yarns cross eachother at some point.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inferWeftNullLayers"></a>
                    <span class="name">
                        <span ><b>inferWeftNullLayers</b></span>
                        <a href="#inferWeftNullLayers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, draft: Draft, null_set: Array&lt;number&gt;, weft_map:Array&lt;Array&lt;number&gt;&gt;, warp_map:Array&lt;Array&lt;number&gt;&gt;) : Array&lt;number&gt; &#x3D;&gt; {

      let all_vals &#x3D; [];

      while(null_set.length &gt; 0){

          let layer_vals &#x3D; extractWeftLayerGroups(i, null_set, draft, warp_map);

          if(layer_vals.length &lt;&#x3D; 1){
            console.error(&quot;DIDN&#x27;T FIND ANY LAYER INFO &quot;);
            null_set &#x3D; [];
          }else{
            all_vals &#x3D; all_vals.concat(layer_vals)
            null_set &#x3D; null_set.slice(layer_vals.length -1);
          }

      }
      return all_vals;
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>try to guess the layer for the weft based on the draft and the warp layer assignments</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insertWarp"></a>
                    <span class="name">
                        <span ><b>insertWarp</b></span>
                        <a href="#insertWarp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, unsorted_ilaces: Array&lt;TopologyVtx&gt;, warp_vtxs: Array&lt;Array&lt;YarnVertex&gt;&gt;,weft_vtxs: Array&lt;Array&lt;YarnVertex&gt;&gt;,  j: number,sim: SimulationVars, layer_map:Array&lt;Array&lt;number&gt;&gt;) :Array&lt;Array&lt;YarnVertex&gt;&gt; &#x3D;&gt; {

    let ilaces &#x3D; sortInterlacementsOnWarp(unsorted_ilaces);
    let diam &#x3D; sim.ms.getDiameter(draft.colShuttleMapping[j]);
    let res &#x3D; processWarpInterlacement(draft, j, diam, ilaces.slice(), warp_vtxs, weft_vtxs, [], sim, layer_map);

    return res;
    
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insertWeft"></a>
                    <span class="name">
                        <span ><b>insertWeft</b></span>
                        <a href="#insertWeft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, 
    weft_vtx: Array&lt;YarnVertex&gt;, 
    i: number, 
    sim: SimulationVars, 
    layer_maps: LayerMaps
    ) 
    : Array&lt;YarnVertex&gt; &#x3D;&gt; {

    let diam &#x3D; sim.ms.getDiameter(draft.rowShuttleMapping[i]);
    return  processWeftInterlacements(draft, i, diam, weft_vtx,sim, layer_maps);
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given all the interlacements involving this weft, this function returns the list of vertecies that will be uused to draw that weft on screen.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="packWeft"></a>
                    <span class="name">
                        <span ><b>packWeft</b></span>
                        <a href="#packWeft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, weft: Array&lt;YarnVertex&gt;, topo: Array&lt;TopologyVtx&gt;, layer_maps: LayerMaps, draft: Draft,  prior_wefts:Array&lt;Array&lt;YarnVertex&gt;&gt;, sim: SimulationVars) : Array&lt;YarnVertex&gt; &#x3D;&gt; {

      //get the interlacements that have the current weft as the top value
      let ilaces &#x3D; topo.filter(el &#x3D;&gt; el.i_top &#x3D;&#x3D;&#x3D; i);
      let ilace_coords &#x3D; [];

      weft &#x3D; setBaselineYForWeft(i, weft, layer_maps, draft, prior_wefts, sim);
      
      let floats:Array&lt;YarnFloat&gt; &#x3D; getWeftAsFloat(i, draft, layer_maps)
      let deflections: Array&lt;Deflection&gt; &#x3D; weft.map(vtx &#x3D;&gt; {return {i: vtx.i, j: vtx.j, dx: 0, dy: 0, dz: 0}});

      // console.log(&quot;FLOATS ON &quot;, i, floats, warps(draft.drawdown))
      ilaces.forEach(ilace &#x3D;&gt; {
   
          let width &#x3D; (ilace.j_right - ilace.j_left)*sim.warp_spacing;
          let strength &#x3D; calcStrength(width);
  
          let current_left_ndx:number &#x3D; weft.findIndex(el &#x3D;&gt; el.j &#x3D;&#x3D; ilace.j_left);
          if(current_left_ndx &#x3D;&#x3D; -1) return;
          let current_left:YarnVertex &#x3D; weft[current_left_ndx];
          
          let current_right_ndx:number &#x3D; weft.findIndex(el &#x3D;&gt; el.j &#x3D;&#x3D; ilace.j_right);
          if(current_right_ndx &#x3D;&#x3D; -1) return;
          let current_right:YarnVertex &#x3D; weft[current_right_ndx];


          let center_x &#x3D; current_right.x + (current_right.x - current_left.x)/2;
          ilace_coords.push(center_x);
          let left_warp_diam &#x3D; sim.ms.getDiameter(draft.colShuttleMapping[ilace.j_left]);
          let right_warp_diam &#x3D; sim.ms.getDiameter(draft.colShuttleMapping[ilace.j_right]);
          let between_yarns_width &#x3D; width - (left_warp_diam/2 + right_warp_diam/2);
          if(between_yarns_width &lt; 0) between_yarns_width &#x3D; 0.1;
          let max_displacement &#x3D; calcMaxDisplacement(between_yarns_width, Math.max(left_warp_diam, right_warp_diam));

          deflections &#x3D; radiateInterlacementForce(weft, deflections, center_x, i, strength, max_displacement, sim);
                
      });


      floats.forEach(float &#x3D;&gt; {
  
        for(let f &#x3D; float.start; f &lt;&#x3D; float.end; f++){
            let deflection_id &#x3D; deflections.findIndex(el &#x3D;&gt; el.j &#x3D;&#x3D; f);
            if(deflection_id !&#x3D;&#x3D; -1) deflections[deflection_id].dz &#x3D; calcFloatDistance(i, f, float, weft, layer_maps, draft, sim);
        }
      });

      weft.forEach((vtx, ndx) &#x3D;&gt; {
        vtx.y +&#x3D; deflections[ndx].dy;
        vtx.z +&#x3D; deflections[ndx].dz;
      })

  

      


      return weft;
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>position the weft on top of the previous weft (on the corresponding layers) and then repositing to account for the physics of an interlacement htat pushes in different directions.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="positionFloatingWefts"></a>
                    <span class="name">
                        <span ><b>positionFloatingWefts</b></span>
                        <a href="#positionFloatingWefts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i_active: number, i_check: number, j_start: number, j_end: number, ms: MaterialsService, draft: Draft, weft_vtxs: Array&lt;Array&lt;YarnVertex&gt;&gt;) :   Array&lt;Array&lt;YarnVertex&gt;&gt; &#x3D;&gt;{
    let check_mat &#x3D; ms.getDiameter(draft.rowShuttleMapping[i_check]);
    let active_mat &#x3D; ms.getDiameter(draft.rowShuttleMapping[i_active]);
    for(let j &#x3D;j_start; j &lt;&#x3D; j_end; j++){     
      weft_vtxs[i_active][j].y &#x3D; weft_vtxs[i_check][j].y + (check_mat/2 + active_mat/2);  
    }
    return weft_vtxs;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processWarpInterlacement"></a>
                    <span class="name">
                        <span ><b>processWarpInterlacement</b></span>
                        <a href="#processWarpInterlacement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, j: number, diam: number,  ilaces: Array&lt;TopologyVtx&gt;, warp_vtxs: Array&lt;Array&lt;YarnVertex&gt;&gt;, weft_vtxs: Array&lt;Array&lt;YarnVertex&gt;&gt;,  drawn_positions: Array&lt;number&gt;, sim: SimulationVars, layer_map: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;Array&lt;YarnVertex&gt;&gt; &#x3D;&gt; {

    let last_id &#x3D; layer_map[0][j];
    let just_added &#x3D; false;

    warp_vtxs &#x3D; addWarpInterlacement(draft, -1, j, last_id, diam, sim, warp_vtxs, weft_vtxs);


    for(let i &#x3D; 1; i &lt; wefts(draft.drawdown); i++){
      if(last_id !&#x3D;&#x3D; layer_map[i][j]){
        //add the top-size of the interlacement
        if(!just_added) warp_vtxs &#x3D; addWarpInterlacement(draft, i-1, j, layer_map[i-1][j], diam, sim, warp_vtxs, weft_vtxs);
        warp_vtxs &#x3D; addWarpInterlacement(draft, i, j, layer_map[i][j], diam, sim, warp_vtxs, weft_vtxs);
        just_added &#x3D; true;
      }else{
        just_added  &#x3D; false;
        
      }
      last_id &#x3D; layer_map[i][j];
     
    }

    warp_vtxs &#x3D; addWarpInterlacement(draft, wefts(draft.drawdown), j, last_id, diam, sim, warp_vtxs, weft_vtxs);


    return warp_vtxs;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processWeftInterlacements"></a>
                    <span class="name">
                        <span ><b>processWeftInterlacements</b></span>
                        <a href="#processWeftInterlacements"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, 
    i: number,  
    diam: number, 
    weft_vtxs: Array&lt;YarnVertex&gt;,  
    sim: SimulationVars, 
    layer_maps:  LayerMaps) 
    : Array&lt;YarnVertex&gt; &#x3D;&gt; {

    let indexs_added &#x3D; [];

    //look across the row and make new interlacements
    let last_layer &#x3D; layer_maps.weft[i][0];
   
    weft_vtxs &#x3D; addWeftInterlacement(draft, i, 0, last_layer, diam, sim, weft_vtxs).slice();
    indexs_added.push(0);

    for(let j &#x3D; 1; j &lt; warps(draft.drawdown); j++){

       if(layer_maps.warp[i][j]&#x3D;&#x3D;layer_maps.weft[i][j]){
        let layer_id:number &#x3D; layer_maps.weft[i][j];        
        weft_vtxs &#x3D; addWeftInterlacement(draft, i, j, layer_id, diam, sim, weft_vtxs).slice();
      }

    }

    return weft_vtxs;

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a list of weft interlacements it converts</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="radiateInterlacementForce"></a>
                    <span class="name">
                        <span ><b>radiateInterlacementForce</b></span>
                        <a href="#radiateInterlacementForce"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(weft: Array&lt;YarnVertex&gt;, deflections: Array&lt;Deflection&gt;, x: number, i: number, strength: number, max_displacement, simvars: SimulationVars) : Array&lt;Deflection&gt; &#x3D;&gt; {

      let in_range &#x3D; weft.map((el, ndx) &#x3D;&gt; {
       if(el.x &gt;&#x3D; x - simvars.radius &amp;&amp; el.x &lt;&#x3D; x + simvars.radius) return ndx;
       else return -1;
      });

      in_range.filter(el &#x3D;&gt; el !&#x3D;&#x3D; -1).forEach(ndx &#x3D;&gt; {
        deflections[ndx].dy +&#x3D; strength * max_displacement;
        if(deflections[ndx].dy &gt; max_displacement) deflections[ndx].dy &#x3D; max_displacement;
      })

      return deflections;

    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>an interlacement pushes two wefts away from eachother by an amount that depends on the sett, yarn thickness, and strength of the interlacement. This funciton radiates, and dissapates that force along the weft to ensure a smooth gradual change in position that is never out of range</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reduceInterlacement"></a>
                    <span class="name">
                        <span ><b>reduceInterlacement</b></span>
                        <a href="#reduceInterlacement"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(vtx: TopologyVtx, tuples: Array&lt;WarpInterlacementTuple&gt;, count: number) : TopologyVtx &#x3D;&gt; {

    if(vtx.j_right - vtx.j_left &lt;&#x3D; 1) return null;


      let inner_tuples &#x3D; getTuplesWithinRange(tuples, {j_left: vtx.j_left, j_right: vtx.j_right});
      let right_side_orientation &#x3D; !vtx.orientation;

      //get the closest interlacment ot the right side
      let closest &#x3D; inner_tuples.reduce((acc, val, ndx) &#x3D;&gt; {
        if(val.orientation !&#x3D;&#x3D; right_side_orientation &amp;&amp;  vtx.j_right - val.j &lt; acc.dist ) return {ndx, dist:  vtx.j_right - val.j}
        return acc;
      },{ndx: -1, dist: vtx.j_right - vtx.j_left});


      //this was irreducible
      if(closest.dist &#x3D;&#x3D; vtx.j_right - vtx.j_left || closest.dist &#x3D;&#x3D; 0) return null;
      
      let new_vtx:TopologyVtx &#x3D; {
        id: vtx.i_bot+&quot;.&quot;+vtx.i_top+&quot;.&quot;+vtx.j_left+&quot;.&quot;+vtx.j_right+&quot;.&quot;+vtx.z_pos,
        i_bot: vtx.i_bot, 
        i_top: vtx.i_top,
        j_left: inner_tuples[closest.ndx].j,
        j_right: vtx.j_right,
        z_pos: count,
        orientation: vtx.orientation
      }

      return new_vtx;


  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setBaselineYForWeft"></a>
                    <span class="name">
                        <span ><b>setBaselineYForWeft</b></span>
                        <a href="#setBaselineYForWeft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(i: number, weft: Array&lt;YarnVertex&gt;, layer_maps: LayerMaps, draft: Draft, prior_wefts:Array&lt;Array&lt;YarnVertex&gt;&gt;, sim: SimulationVars) : Array&lt;YarnVertex&gt; &#x3D;&gt; {
        let updated_weft &#x3D; [];
        let weft_diam &#x3D; sim.ms.getDiameter(draft.rowShuttleMapping[i]);

        //find the y value of the same layer
        weft.forEach((vtx) &#x3D;&gt; {

          let this_layer &#x3D; layer_maps.weft[vtx.i][vtx.j];
          let layer_ndx_map &#x3D; layer_maps.weft
          .filter((el, ndx) &#x3D;&gt; ndx &lt; i)
          .map(el &#x3D;&gt; el[vtx.j])
          .map( (el, ndx) &#x3D;&gt; {return {layer: el, i: ndx, j: vtx.j}});

        let prev_wefts_on_layer &#x3D; layer_ndx_map.filter(el &#x3D;&gt; el.layer &#x3D;&#x3D; this_layer);
        let prev_weft &#x3D; null;
        let layer_y &#x3D; {y: 0, i: -1};
        
        
        if(prev_wefts_on_layer.length &gt; 0){
          prev_weft &#x3D; prev_wefts_on_layer.slice().pop();
          let prev_weft_vtx &#x3D; prior_wefts[prev_weft.i].find(el &#x3D;&gt; el.j &#x3D;&#x3D; vtx.j);
          if(prev_weft_vtx !&#x3D;&#x3D; undefined)
          layer_y &#x3D; {y:prev_weft_vtx.y, i: prev_weft.i};
        }

        //compare the last layer y to the highest y in the set
       // let non_layer_map &#x3D; layer_ndx_map.filter(el &#x3D;&gt; el.layer !&#x3D;&#x3D; this_layer);
        let non_layer_map &#x3D; layer_ndx_map;
        let max_y &#x3D; non_layer_map.reduce((acc, el) &#x3D;&gt; {
          let max_in_weft &#x3D; prior_wefts[el.i].reduce((subacc, vtx) &#x3D;&gt; {
            if(vtx.y &gt; subacc) return vtx.y;
            return subacc;
          }, 0);

          if(max_in_weft &gt;&#x3D; acc.y) return {y: max_in_weft, i: el.i};
          return acc;
        }, {y: 0, i: -1});

        let use_y &#x3D; 0;

        if(max_y.i !&#x3D;&#x3D; -1 || (max_y.i &#x3D;&#x3D; -1 &amp;&amp; non_layer_map.length &#x3D;&#x3D; 0)){
          //if the layer_y is within acceptable distance from max
          let diff &#x3D; (max_y.y + sim.ms.getDiameter(draft.rowShuttleMapping[max_y.i])/2)  - (layer_y.y + weft_diam/2);
          if(layer_y.i &#x3D;&#x3D; -1 || diff &gt; weft_diam){
            use_y &#x3D; max_y.y + sim.ms.getDiameter(draft.rowShuttleMapping[max_y.i])/2 - weft_diam;
          } 
          else{
            //make sure the new y isn&#x27;t too far away
            if(Math.ceil(max_y.y - layer_y.y) &gt;&#x3D; weft_diam) {
              layer_y.y &#x3D; max_y.y - weft_diam; 
            }

            use_y &#x3D; layer_y.y + sim.ms.getDiameter(draft.rowShuttleMapping[layer_y.i])/2 + weft_diam/2;

          } 

        }

       //TECHNICALLY - WE SHOULD UPDATE WARP VTXS TOO!
        updated_weft.push({
          x: vtx.x,
          y: use_y, 
          z: vtx.z,
          i: vtx.i,
          j: vtx.j
        })
    })

    return updated_weft;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setLayerZ"></a>
                    <span class="name">
                        <span ><b>setLayerZ</b></span>
                        <a href="#setLayerZ"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(ilace_list: Array&lt;WarpInterlacementTuple&gt;, count: number, layer_spacing: number, warp_vtxs: Array&lt;Array&lt;YarnVertex&gt;&gt;) :  Array&lt;Array&lt;YarnVertex&gt;&gt; &#x3D;&gt; {
      // if(count &#x3D;&#x3D; 0) console.log(&quot;------COUNT 0 &quot;, ilace_list);

    ilace_list.forEach(ilace &#x3D;&gt; {

      //warp_vtxs[ilace.i_top][ilace.j].y &#x3D; warp_vtxs[ilace.i_bot][ilace.j].y + 1;

      for(let i &#x3D; ilace.i_bot; i &lt;&#x3D; ilace.i_top; i++){
        // console.log(&quot;writing to &quot;, i, ilace.j, count);
        warp_vtxs[i][ilace.j].z &#x3D; count*layer_spacing;
      }
    });

    return warp_vtxs;

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sortInterlacementsOnWarp"></a>
                    <span class="name">
                        <span ><b>sortInterlacementsOnWarp</b></span>
                        <a href="#sortInterlacementsOnWarp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(ilaces: Array&lt;TopologyVtx&gt;) : Array&lt;TopologyVtx&gt; &#x3D;&gt; {

    let unsorted &#x3D; ilaces.slice();
    let sorted &#x3D; [];

    while(unsorted.length &gt; 1 ){
    let bottommost &#x3D; unsorted.reduce((acc, ilace, ndx) &#x3D;&gt; {
      if(ilace.i_bot &lt; acc.val) return {ndx: ndx, val: ilace.i_bot};
      return acc;
    }, {ndx: -1, val: 100000000});

    let arr_removed &#x3D; unsorted.splice(bottommost.ndx, 1);
    sorted.push(arr_removed[0]);

    }

    sorted &#x3D; sorted.concat(unsorted);
    return sorted;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sortInterlacementsOnWeft"></a>
                    <span class="name">
                        <span ><b>sortInterlacementsOnWeft</b></span>
                        <a href="#sortInterlacementsOnWeft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(ilaces: Array&lt;TopologyVtx&gt;) : Array&lt;TopologyVtx&gt; &#x3D;&gt; {

    let unsorted &#x3D; ilaces.slice();
    let sorted &#x3D; [];

    while(unsorted.length &gt; 1 ){
    let leftmost &#x3D; unsorted.reduce((acc, ilace, ndx) &#x3D;&gt; {
      if(ilace.j_left &lt; acc.val) return {ndx: ndx, val: ilace.j_left};
      return acc;
    }, {ndx: -1, val: 100000000});

    let arr_removed &#x3D; unsorted.splice(leftmost.ndx, 1);
    sorted.push(arr_removed[0]);

    }

    sorted &#x3D; sorted.concat(unsorted);
    return sorted;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="splitRangeByVerticies"></a>
                    <span class="name">
                        <span ><b>splitRangeByVerticies</b></span>
                        <a href="#splitRangeByVerticies"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(range:WarpRange, verticies: Array&lt;TopologyVtx&gt;) : Array&lt;WarpRange&gt; &#x3D;&gt; {

    let groups:Array&lt;WarpRange&gt; &#x3D; [];
    verticies &#x3D; sortInterlacementsOnWeft(verticies);

    if(verticies.length &#x3D;&#x3D; 0) return [range];


    for(let v &#x3D; 0; v &lt; verticies.length; v++){
      
      if(v &#x3D;&#x3D; 0){
        groups.push({
          j_left: range.j_left, 
          j_right: verticies[v].j_left
        })
      } 
      
      if( v &gt; 0 &amp;&amp; v &lt;&#x3D; verticies.length-1){
        groups.push({
          j_left: verticies[v-1].j_right, 
          j_right:  verticies[v].j_left
        })
      }

      if(v &#x3D;&#x3D; verticies.length -1){
        groups.push({
          j_left: verticies[v].j_right, 
          j_right: range.j_right
        })
      }

    }
    return groups;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>after you find a list of verticies between the two rows, you split the semgents of the row between the verticies</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="translateTopologyToPoints"></a>
                    <span class="name">
                        <span ><b>translateTopologyToPoints</b></span>
                        <a href="#translateTopologyToPoints"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft, topo: Array&lt;TopologyVtx&gt;, layer_maps: {warp: Array&lt;Array&lt;number&gt;&gt;, weft: Array&lt;Array&lt;number&gt;&gt;}, sim: SimulationVars) : Promise&lt;VertexMaps&gt;&#x3D;&gt; {

    let weft_vtx: Array&lt;Array&lt;YarnVertex&gt;&gt; &#x3D; [];
    let warp_vtx: Array&lt;Array&lt;YarnVertex&gt;&gt; &#x3D; [];



    for(let i &#x3D; 0; i &lt; wefts(draft.drawdown); i++){
      weft_vtx.push([]);
      let weft &#x3D; insertWeft(draft, [],  i, sim, layer_maps);
      let res &#x3D; packWeft(i, weft.slice(), topo, layer_maps, draft, weft_vtx, sim);
      weft_vtx[i] &#x3D; res.slice();

    } 

    for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
      warp_vtx.push([]);
      //get every interlacement involving this weft
      const ilaces&#x3D; topo.filter(el &#x3D;&gt; el.j_left &#x3D;&#x3D; j || el.j_right &#x3D;&#x3D; j);
      warp_vtx &#x3D; insertWarp(draft, ilaces, warp_vtx, weft_vtx,  j, sim, layer_maps.warp).slice();
    } 
   

    return Promise.resolve({warps: warp_vtx, wefts:weft_vtx});
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>converts a topology diagram to a list of vertexes to draw. It only draws key interlacements to the list</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateY"></a>
                    <span class="name">
                        <span ><b>updateY</b></span>
                        <a href="#updateY"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(interlacement_j: number, interlacement_y:number, cur: YarnVertex, mm_per_warp: number ) &#x3D;&gt; {

      //calc distance in mm. the closer to the interlacement, the stronger this vertex will be pulled twoards ilace_y
      let dist &#x3D; (interlacement_j-cur.j) * mm_per_warp;

      //use the function 1 / 2^x/2 to calucate the force. 
     // let displacement_factor &#x3D; 1 / Math.pow(2, dist/10);
      let displacement_factor &#x3D; 1;
      let y_dist &#x3D; interlacement_y - cur.y;

      let new_y &#x3D;  cur.y + (y_dist*displacement_factor);

      // console.log(&quot;DIST, DISP, YDIST, NEWY&quot;, dist, displacement_factor, y_dist, cur.y, new_y, interlacement_y);
      return new_y;

    
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this function calculates proximity to the place in which the interlacement crosses and then attracts the other interlacements towards it position as a function of their distance.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warpLayerValueInRange"></a>
                    <span class="name">
                        <span ><b>warpLayerValueInRange</b></span>
                        <a href="#warpLayerValueInRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(layer_map: Array&lt;Array&lt;number&gt;&gt;, val: number, i_min: number, i_max: number, j: number) : number &#x3D;&gt; {

      let adj_imin &#x3D;  Math.max(0, i_min);


      let warp:Array&lt;number&gt; &#x3D; layer_map.reduce((acc, val)&#x3D;&gt; {
        return acc.concat(val[j])
      }, []);

      let range &#x3D; warp
      .filter((el, ndx) &#x3D;&gt; ndx &gt; adj_imin &amp;&amp; ndx &lt; i_max)
  

      let has_value &#x3D; range.findIndex(el &#x3D;&gt; el &#x3D;&#x3D; val);
      if(has_value !&#x3D;&#x3D; -1) return  adj_imin+has_value;

      if(i_min &#x3D;&#x3D; 0) return 0;

      if(i_max &#x3D;&#x3D; layer_map.length-1) return layer_map.length-1;

      return -1;
     
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if there is a layer assigned to the input layer within a given warp range</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weftLayerValueInRange"></a>
                    <span class="name">
                        <span ><b>weftLayerValueInRange</b></span>
                        <a href="#weftLayerValueInRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(layer_map: Array&lt;Array&lt;number&gt;&gt;, val: number, j_min: number, j_max: number, i: number) : number &#x3D;&gt; {

    let range &#x3D; layer_map[i]
    .filter((el, ndx) &#x3D;&gt; ndx &gt; Math.max(0, j_min) &amp;&amp; ndx &lt; j_max)

    let has_value &#x3D; range.findIndex(el &#x3D;&gt; el &#x3D;&#x3D; val);
    if(has_value !&#x3D;&#x3D; -1) return has_value;

    if(j_min &#x3D;&#x3D; 0) return 0;

    if(j_max &#x3D;&#x3D; layer_map[0].length-1) return layer_map[0].length-1;

    return -1;
   
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if there is the indiciated value found along a warp within the specified range</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/combinatorics/combinatorics.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="all_possible_drafts"></a>
                    <span class="name">
                        <span ><b>all_possible_drafts</b></span>
                        <a href="#all_possible_drafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Array&lt;literal type&gt;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="combinatorics"></a>
                    <span class="name">
                        <span ><b>combinatorics</b></span>
                        <a href="#combinatorics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cur_set"></a>
                    <span class="name">
                        <span ><b>cur_set</b></span>
                        <a href="#cur_set"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{warps: 0, wefts: 0}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="download"></a>
                    <span class="name">
                        <span ><b>download</b></span>
                        <a href="#download"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;download all&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &#x27;&#x27;,
    truestate: &#x27;downloading&#x27;,
    value: 0,
    dx: &quot;when this is set to true, it will trigger download of an image of the whole set everytime it recomputes, this may result in multiple downloads&quot;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ends"></a>
                    <span class="name">
                        <span ><b>ends</b></span>
                        <a href="#ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;size&#x27;,
      type: &#x27;number&#x27;,
        min: 2,
        max: 4,
      value: 3,
      dx: &#x27;the size of the structure&#x27;
      }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    const selection: number &#x3D; getOpParamValById(1, param_vals);
    const size: number &#x3D; getOpParamValById(0, param_vals);

  return size+&#x27;x&#x27;+size+&#x27;-&#x27;+selection;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="min_interlacements"></a>
                    <span class="name">
                        <span ><b>min_interlacements</b></span>
                        <a href="#min_interlacements"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>1</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;combos&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[ends, selection, download]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const size: number &#x3D; getOpParamValById(0, param_vals);
      let selection: number &#x3D; getOpParamValById(1, param_vals);
      const download: number &#x3D; getOpParamValById(2, param_vals);

      //adjust by one to convert user input to the array index of the structure
      selection -&#x3D; 1;

      //for larger set sizes, you must split up the download into multiple files
      const divisor &#x3D; (size - 3 &gt; 0) ? Math.pow(2,(size-3)): 1;

      return getSet(size, size)
      .then(alldrafts &#x3D;&gt; { 

        if(download){

          for(let set_id &#x3D; 0; set_id &lt; divisor; set_id++){
            
            const cc &#x3D; 10;
            const set_data &#x3D; getDrafts(set_id, divisor);

            let b:HTMLCanvasElement &#x3D; &lt;HTMLCanvasElement&gt;document.createElement(&#x27;canvas&#x27;); 
            let context &#x3D; b.getContext(&#x27;2d&#x27;);
            b.width &#x3D; (cc*(size+5))*20;
            b.height &#x3D; Math.ceil(set_data.length  / 20)*((5+size)*cc);
            context.fillStyle &#x3D; &quot;white&quot;;
            context.fillRect(0,0,b.width,b.height);

            set_data.forEach((set, ndx) &#x3D;&gt; {
              
              const top &#x3D; Math.floor(ndx / 20) * (wefts(set.draft.drawdown)+5)*cc + 10;
              const left &#x3D; ndx % 20 * (warps(set.draft.drawdown)+5)*cc + 10; 
              
              context.font &#x3D; &quot;8px Arial&quot;;
              context.fillStyle &#x3D; &quot;#000000&quot;
              context.fillText((set.id+1).toString(),left, top-2,size*cc)
              context.strokeRect(left,top,size*cc,size*cc);

              for (let i &#x3D; 0; i &lt; wefts(set.draft.drawdown); i++) {
                for (let j &#x3D; 0; j &lt; warps(set.draft.drawdown); j++) {
                  drawCell(context, set.draft, cc, i, j, top, left);
                }
              }            
            })

            // console.log(&quot;b&quot;, b);
            const a &#x3D; document.createElement(&#x27;a&#x27;)
            a.href &#x3D; b.toDataURL(&quot;image/jpg&quot;)
            a.download &#x3D; &quot;allvalid_&quot;+size+&quot;x&quot;+size+&quot;_drafts_&quot;+set_id+&quot;.jpg&quot;;
            a.click();
          }

        }

        
        return Promise.resolve([getDraft(selection).draft]);

      })
      
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selection"></a>
                    <span class="name">
                        <span ><b>selection</b></span>
                        <a href="#selection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;selection&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 22874,
    value: 1,
    dx: &#x27;the id of the generated structure you would like to view&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/tabby/tabby.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="alt_pics"></a>
                    <span class="name">
                        <span ><b>alt_pics</b></span>
                        <a href="#alt_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;alt pics&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 1,
    dx: &#x27;the number of pics upon which the repeat the alteranting pattern&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="base_pics"></a>
                    <span class="name">
                        <span ><b>base_pics</b></span>
                        <a href="#base_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;base pics&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 1,
    dx: &#x27;the number of pics upon which the first tabby pic will be repeated&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;tabby&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;tabbyder&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;tabby&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[warps_raised, warps_lowered, base_pics, alt_pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const raised: number &#x3D; getOpParamValById(0, param_vals);
      const lowered: number &#x3D; getOpParamValById(1, param_vals);;
      const rep: number &#x3D; getOpParamValById(2, param_vals);
      const alt_rep: number &#x3D; getOpParamValById(3, param_vals);


      let first_row &#x3D; new Sequence.OneD();
      for(let j &#x3D; 0; j &lt; raised; j++){
        first_row.push(1);
      }

      for(let j &#x3D; 0; j &lt; lowered; j++){
        first_row.push(0);
      }


      let pattern &#x3D; new Sequence.TwoD();
      for(let i &#x3D; 0; i &lt; rep; i++){
        pattern.pushWeftSequence(first_row.val());
      }

      let inverted &#x3D;first_row.invert().val();

      for(let i &#x3D; 0; i &lt; alt_rep; i++){
        pattern.pushWeftSequence(inverted);
      }

      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tabby_der"></a>
                    <span class="name">
                        <span ><b>tabby_der</b></span>
                        <a href="#tabby_der"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warps_lowered"></a>
                    <span class="name">
                        <span ><b>warps_lowered</b></span>
                        <a href="#warps_lowered"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warps lowered&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 1,
    dx:&quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warps_raised"></a>
                    <span class="name">
                        <span ><b>warps_raised</b></span>
                        <a href="#warps_raised"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warps raised&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 1,
    dx: &quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/sawtooth/sawtooth.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="amplitude"></a>
                    <span class="name">
                        <span ><b>amplitude</b></span>
                        <a href="#amplitude"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pics&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 10000,
    value: 20,
    dx: &quot;the total number of pics for the saw path to move through&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;sawtooth&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;sawtooth&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[width, amplitude, segments]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const warpnum: number &#x3D; getOpParamValById(0, param_vals);
      const pics: number &#x3D; getOpParamValById(1, param_vals);
      const peaks: number &#x3D; getOpParamValById(2, param_vals);
    
    
      const run &#x3D; (warpnum/peaks);
      const slope &#x3D; pics /run;

    let pattern &#x3D; new Sequence.TwoD();
      for(let j &#x3D; 0; j &lt; warpnum; j++){
        let x &#x3D; j % Math.floor(run*2);
        let i &#x3D; Math.floor(slope * x);
        let seq &#x3D; new Sequence.OneD().pushMultiple(0, pics);

        if(i &lt; pics)  seq.set(i, 1);
        else seq.set((pics-1)-(i-pics), 1); 
        pattern.pushWarpSequence(seq.val())
      }

      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sawtooth"></a>
                    <span class="name">
                        <span ><b>sawtooth</b></span>
                        <a href="#sawtooth"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="segments"></a>
                    <span class="name">
                        <span ><b>segments</b></span>
                        <a href="#segments"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;segments&#x27;,
        type: &#x27;number&#x27;,
        min: 1,
        max: 10000,
        value: 1,
        dx: &quot;the total number of segments, each segment represents one half of the saw tooth&#x27;s path &quot;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="width"></a>
                    <span class="name">
                        <span ><b>width</b></span>
                        <a href="#width"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 10000,
    value: 100,
    dx: &quot;the total ends of the draft&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/sinewave/sineweave.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="amplitude"></a>
                    <span class="name">
                        <span ><b>amplitude</b></span>
                        <a href="#amplitude"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;amplitude&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 10000,
    value: 20,
    dx: &quot;the total number of pics for the sin wave to move through&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="freq"></a>
                    <span class="name">
                        <span ><b>freq</b></span>
                        <a href="#freq"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;frequency&#x27;,
        type: &#x27;number&#x27;,
        min: 1,
        max: 10000,
        value: 50,
        dx: &quot;controls number of waves to include &quot;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    const amp: number &#x3D; getOpParamValById(1, param_vals);
    const freq: number &#x3D; getOpParamValById(2, param_vals);
  return amp+&quot;/&quot;+freq+&#x27;sin&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;sine&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[width, amplitude, freq]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const width: number &#x3D; getOpParamValById(0, param_vals);
      const amp: number &#x3D; getOpParamValById(1, param_vals);
      const freq: number &#x3D; getOpParamValById(2, param_vals);


    let pattern &#x3D; new Sequence.TwoD();
      for(let j &#x3D; 0; j &lt; width; j++){
        let seq &#x3D; new Sequence.OneD().pushMultiple(0, amp);
        let i &#x3D; Math.floor((amp/2)*Math.sin(j * freq) + (amp/2));
        seq.set(i, 1);  
        pattern.pushWarpSequence(seq.val())
      }

      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sinewave"></a>
                    <span class="name">
                        <span ><b>sinewave</b></span>
                        <a href="#sinewave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="width"></a>
                    <span class="name">
                        <span ><b>width</b></span>
                        <a href="#width"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 10000,
    value: 100,
    dx: &quot;the total ends of the draft&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/rotate/rotate.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="amt"></a>
                    <span class="name">
                        <span ><b>amt</b></span>
                        <a href="#amt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#SelectParam" target="_self" >SelectParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
        name: &#x27;amount&#x27;,
        type: &#x27;select&#x27;,
        selectlist: [
        {name: &#x27;90&#x27;, value: 0},
        {name: &#x27;180&#x27;, value: 1},
        {name: &#x27;270&#x27;, value: 2},
        ],
        value: 0,
        dx: &#x27;corner to which this draft is rotated around 0 is top left, 1 top right, 2 bottom right, 3 bottom left&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to rotate&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;rotate(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;rotate&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[amt, rotate_materials]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let draft &#x3D; getInputDraft(op_inputs);
  const num_rots &#x3D; getOpParamValById(0, op_params);
  const rotate_mats &#x3D; (getOpParamValById(1, op_params) &#x3D;&#x3D;&#x3D; 0) ? false : true;

   if(draft &#x3D;&#x3D; null) return Promise.resolve([]);


   let seq &#x3D; new Sequence.TwoD();

   switch(num_rots){

    case 0:

    draft.drawdown.forEach((row, i) &#x3D;&gt; {
        let r &#x3D; new Sequence.OneD().import(row).reverse();
        seq.pushWarpSequence(r.val());

    });
    break;

    case 1:
    draft.drawdown.forEach((row, i) &#x3D;&gt; {
        let r &#x3D; new Sequence.OneD().import(row).reverse();
        seq.unshiftWeftSequence(r.val());
    })

    break;
    case 2:

    draft.drawdown.forEach((row, i) &#x3D;&gt; {
        let r &#x3D; new Sequence.OneD().import(row);
        seq.unshiftWarpSequence(r.val());
    })


    break;

   }

   let weft_materials &#x3D; new Sequence.OneD().import(draft.rowShuttleMapping);
   let weft_systems &#x3D; new Sequence.OneD().import(draft.rowSystemMapping);
   let warp_materials &#x3D; new Sequence.OneD().import(draft.colShuttleMapping);
   let warp_systems &#x3D; new Sequence.OneD().import(draft.colSystemMapping);

   const d &#x3D; initDraftFromDrawdown(seq.export());

   if(rotate_mats){
    switch(num_rots){

        case 0:

        d.rowShuttleMapping &#x3D;  warp_materials.reverse().val();
        d.rowSystemMapping &#x3D;  warp_systems.reverse().val();
        d.colShuttleMapping &#x3D; weft_materials.val();
        d.colSystemMapping &#x3D; weft_systems.val();


        break;

        case 1:
        d.rowShuttleMapping &#x3D;  weft_materials.reverse().val();
        d.rowSystemMapping &#x3D;  weft_systems.reverse().val();
        d.colShuttleMapping &#x3D; warp_materials.reverse().val();
        d.colSystemMapping &#x3D; warp_systems.reverse().val();


        break;
        case 2:

        d.rowShuttleMapping &#x3D;  warp_materials.val();
        d.rowSystemMapping &#x3D;  warp_systems.val();
        d.colShuttleMapping &#x3D; weft_materials.reverse().val();
        d.colSystemMapping &#x3D; weft_systems.reverse().val();



        break;

     }
    }else{

        d.rowShuttleMapping &#x3D;  weft_materials.resize(wefts(d.drawdown)).val();
        d.rowSystemMapping &#x3D;  weft_systems.resize(wefts(d.drawdown)).val();
        d.colShuttleMapping &#x3D; warp_materials.resize(warps(d.drawdown)).val();
        d.colSystemMapping &#x3D; warp_systems.resize(warps(d.drawdown)).val();
       
    }




   return Promise.resolve([d]);
 

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="rotate"></a>
                    <span class="name">
                        <span ><b>rotate</b></span>
                        <a href="#rotate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="rotate_materials"></a>
                    <span class="name">
                        <span ><b>rotate_materials</b></span>
                        <a href="#rotate_materials"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
        name: &#x27;materials?&#x27;,
        type: &#x27;boolean&#x27;,
        falsestate: &#x27;no, don\&#x27;t rotate materials&#x27;,
        truestate: &#x27;yes, rotate materials&#x27;,
        value: 1, 
        dx: &#x27;if your draft has materials assigned, you can choose wether you want to rotate the draft or the materials only&#x27;

      }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/shiftx/shiftx.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="amt"></a>
                    <span class="name">
                        <span ><b>amt</b></span>
                        <a href="#amt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;amount&#x27;,
      type: &#x27;number&#x27;,
      min: 1,
      max: 100,
      value: 1,
      dx: &#x27;the amount of warps to shift by&#x27;
      }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
      type: &#x27;static&#x27;,
      value: null,
      dx: &#x27;the draft to shift&#x27;,
      uses: &quot;draft&quot;,
      num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let amt &#x3D; getOpParamValById(0, param_vals);
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;shift&#x27;+amt+&#x27;(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;shift left&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[amt]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let amt &#x3D; getOpParamValById(0, op_params);

   if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let pattern &#x3D; new Sequence.TwoD();

  input_draft.drawdown.forEach(row &#x3D;&gt; {
    let seq &#x3D; new Sequence.OneD().import(row).shift(-amt).val();
    pattern.pushWeftSequence(seq);
  })

  let d &#x3D; initDraftFromDrawdown(pattern.export());
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shiftx"></a>
                    <span class="name">
                        <span ><b>shiftx</b></span>
                        <a href="#shiftx"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/shifty/shifty.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="amt"></a>
                    <span class="name">
                        <span ><b>amt</b></span>
                        <a href="#amt"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;amount&#x27;,
      type: &#x27;number&#x27;,
      min: 1,
      max: 100,
      value: 1,
      dx: &#x27;the amount of wefts to shift by&#x27;
      }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to shift&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let amt &#x3D; getOpParamValById(0, param_vals);
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;shifty&#x27;+amt+&#x27;(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;shift up&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[amt]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let amt &#x3D; getOpParamValById(0, op_params);

   if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let pattern &#x3D; new Sequence.TwoD();

  for(let j &#x3D; 0; j &lt; warps(input_draft.drawdown); j++){
    const col &#x3D; getCol(input_draft.drawdown, j);
    let seq &#x3D; new Sequence.OneD().import(col).shift(-amt).val();
    pattern.pushWarpSequence(seq);

  }
  let d &#x3D; initDraftFromDrawdown(pattern.export());
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shifty"></a>
                    <span class="name">
                        <span ><b>shifty</b></span>
                        <a href="#shifty"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/shift/shift.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="amt_x"></a>
                    <span class="name">
                        <span ><b>amt_x</b></span>
                        <a href="#amt_x"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warps&#x27;,
      type: &#x27;number&#x27;,
      min: 1,
      max: 100,
      value: 1,
      dx: &#x27;the amount of warps to shift by&#x27;
      }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="amt_y"></a>
                    <span class="name">
                        <span ><b>amt_y</b></span>
                        <a href="#amt_y"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;wefts&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 100,
    value: 1,
    dx: &#x27;the amount of wefts to shift by&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
      type: &#x27;static&#x27;,
      value: null,
      dx: &#x27;the draft to shift&#x27;,
      uses: &quot;draft&quot;,
      num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let amt_x &#x3D; getOpParamValById(0, param_vals);
  let amt_y &#x3D; getOpParamValById(1, param_vals);
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;shift&#x27;+amt_x+&#x27;/&#x27;+amt_y+&#x27;(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;shift&quot;</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>this will be the default function going forward, as the others will be removed.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[amt_x, amt_y]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let amt_x &#x3D; getOpParamValById(0, op_params);
  let amt_y &#x3D; getOpParamValById(1, op_params);

   if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

   let warp_systems &#x3D; new Sequence.OneD(input_draft.colSystemMapping).shift(-amt_x);

   let warp_mats &#x3D; new Sequence.OneD(input_draft.colShuttleMapping).shift(-amt_x);

   let weft_systems &#x3D; new Sequence.OneD(input_draft.rowSystemMapping).shift(-amt_y);

   let weft_materials &#x3D; new Sequence.OneD(input_draft.rowShuttleMapping).shift(-amt_y);


  let pattern &#x3D; new Sequence.TwoD();

  input_draft.drawdown.forEach(row &#x3D;&gt; {
    let seq &#x3D; new Sequence.OneD().import(row).shift(-amt_x).val();
    pattern.pushWeftSequence(seq);
  })

  let next_pattern &#x3D; new Sequence.TwoD();

  for(let j  &#x3D;0; j &lt; warps(input_draft.drawdown);j++){
    let col &#x3D; pattern.getWarp(j);
    let seq &#x3D; new Sequence.OneD().import(col).shift(-amt_y);
    next_pattern.pushWarpSequence(seq.val());
  }

  let d &#x3D; initDraftFromDrawdown(next_pattern.export());
  d.colShuttleMapping &#x3D; warp_mats.val();
  d.colSystemMapping &#x3D; warp_systems.val();
  d.rowShuttleMapping &#x3D; weft_materials.val();
  d.rowSystemMapping &#x3D; weft_systems.val();



  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift"></a>
                    <span class="name">
                        <span ><b>shift</b></span>
                        <a href="#shift"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/applymaterialsandsystems/applymaterialsandsystems.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="apply_mats"></a>
                    <span class="name">
                        <span ><b>apply_mats</b></span>
                        <a href="#apply_mats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft"></a>
                    <span class="name">
                        <span ><b>draft</b></span>
                        <a href="#draft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &#x27;draft&#x27;,
    dx: &#x27;the draft to which you would like to apply materials&#x27;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let r &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(r);
  return name_list;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft, materials]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="materials"></a>
                    <span class="name">
                        <span ><b>materials</b></span>
                        <a href="#materials"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;systems &amp; materials&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &#x27;warp-and-weft-data&#x27;,
    dx: &#x27;a draft which has the materials and systems you would like to repeat across the pics and ends of the resulting draft&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;apply materials&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[shift_warp_mat, shift_weft_mats, shift_warp_systems, shift_weft_systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {

    const base_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    const materials_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 1);

    const weft_mat_shift &#x3D; getOpParamValById(0, op_params);
    const warp_mat_shift &#x3D; getOpParamValById(1, op_params);
    const warp_sys_shift &#x3D; getOpParamValById(2, op_params);
    const weft_sys_shift &#x3D; getOpParamValById(3, op_params);


    if(base_drafts.length &#x3D;&#x3D; 0 &amp;&amp; materials_drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);


    let active_draft &#x3D; (base_drafts.length &gt; 0) ?base_drafts[0] : initDraftWithParams({warps: 1, wefts: 1});

    let materials_draft &#x3D; (materials_drafts.length &gt; 0) ?materials_drafts[0] : initDraftWithParams({warps: 1, wefts: 1});
    

    let width &#x3D; warps(active_draft.drawdown);
    let height &#x3D; wefts(active_draft.drawdown);

    let warp_systems &#x3D; new Sequence.OneD(materials_draft.colSystemMapping).resize(width).shift(warp_sys_shift);

    let warp_mats &#x3D; new Sequence.OneD(materials_draft.colShuttleMapping).resize(width).shift(warp_mat_shift);

    let weft_systems &#x3D; new Sequence.OneD(materials_draft.rowSystemMapping).resize(height).shift(weft_sys_shift);

    let weft_materials &#x3D; new Sequence.OneD(materials_draft.rowShuttleMapping).resize(height).shift(weft_mat_shift);

    
    let d &#x3D; copyDraft(active_draft);
    d.colShuttleMapping &#x3D; warp_mats.val();
    d.colSystemMapping &#x3D; warp_systems.val();
    d.rowShuttleMapping &#x3D; weft_materials.val();
    d.rowSystemMapping &#x3D; weft_systems.val();



    return Promise.resolve([d]);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_warp_mat"></a>
                    <span class="name">
                        <span ><b>shift_warp_mat</b></span>
                        <a href="#shift_warp_mat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warp colors shift&#x27;,
min: 0,
max: 10000,
value: 0,
type: &#x27;number&#x27;,
dx: &#x27;number of ends by which to shift the warp color pattern&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_warp_systems"></a>
                    <span class="name">
                        <span ><b>shift_warp_systems</b></span>
                        <a href="#shift_warp_systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warp system shift&#x27;,
min: 0,
max: 10000,
value: 0,
type: &#x27;number&#x27;,
dx: &#x27;number of ends by which to shift the warp system order&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_weft_mats"></a>
                    <span class="name">
                        <span ><b>shift_weft_mats</b></span>
                        <a href="#shift_weft_mats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;warp colors shift&#x27;,
      min: 0,
      max: 10000,
      value: 0,
      type: &#x27;number&#x27;,
      dx: &#x27;number of pics by which to shift the weft color pattern&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_weft_systems"></a>
                    <span class="name">
                        <span ><b>shift_weft_systems</b></span>
                        <a href="#shift_weft_systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;weft system shift&#x27;,
min: 0,
max: 10000,
value: 0,
type: &#x27;number&#x27;,
dx: &#x27;number of pics by which to shift the weft system order&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/drafts.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="applyMask"></a>
                    <span class="name">
                        <span ><b>applyMask</b></span>
                        <a href="#applyMask"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(mask: Drawdown, pattern: Drawdown) : Drawdown &#x3D;&gt;  {
    
    const res &#x3D; createBlankDrawdown(wefts(mask), warps(mask));
    for(let i &#x3D; 0; i &lt; wefts(mask); i++){
      for(let j &#x3D; 0; j &lt; warps(mask); j++){
        if(getCellValue(mask[i][j])){
          const set_to &#x3D; getCellValue(pattern[i%wefts(pattern)][j%warps(pattern)]);
          res[i][j] &#x3D; createCell(set_to);
        }
        
      }
    } 
    return res;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>applys a pattern only to regions where the input draft has true heddles</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="copyDraft"></a>
                    <span class="name">
                        <span ><b>copyDraft</b></span>
                        <a href="#copyDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Draft) : Draft &#x3D;&gt; {

  const copy_draft &#x3D; initDraftWithParams({
    id: d.id,
    ud_name: d.ud_name,
    gen_name: d.gen_name,
    warps: warps(d.drawdown),
    wefts: wefts(d.drawdown),
    drawdown: d.drawdown,
    rowShuttleMapping: d.rowShuttleMapping,
    rowSystemMapping: d.rowSystemMapping,
    colShuttleMapping: d.colShuttleMapping,
    colSystemMapping: d.colSystemMapping
  });
  return copy_draft;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>generates a deep copy of the input draft</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createBlankDrawdown"></a>
                    <span class="name">
                        <span ><b>createBlankDrawdown</b></span>
                        <a href="#createBlankDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(wefts: number, warps: number) : Drawdown &#x3D;&gt; {
    const drawdown: Drawdown &#x3D; [];
    for(let i &#x3D; 0; i &lt; wefts; i++){
      drawdown.push([]);
      for(let j &#x3D; 0; j &lt; warps; j++){
        drawdown[i].push(createCell(false));
      }
    } 
    return drawdown;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>creates an empty drawdown of a given size</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createDraft"></a>
                    <span class="name">
                        <span ><b>createDraft</b></span>
                        <a href="#createDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(
  pattern: Drawdown,
  gen_name: string,
  ud_name: string,
  rowShuttleMapping: Array&lt;any&gt;,
  rowSystemMapping: Array&lt;any&gt;,
  colShuttleMapping: Array&lt;any&gt;,
  colSystemMapping: Array&lt;any&gt;
  ) : Draft &#x3D;&gt; {

    const d: Draft &#x3D; {
      id: utilInstance.generateId(8),
      drawdown: pattern.slice(),
      gen_name: gen_name,
      ud_name: ud_name, 
      rowShuttleMapping: rowShuttleMapping.slice(),
      rowSystemMapping: rowSystemMapping.slice(),
      colShuttleMapping: colShuttleMapping.slice(),
      colSystemMapping: colSystemMapping.slice(),
    }

    return d;

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>generates a new draft from the paramters specified.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteDrawdownCol"></a>
                    <span class="name">
                        <span ><b>deleteDrawdownCol</b></span>
                        <a href="#deleteDrawdownCol"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, j: number) : Drawdown &#x3D;&gt; {

    for(var ndx &#x3D; 0; ndx &lt; wefts(d); ndx++){
      d[ndx].splice(j, 1);
    }
    return d;

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>delete a column from the drawdown at a given location</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteDrawdownRow"></a>
                    <span class="name">
                        <span ><b>deleteDrawdownRow</b></span>
                        <a href="#deleteDrawdownRow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d:Drawdown, i: number) : Drawdown &#x3D;&gt; {
      try{
        d.splice(i, 1);
      }catch(e){
        console.error(e);
      }
      return d;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>deletes a row from the drawdown at the specified weft location</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteMappingCol"></a>
                    <span class="name">
                        <span ><b>deleteMappingCol</b></span>
                        <a href="#deleteMappingCol"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(m: Array&lt;number&gt;, j: number) : Array&lt;number&gt; &#x3D;&gt; {
    m.splice(j, 1);
    return m;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>deletes a value into the col system/shuttle mapping at a particular location</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteMappingRow"></a>
                    <span class="name">
                        <span ><b>deleteMappingRow</b></span>
                        <a href="#deleteMappingRow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(m:Array&lt;number&gt;, i: number) : Array&lt;number&gt; &#x3D;&gt; {
    try{
      m.splice(i, 1);
    }catch(e){
      console.error(e);
    }
    return m;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>deletes a row from a row system/shuttle mapping at the specified weft location</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipDraft"></a>
                    <span class="name">
                        <span ><b>flipDraft</b></span>
                        <a href="#flipDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Draft, horiz: boolean, vert: boolean) : Promise&lt;Draft&gt; &#x3D;&gt; {

  const draft &#x3D; initDraftWithParams(
    {id: d.id, 
    wefts: wefts(d.drawdown),
    warps: warps(d.drawdown),
    gen_name: d.gen_name,
    ud_name: d.ud_name,
    colShuttleMapping: d.colShuttleMapping,
    colSystemMapping: d.colSystemMapping});
    draft.drawdown &#x3D; createBlankDrawdown(wefts(d.drawdown), warps(d.drawdown));

  for(let i &#x3D; 0; i &lt; wefts(d.drawdown); i++){
    let flipped_i &#x3D; i;
    if(vert) flipped_i &#x3D; wefts(d.drawdown) -1 -i;
    for(let j &#x3D; 0; j &lt; warps(d.drawdown); j++){
      let flipped_j &#x3D; j;
      if(horiz) flipped_j &#x3D; warps(d.drawdown) -1 -j;
      draft.drawdown[i][j] &#x3D; createCell(getCellValue(d.drawdown[flipped_i][flipped_j])); 
    }

    draft.rowShuttleMapping[i] &#x3D; d.rowShuttleMapping[flipped_i];
    draft.rowSystemMapping[i] &#x3D; d.rowSystemMapping[flipped_i];
   }

   if(horiz){
    
    for(let j &#x3D; 0; j &lt; warps(d.drawdown); j++){
      let flipped_j &#x3D; warps(d.drawdown) -1 -j;
      draft.colShuttleMapping[j] &#x3D; d.colShuttleMapping[flipped_j];
      draft.colSystemMapping[j] &#x3D; d.colSystemMapping[flipped_j];
    }
  }


  return Promise.resolve(draft);
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>takes a draft as input, and flips the order of the rows
used to ensure mixer calculations are oriented from bottom left</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipDrawdown"></a>
                    <span class="name">
                        <span ><b>flipDrawdown</b></span>
                        <a href="#flipDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(drawdown: Drawdown, horiz: boolean) : Drawdown &#x3D;&gt;  {

    const flip &#x3D; createBlankDrawdown(wefts(drawdown), warps(drawdown));
    for(let i &#x3D; 0; i &lt; wefts(drawdown); i++){
      for(let j &#x3D; 0; j &lt; warps(drawdown); j++){
          let set_to &#x3D; false;
          if(horiz)  set_to &#x3D; getCellValue(drawdown[i][warps(drawdown)-1-j]);
          else set_to &#x3D; getCellValue(drawdown[wefts(drawdown)-1 - i][j]);
          flip[i][j] &#x3D; createCell(set_to);
      }
    } 
    return flip;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>flips the drawdown horizontally or vertically. This is different than flip draft because it only 
flippes teh drawdown, not any other associated information</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateMappingFromPattern"></a>
                    <span class="name">
                        <span ><b>generateMappingFromPattern</b></span>
                        <a href="#generateMappingFromPattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(drawdown: Drawdown, pattern: Array&lt;number&gt;, type: string, origin: number) : Array&lt;any&gt; &#x3D;&gt; {

    const mapping: Array&lt;number&gt; &#x3D; [];
    if(type &#x3D;&#x3D; &#x27;row&#x27;){

        if(origin &#x3D;&#x3D; 1 || origin &#x3D;&#x3D; 2) pattern &#x3D; pattern.slice().reverse();

        for(let i &#x3D; 0; i &lt; wefts(drawdown); i++){
          mapping.push(pattern[i%pattern.length]);
        }

    }else{

        if(origin &#x3D;&#x3D; 0 || origin &#x3D;&#x3D; 1) pattern &#x3D; pattern.slice().reverse();

        for(let j &#x3D; 0; j &lt; warps(drawdown); j++){
          mapping.push(pattern[j%pattern.length]);
        }
      
    }

    return mapping.slice();
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>generates a system or shuttle mapping from an input pattern based on the input draft</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCol"></a>
                    <span class="name">
                        <span ><b>getCol</b></span>
                        <a href="#getCol"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, j: number) : Array&lt;Cell&gt; &#x3D;&gt; {

    const col &#x3D; d.reduce((acc, val, i) &#x3D;&gt;{
      const cell &#x3D; createCell(getCellValue(d[i][j]));
      acc.push(cell);
      return acc;
    }, []);

    return col;

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDraftName"></a>
                    <span class="name">
                        <span ><b>getDraftName</b></span>
                        <a href="#getDraftName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(draft: Draft) : string &#x3D;&gt; {
  if(draft &#x3D;&#x3D;&#x3D; null || draft &#x3D;&#x3D;&#x3D; undefined) return &quot;&quot;; 
  if(draft.ud_name &#x3D;&#x3D; undefined){
    if(draft.gen_name &#x3D;&#x3D; undefined) return &#x27;&#x27;;
    else return draft.gen_name;
  }  

  if(draft.gen_name &#x3D;&#x3D; undefined){
    if(draft.ud_name &#x3D;&#x3D; undefined) return &#x27;&#x27;;
    else return draft.ud_name;
  }

  return (draft.ud_name &#x3D;&#x3D;&#x3D; &quot;&quot;) ?  draft.gen_name : draft.ud_name; 
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>gets the name of the draft. If it has a user defined name, it returns that, otherwise, it returns the generated name</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getHeddle"></a>
                    <span class="name">
                        <span ><b>getHeddle</b></span>
                        <a href="#getHeddle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, i: number, j: number) : boolean &#x3D;&gt; {
    if(i &gt; wefts(d) || j &gt; warps(d)) return null;
    return getCellValue(d[i][j]);
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>get the value of the heddle at a given location</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasCell"></a>
                    <span class="name">
                        <span ><b>hasCell</b></span>
                        <a href="#hasCell"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, i:number, j:number) : boolean &#x3D;&gt;{
    if(i &lt; 0 || i &gt;&#x3D; wefts(d)) return false;
    if(j &lt; 0 || j &gt;&#x3D; warps(d)) return false;
    return true;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>check if the giver interlacement within the size of the draft</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initDraft"></a>
                    <span class="name">
                        <span ><b>initDraft</b></span>
                        <a href="#initDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>() : Draft &#x3D;&gt; {
  const d: Draft &#x3D; {
    id: utilInstance.generateId(8),
    gen_name: defaults.draft_name,
    ud_name: &quot;&quot;,
    drawdown: [],
    rowShuttleMapping: [],
    rowSystemMapping: [],
    colShuttleMapping: [],
    colSystemMapping: []

  };
  return d;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>generates an empty draft with a unique id</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initDraftFromDrawdown"></a>
                    <span class="name">
                        <span ><b>initDraftFromDrawdown</b></span>
                        <a href="#initDraftFromDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(drawdown:Drawdown) : Draft &#x3D;&gt; {
  const d: Draft &#x3D; {
    id: utilInstance.generateId(8),
    gen_name: defaults.draft_name,
    ud_name: &quot;&quot;,
    drawdown: [],
    rowShuttleMapping: [],
    rowSystemMapping: [],
    colShuttleMapping: [],
    colSystemMapping: []
  };

 
    drawdown.forEach((row, i) &#x3D;&gt; {
      d.drawdown.push([]);
      row.forEach((cell, j) &#x3D;&gt; {
      d.drawdown[i][j] &#x3D; setCellValue(cell, getCellValue(drawdown[i][j]));
      })
    })

    for(let i &#x3D; 0; i &lt; wefts(d.drawdown); i++){
      d.rowShuttleMapping[i] &#x3D; defaults.row_shuttle;
      d.rowSystemMapping[i] &#x3D; defaults.row_system;
    }

    for(let j &#x3D; 0; j &lt; warps(d.drawdown); j++){
      d.colShuttleMapping[j] &#x3D; defaults.col_shuttle;
      d.colSystemMapping[j] &#x3D; defaults.col_system;
    }

    
  

  return d;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>creates a draft using only information from a drawdown (no system or column information)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initDraftWithParams"></a>
                    <span class="name">
                        <span ><b>initDraftWithParams</b></span>
                        <a href="#initDraftWithParams"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(params:any) : Draft &#x3D;&gt; {
  const d: Draft &#x3D; {
    id: utilInstance.generateId(8),
    gen_name: defaults.draft_name,
    ud_name: &quot;&quot;,
    drawdown: [],
    rowShuttleMapping: [],
    rowSystemMapping: [],
    colShuttleMapping: [],
    colSystemMapping: []

  };


  if(params.id !&#x3D;&#x3D; undefined ) d.id &#x3D; params.id;
  if(params.gen_name !&#x3D;&#x3D; undefined ) d.gen_name &#x3D; params.gen_name;
  if(params.ud_name !&#x3D;&#x3D; undefined ) d.ud_name &#x3D; params.ud_name;
 
  //handle common error
  if(params.pattern !&#x3D;&#x3D; undefined) params.drawdown &#x3D; params.pattern;
  //start with empty draft 

  if(params.wefts &#x3D;&#x3D;&#x3D; undefined ){
    if(params.drawdown &#x3D;&#x3D; undefined) params.wefts &#x3D; 1;
    else params.wefts &#x3D; wefts(params.drawdown);
  }

  if(params.warps &#x3D;&#x3D;&#x3D; undefined){
    if(params.drawdown &#x3D;&#x3D; undefined)  params.warps &#x3D; 1;
    else params.warps &#x3D; warps(params.drawdown);
  } 
 
  for(let i &#x3D; 0; i &lt; params.wefts; i++){
    d.drawdown.push([]);
    d.rowSystemMapping.push(defaults.row_system);
    d.rowShuttleMapping.push(defaults.row_shuttle);
    for(let j &#x3D; 0; j &lt; params.warps; j++){
      d.drawdown[i][j] &#x3D;  createCell(false);
    }
  }

  for(let j &#x3D; 0; j &lt; params.warps; j++){
    d.colSystemMapping.push(defaults.col_system);
    d.colShuttleMapping.push(defaults.col_shuttle);
  }

  if(params.drawdown !&#x3D;&#x3D; undefined){
    d.drawdown.forEach((row, i) &#x3D;&gt; {
      row.forEach((cell, j) &#x3D;&gt; {
      cell &#x3D; setCellValue(cell, getCellValue(params.drawdown[i%wefts(params.drawdown)][j%warps(params.drawdown)]));


      })
    })
  }

  if(params.rowShuttleMapping !&#x3D;&#x3D; undefined){
    for(let i &#x3D; 0; i &lt; wefts(d.drawdown); i++){
      d.rowShuttleMapping[i] &#x3D; params.rowShuttleMapping[i%params.rowShuttleMapping.length];
    }
  }

  if(params.rowSystemMapping !&#x3D;&#x3D; undefined){
    for(let i &#x3D; 0; i &lt; wefts(d.drawdown); i++){
      d.rowSystemMapping[i] &#x3D; params.rowSystemMapping[i%params.rowSystemMapping.length];
    }
  }

  if(params.colShuttleMapping !&#x3D;&#x3D; undefined){
    for(let i &#x3D; 0; i &lt; warps(d.drawdown); i++){
      d.colShuttleMapping[i] &#x3D; params.colShuttleMapping[i%params.colShuttleMapping.length];
    }
  }

  if(params.colSystemMapping !&#x3D;&#x3D; undefined){
    for(let i &#x3D; 0; i &lt; warps(d.drawdown); i++){
      d.colSystemMapping[i] &#x3D; params.colSystemMapping[i%params.colSystemMapping.length];
    }
  }


  return d;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>creates a draft based on the params provided.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insertDrawdownCol"></a>
                    <span class="name">
                        <span ><b>insertDrawdownCol</b></span>
                        <a href="#insertDrawdownCol"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, j: number, col: Array&lt;Cell&gt;) : Drawdown &#x3D;&gt; {
    
    const w &#x3D; warps(d);

    if(j &#x3D;&#x3D;&#x3D; null) j &#x3D;0;

    if(col &#x3D;&#x3D; null){
      col &#x3D; [];
      for(let i &#x3D; 0; i &lt; wefts(d); i++){
        col.push(createCell(false));
      }
    }
    for (var ndx &#x3D; 0; ndx &lt; wefts(d); ndx++) {
      d[ndx].splice(j, 0, createCell(getCellValue(col[ndx])));
    }
    return d;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>inserts a column into the drawdown</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insertDrawdownRow"></a>
                    <span class="name">
                        <span ><b>insertDrawdownRow</b></span>
                        <a href="#insertDrawdownRow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, i: number, row: Array&lt;Cell&gt;) : Drawdown &#x3D;&gt; {
    i &#x3D; i+1;

    if(row &#x3D;&#x3D;&#x3D; null){
      row &#x3D; [];
      for (var j &#x3D; 0; j &lt; warps(d); j++) {
        row.push(createCell(false));
      }
    }
    if(row.length !&#x3D;&#x3D; warps(d)) console.error(&quot;inserting row of incorrect length into drawdown&quot;);
   
    try{
      d.splice(i,0,row);
    }catch(e){
      console.error(e);
    }
    return d;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>I DON&quot;T THINK THIS FUNCTION WORKS OR IS BEING USED
removes any boundary rows from the input draft that are unset</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insertMappingCol"></a>
                    <span class="name">
                        <span ><b>insertMappingCol</b></span>
                        <a href="#insertMappingCol"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(m: Array&lt;number&gt;, j: number, col: number) : Array&lt;number&gt; &#x3D;&gt; {
    m.splice(j,0, col);
    return m;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>inserts a value into the col system/shuttle mapping at a particular location</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="insertMappingRow"></a>
                    <span class="name">
                        <span ><b>insertMappingRow</b></span>
                        <a href="#insertMappingRow"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(m: Array&lt;number&gt;, i: number, val: number) : Array&lt;number&gt; &#x3D;&gt; {
    i &#x3D; i+1;
    try{
      m.splice(i,0,val);
    }catch(e){
      console.error(e);
    }
    return m;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>inserts a new value into the row system/shuttle map</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="invertDrawdown"></a>
                    <span class="name">
                        <span ><b>invertDrawdown</b></span>
                        <a href="#invertDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(drawdown: Drawdown) : Drawdown &#x3D;&gt;  {
    
    const inverted &#x3D; drawdown.slice();
    for(let i &#x3D; 0; i &lt; wefts(drawdown); i++){
      for(let j &#x3D; 0; j &lt; warps(drawdown); j++){
        if(drawdown[i][j].is_set){
          const set_to &#x3D; !getCellValue(drawdown[i][j]);
          inverted[i][j] &#x3D; createCell(set_to);
        }
        
      }
    } 
    return inverted;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>inverts the drawdown (e.g. sets true cells to false and vice versa)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isSet"></a>
                    <span class="name">
                        <span ><b>isSet</b></span>
                        <a href="#isSet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, i:number, j:number) : boolean &#x3D;&gt; {
    if ( i &gt; -1 &amp;&amp; i &lt; wefts(d) &amp;&amp; j &gt; -1 &amp;&amp; j &lt; warps(d)) {
      return d[i][j].is_set;
    } else {
      return false;
    }
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if the cells in the provided drawdown is set or unset</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isUp"></a>
                    <span class="name">
                        <span ><b>isUp</b></span>
                        <a href="#isUp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, i:number, j:number) : boolean &#x3D;&gt;{
    //console.log(&quot;is up&quot;, i, j, wefts(d), warps(d), d[i][j]);
    if ( i &gt; -1 &amp;&amp; i &lt; wefts(d) &amp;&amp; j &gt; -1 &amp;&amp; j &lt; warps(d)) {
      return d[i][j].is_set &amp;&amp; d[i][j].is_up;
    } else {
      return false;
    }
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if the cells in the provided drawdown is up</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadDraftFromFile"></a>
                    <span class="name">
                        <span ><b>loadDraftFromFile</b></span>
                        <a href="#loadDraftFromFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(data: any, flips: any, version: string) : Promise&lt;Draft&gt; &#x3D;&gt; {

    const draft: Draft &#x3D; initDraft();
    if(data.id !&#x3D;&#x3D; undefined) draft.id &#x3D; data.id;
    draft.gen_name &#x3D; (data.gen_name &#x3D;&#x3D;&#x3D; undefined) ? &#x27;draft&#x27; : data.gen_name;
    draft.ud_name &#x3D; (data.ud_name &#x3D;&#x3D;&#x3D; undefined) ? &#x27;&#x27; : data.ud_name;
    
    if(version &#x3D;&#x3D;&#x3D; undefined || version &#x3D;&#x3D;&#x3D; null || !utilInstance.sameOrNewerVersion(version, &#x27;3.4.5&#x27;)){
      draft.drawdown &#x3D; parseSavedDrawdown(data.pattern);
    }else{
      draft.drawdown &#x3D; parseSavedDrawdown(data.drawdown);

    }

    draft.rowShuttleMapping &#x3D; (data.rowShuttleMapping &#x3D;&#x3D;&#x3D; undefined) ? [] : data.rowShuttleMapping;
    draft.rowSystemMapping &#x3D; (data.rowSystemMapping &#x3D;&#x3D;&#x3D; undefined) ? [] : data.rowSystemMapping;
    draft.colShuttleMapping &#x3D; (data.colShuttleMapping &#x3D;&#x3D;&#x3D; undefined) ? [] : data.colShuttleMapping;;
    draft.colSystemMapping&#x3D; (data.colSystemMapping &#x3D;&#x3D;&#x3D; undefined) ? [] : data.colSystemMapping;;


    return flipDraft(draft, flips.horiz, flips.vert)
    .then(flipped &#x3D;&gt; {
      return flipped;
    })
    
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>sets up the draft from the information saved in a .ada file</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseSavedDrawdown"></a>
                    <span class="name">
                        <span ><b>parseSavedDrawdown</b></span>
                        <a href="#parseSavedDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(dd: Array&lt;Array&lt;Cell&gt;&gt;) : Drawdown &#x3D;&gt; {

    const drawdown:Drawdown &#x3D; [];
    if(dd &#x3D;&#x3D;&#x3D; undefined) return [];

    for(var i &#x3D; 0; i &lt; wefts(dd); i++) {
        drawdown.push([]);
        for (var j &#x3D; 0; j &lt; warps(dd); j++){
          drawdown[i][j] &#x3D; dd[i][j];
        }
    }

    return drawdown;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseSavedPattern"></a>
                    <span class="name">
                        <span ><b>parseSavedPattern</b></span>
                        <a href="#parseSavedPattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(pattern: Array&lt;Array&lt;boolean&gt;&gt;) : Drawdown &#x3D;&gt; {
    const drawdown:Drawdown &#x3D; [];
    if(pattern &#x3D;&#x3D;&#x3D; undefined) return [];

    for(var i &#x3D; 0; i &lt; wefts(pattern); i++) {
        drawdown.push([]);
        for (var j &#x3D; 0; j &lt; warps(pattern); j++){
          drawdown[i][j]&#x3D; createCell(pattern[i][j]);
        }
    }

    return drawdown;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>converts the saved structure of a pattern into the format used in memory</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pasteIntoDrawdown"></a>
                    <span class="name">
                        <span ><b>pasteIntoDrawdown</b></span>
                        <a href="#pasteIntoDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(
    drawdown: Drawdown, 
    fill_pattern: Drawdown,
    start_i: number,
    start_j: number,
    width: number,
    height: number 

  ) :  Drawdown &#x3D;&gt;  {


    let rows &#x3D; wefts(fill_pattern);
    let cols &#x3D; warps(fill_pattern);

    //cycle through each visible row/column of the selection
    for (var i &#x3D; 0; i &lt; height; i++ ) {
      for (var j &#x3D; 0; j &lt; width; j++ ) {
        try{
          drawdown[start_i+i][start_j+j] &#x3D; createCell(getCellValue(fill_pattern[i % rows][j % cols]));
        }catch(e){
          console.error(e);
        }
      }
    }

    return drawdown;

   
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>pasts a second drawdown representing a pattern at the specified location and size</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setHeddle"></a>
                    <span class="name">
                        <span ><b>setHeddle</b></span>
                        <a href="#setHeddle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d:Drawdown, i:number, j:number, bool:boolean) : Drawdown &#x3D;&gt; {
      d[i][j] &#x3D; setCellValue( d[i][j], bool);
      return d;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>sets the heddle at the specified location to the value provided</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shiftDrawdown"></a>
                    <span class="name">
                        <span ><b>shiftDrawdown</b></span>
                        <a href="#shiftDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(drawdown: Drawdown, up: boolean, inc: number) : Drawdown &#x3D;&gt;  {

      const shifted &#x3D; createBlankDrawdown(wefts(drawdown), warps(drawdown));
      for(let i &#x3D; 0; i &lt; wefts(drawdown); i++){
        for(let j &#x3D; 0; j &lt; warps(drawdown); j++){
            let set_to &#x3D; false;
            if(up)  set_to &#x3D; getCellValue(drawdown[(i+inc)%wefts(drawdown)][j]);
            else set_to &#x3D; getCellValue(drawdown[i][(j+inc)%warps(drawdown)]);
            shifted[i][j] &#x3D; createCell(set_to);
        }
      } 
      return shifted;
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>shifts the drawdown up or left by the amount specified.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateWarpSystemsAndShuttles"></a>
                    <span class="name">
                        <span ><b>updateWarpSystemsAndShuttles</b></span>
                        <a href="#updateWarpSystemsAndShuttles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(to: Draft, from: Draft) : Draft &#x3D;&gt; {

    if(from &#x3D;&#x3D; null || from &#x3D;&#x3D; undefined) from &#x3D; initDraftWithParams({wefts: 1, warps: 1, drawdown: [[createCell(false)]]});

    to.colShuttleMapping &#x3D;  generateMappingFromPattern(to.drawdown, from.colShuttleMapping,&#x27;col&#x27;, 3);

    to.colSystemMapping &#x3D;  generateMappingFromPattern(to.drawdown, from.colSystemMapping,&#x27;col&#x27;, 3);

    return to;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateWeftSystemsAndShuttles"></a>
                    <span class="name">
                        <span ><b>updateWeftSystemsAndShuttles</b></span>
                        <a href="#updateWeftSystemsAndShuttles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(to: Draft, from: Draft) : Draft &#x3D;&gt; {

    if(from &#x3D;&#x3D; null || from &#x3D;&#x3D; undefined) from &#x3D; initDraftWithParams({wefts: 1, warps: 1, drawdown: [[createCell(false)]]});

    to.rowShuttleMapping &#x3D;  generateMappingFromPattern(to.drawdown, from.rowShuttleMapping,&#x27;row&#x27;, 3);

    to.rowSystemMapping &#x3D;  generateMappingFromPattern(to.drawdown, from.rowSystemMapping,&#x27;row&#x27;, 3);

    return to;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>take the system and shuttle and</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warps"></a>
                    <span class="name">
                        <span ><b>warps</b></span>
                        <a href="#warps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown | Array&lt;Array&lt;any&gt;&gt;) :  number &#x3D;&gt; {
    if(d &#x3D;&#x3D;&#x3D; null || d &#x3D;&#x3D; undefined) return 0;
    if(d[0] &#x3D;&#x3D;&#x3D; undefined) return 0;
    return d[0].length;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>calcualte the number of warps (cols) in a pattern</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="wefts"></a>
                    <span class="name">
                        <span ><b>wefts</b></span>
                        <a href="#wefts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown | Array&lt;Array&lt;any&gt;&gt;) :  number &#x3D;&gt; {
    if(d &#x3D;&#x3D;&#x3D; null || d &#x3D;&#x3D; undefined) return 0;
    return d.length;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>calcualte the number of wefts (rows) in a pattern</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/assignsystems/assignsystems.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="assign_to_warp"></a>
                    <span class="name">
                        <span ><b>assign_to_warp</b></span>
                        <a href="#assign_to_warp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;assign to warp&#x27;,
  type: &#x27;string&#x27;,
  value: &#x27;1&#x27;,
  regex: /\S+/, //NEVER USE THE GLOBAL FLAG - it will throw errors randomly
  error: &#x27;invalid entry, must use one number&#x27;,
  dx: &#x27;all entries must be one number&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="assign_to_weft"></a>
                    <span class="name">
                        <span ><b>assign_to_weft</b></span>
                        <a href="#assign_to_weft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;assign to weft&#x27;,
  type: &#x27;string&#x27;,
  value: &#x27;a&#x27;,
  regex: /\S+/, //NEVER USE THE GLOBAL FLAG - it will throw errors randomly
  error: &#x27;invalid entry, must use one lower case letter&#x27;,
  dx: &#x27;all entries must be one single lower-case letter&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="assignsystems"></a>
                    <span class="name">
                        <span ><b>assignsystems</b></span>
                        <a href="#assignsystems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;,
    type: &#x27;static&#x27;,
    value: null,
    uses: &#x27;draft&#x27;,
    dx: &quot;the draft that will be assigned to a given system&quot;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(drafts);
  return &quot;assign systems(&quot;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;assign systems&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[weft_pattern, warp_system, assign_to_weft, assign_to_warp]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {


    const weft_system_string &#x3D; getOpParamValById(0, op_params);
    const warp_system_string &#x3D; getOpParamValById(1, op_params);
    const weft_assignment_string &#x3D; getOpParamValById(2, op_params);
    const warp_assignment_string &#x3D; getOpParamValById(3, op_params);

    const weft_system_string_split &#x3D; utilInstance.parseRegex(weft_system_string, (&lt;StringParam&gt;op_params[0].param).regex);

    const warp_system_string_split &#x3D; utilInstance.parseRegex(warp_system_string, (&lt;StringParam&gt;op_params[0].param).regex);

    const weft_assignment_string_split &#x3D; utilInstance.parseRegex(weft_assignment_string, (&lt;StringParam&gt;op_params[0].param).regex);

    const warp_assignment_string_split &#x3D; utilInstance.parseRegex(warp_assignment_string, (&lt;StringParam&gt;op_params[0].param).regex);


    if(weft_system_string_split.length &#x3D;&#x3D; 0 || warp_system_string_split.length &#x3D;&#x3D; 0){
        return Promise.resolve([]);
    } 

    let weft_sys_seq &#x3D; new Sequence.OneD();
    weft_system_string_split.forEach(id &#x3D;&gt; {
        weft_sys_seq.push(id.charCodeAt(0) - 97);
    });

    let warp_sys_seq &#x3D; new Sequence.OneD();
    warp_system_string_split.forEach(id &#x3D;&gt; {
        warp_sys_seq.push(id.charCodeAt(0) - 49);
    });

    let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let seq &#x3D; new Sequence.TwoD();

    if(drafts.length &#x3D;&#x3D; 0 || weft_assignment_string_split.length &#x3D;&#x3D; 0 || warp_assignment_string_split.length &#x3D;&#x3D; 0){
        let draft &#x3D; initDraftWithParams({wefts: weft_sys_seq.length(), warps: warp_sys_seq.length(), drawdown:[[createCell(null)]]})
        seq.import(draft.drawdown);
      
    }else{

        let weft_assn &#x3D; (weft_assignment_string_split.length &#x3D;&#x3D; 0) ? 0 :  weft_assignment_string_split[0].charCodeAt(0) - 97;
       
        let warp_assn &#x3D; (warp_assignment_string_split.length &#x3D;&#x3D; 0) ? 0 :  warp_assignment_string_split[0].charCodeAt(0) - 49;
       
       
        let draft &#x3D; drafts[0];
    
        seq.import(draft.drawdown).mapToSystems([weft_assn], [warp_assn], weft_sys_seq, warp_sys_seq);
    
    

    }

   

    let d: Draft &#x3D; initDraftFromDrawdown(seq.export());
     d.colSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, warp_sys_seq.val(),&#x27;col&#x27;, 3);
    d.rowSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, weft_sys_seq.val(),&#x27;row&#x27;, 3);



  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warp_system"></a>
                    <span class="name">
                        <span ><b>warp_system</b></span>
                        <a href="#warp_system"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;weft system pattern&#x27;,
    type: &#x27;string&#x27;,
    value: &#x27;1 2 3&#x27;,
    regex: /\S+/, //NEVER USE THE GLOBAL FLAG - it will throw errors randomly
    error: &#x27;invalid entry, must use single lower-case letters separated by a space&#x27;,
    dx: &#x27;all entries must be single lower-case letters separated by a space&#x27;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weft_pattern"></a>
                    <span class="name">
                        <span ><b>weft_pattern</b></span>
                        <a href="#weft_pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;weft system pattern&#x27;,
    type: &#x27;string&#x27;,
    value: &#x27;a b c d e f g&#x27;,
    regex: /\S+/, //NEVER USE THE GLOBAL FLAG - it will throw errors randomly
    error: &#x27;invalid entry, must use single lower-case letters separated by a space&#x27;,
    dx: &#x27;all entries must be single lower-case letters separated by a space&#x27;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/atop/atop.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="atop"></a>
                    <span class="name">
                        <span ><b>atop</b></span>
                        <a href="#atop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_a"></a>
                    <span class="name">
                        <span ><b>draft_a</b></span>
                        <a href="#draft_a"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;a&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to overlay another onto&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_b"></a>
                    <span class="name">
                        <span ><b>draft_b</b></span>
                        <a href="#draft_b"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;b&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft you would like to overlay onto the base&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let amt &#x3D; getOpParamValById(0, param_vals);
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;atop&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_a, draft_b]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;atop&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;set atop&#x27;, &#x27;set atop, (a, b) &#x3D;&gt; a&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[shift_ends, shift_pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft_a &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let input_draft_b &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let shift_ends &#x3D; getOpParamValById(0, op_params);
  let shift_pics &#x3D; getOpParamValById(1, op_params);

   if(input_draft_a.length &#x3D;&#x3D; 0 &amp;&amp; input_draft_b.length &#x3D;&#x3D; 0) return Promise.resolve([]);

   let draft_a &#x3D; (input_draft_a.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_a[0];
   let draft_b &#x3D; (input_draft_b.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_b[0];


    let height &#x3D; Math.max(wefts(draft_b.drawdown) + shift_pics, wefts(draft_a.drawdown));
    let width &#x3D; Math.max(warps(draft_b.drawdown) + shift_ends, warps(draft_a.drawdown));


    //offset draft b:
    let pattern_b &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; shift_pics){
            seq.pushMultiple(2, width);
        }else if(i &lt; (shift_pics + wefts(draft_b.drawdown))){
            seq.pushMultiple(2, shift_ends).pushRow(draft_b.drawdown[i-shift_pics]);
            let remaining &#x3D; width - (warps(draft_b.drawdown) + shift_ends);
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_b.pushWeftSequence(seq.val());
    }

    //make sure pattern a is the same size
    let pattern_a &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; wefts(draft_a.drawdown)){
            seq.pushRow(draft_a.drawdown[i]);
            let remaining &#x3D; width - draft_a.drawdown[i].length;
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_a.pushWeftSequence(seq.val());
    }



    let pattern &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq_a &#x3D; new Sequence.OneD(pattern_a.getWeft(i));
        let seq_b &#x3D; new Sequence.OneD(pattern_b.getWeft(i));
        seq_a.computeFilter(&#x27;up&#x27;, seq_b);
        pattern.pushWeftSequence(seq_a.val());
    }





     let d &#x3D; initDraftFromDrawdown(pattern.export());
    d &#x3D; updateWeftSystemsAndShuttles(d, draft_a);
    d &#x3D; updateWarpSystemsAndShuttles(d, draft_a);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_ends"></a>
                    <span class="name">
                        <span ><b>shift_ends</b></span>
                        <a href="#shift_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift ends&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_pics"></a>
                    <span class="name">
                        <span ><b>shift_pics</b></span>
                        <a href="#shift_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift pics&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/square_waffle/square_waffle.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bindings"></a>
                    <span class="name">
                        <span ><b>bindings</b></span>
                        <a href="#bindings"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;number of binding rows&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 100,
    value: 2,
    dx:&quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;waffle&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="max_float"></a>
                    <span class="name">
                        <span ><b>max_float</b></span>
                        <a href="#max_float"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;float length&#x27;,
    type: &#x27;number&#x27;,
    min: 3,
    max: 100,
    value: 7,
    dx: &quot;the length of the longest float in the waffle structure. This number must be odd. If an even number is entered, the draft will make the longest float one less than the entered value.&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;waffle&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="packing_factor"></a>
                    <span class="name">
                        <span ><b>packing_factor</b></span>
                        <a href="#packing_factor"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;packing&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 100,
    value: 2,
    dx:&quot;controls how much each waffle will overlap. A higher number will lead to a tighter packing of waffles, where a lower number will lead to more spacing between waffles&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[max_float, bindings, packing_factor]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      let float: number &#x3D; getOpParamValById(0, param_vals);
      const bindings: number &#x3D; getOpParamValById(1, param_vals);
      const packing_factor: number &#x3D; getOpParamValById(2, param_vals);

      //always make it an odd number 
      if(float % 2 &#x3D;&#x3D; 0) float -&#x3D; 1;

      let max_binding &#x3D; 1 + (bindings)*2;
      const size &#x3D; float + max_binding*2;
      const center_point &#x3D; Math.floor(size/ 2);

      let pattern &#x3D; new Sequence.TwoD();

      for(let i &#x3D; 0; i &lt; center_point; i++){
        let float_len &#x3D; float - i*2;
        let row &#x3D; new Sequence.OneD();
        if(float_len &gt;&#x3D; 0){
        
          let pad &#x3D; Math.floor((size - float_len) / 2);
          
          //push the float
          row.pushMultiple(1, float_len);

          for(let p &#x3D; 0; p &lt; pad; p++){
            if(p &lt; max_binding){
              let val &#x3D; (p%2&#x3D;&#x3D;0) ? 0 : 1;
              row.unshift(val)
              row.push(val)
            }else{
              row.unshift(0)
              row.push(0)
            }
          }
        }else{
          max_binding -&#x3D; 1;

          let pad &#x3D; Math.floor((size - max_binding*2) / 2);
          row.pushMultiple(0, pad);
          for(let b &#x3D; 0; b &lt; max_binding*2; b++){
            if(b&#x3D;&#x3D;0) row.push(0)
            if(b%2 &#x3D;&#x3D; 0) row.push(1)
            else row.push(0);
          }
          row.pushMultiple(0, pad);

        }
          

       
      pattern.pushWeftSequence(row.val());

      //if we&#x27;re not in the center, push to both size
      if(i &gt; 0){
        pattern.unshiftWeftSequence(row.val());
      }
        
      }

      //now delete the rows that would for duplicates when tiling
      pattern.deleteWarp(0);
      pattern.deleteWarp(0);

      for(let p &#x3D; 0; p &lt;  packing_factor; p++){
        pattern.deleteWarp(pattern.warps()-1);
        pattern.deleteWeft(pattern.wefts()-1);
        if(p &gt; 0){
          pattern.deleteWeft(0);
          pattern.deleteWarp(0);

        }
      }


      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="square_waffle"></a>
                    <span class="name">
                        <span ><b>square_waffle</b></span>
                        <a href="#square_waffle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/bindwarpfloats/bindwarpfloats.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bindwarpfloats"></a>
                    <span class="name">
                        <span ><b>bindwarpfloats</b></span>
                        <a href="#bindwarpfloats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
  name: &#x27;draft&#x27;, 
  type: &#x27;static&#x27;,
  value: null,
  dx: &#x27;the draft to bind&#x27;,
  uses: &quot;draft&quot;,
  num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;bound warps(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="max_float"></a>
                    <span class="name">
                        <span ><b>max_float</b></span>
                        <a href="#max_float"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;length&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 10,
dx: &#x27;the maximum length of a warp float&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;bind warp floats&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[max_float]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let max_float &#x3D; getOpParamValById(0, op_params);

  let seq &#x3D; new Sequence.TwoD();


  if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let float_len: number &#x3D; 0;
  let last:boolean &#x3D; false;


  for(let j &#x3D; 0; j &lt; warps(input_draft.drawdown); j++){
    float_len &#x3D; 1;
    last &#x3D; null;
    for(let i &#x3D; 0; i &lt; wefts(input_draft.drawdown); i++){

      if(getHeddle(input_draft.drawdown,i,j) &#x3D;&#x3D;&#x3D; null){
        float_len &#x3D; 1;
        last &#x3D; null
      }else if(last &#x3D;&#x3D;&#x3D; null){
        float_len &#x3D; 1;
        last &#x3D;getHeddle(input_draft.drawdown,i,j);
      }
      else if( getHeddle(input_draft.drawdown,i,j) &#x3D;&#x3D;&#x3D; last){
        float_len++;
        
        if(float_len &gt; max_float){
          input_draft.drawdown[i][j] &#x3D; toggleHeddle(input_draft.drawdown[i][j]);
          last &#x3D; getHeddle(input_draft.drawdown,i,j)
          float_len &#x3D; 1
        }


      } else if(getHeddle(input_draft.drawdown,i,j) !&#x3D;&#x3D; last){
        float_len &#x3D; 1;
        last &#x3D; getHeddle(input_draft.drawdown,i,j);
      }

     

    }
  }



  return Promise.resolve([input_draft]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/bindweftfloats/bindweftfloats.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bindweftfloats"></a>
                    <span class="name">
                        <span ><b>bindweftfloats</b></span>
                        <a href="#bindweftfloats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
  name: &#x27;draft&#x27;, 
  type: &#x27;static&#x27;,
  value: null,
  dx: &#x27;the draft to bind&#x27;,
  uses: &quot;draft&quot;,
  num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;bound wefts(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="max_float"></a>
                    <span class="name">
                        <span ><b>max_float</b></span>
                        <a href="#max_float"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;max float length&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 1000000,
value: 10,
dx: &#x27;the maximum length of a weft float&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;bind weft floats&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[max_float]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let max_float &#x3D; getOpParamValById(0, op_params);

  let seq &#x3D; new Sequence.TwoD();


  if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let float_len: number &#x3D; 0;
  let last:boolean &#x3D; false;


  for(let i &#x3D; 0; i &lt; wefts(input_draft.drawdown); i++){
    float_len &#x3D; 1;
    last &#x3D; null;
    for(let j &#x3D; 0; j &lt; warps(input_draft.drawdown); j++){

      if(getHeddle(input_draft.drawdown,i,j) &#x3D;&#x3D;&#x3D; null){
        float_len &#x3D; 1;
        last &#x3D; null
      }else if(last &#x3D;&#x3D;&#x3D; null){
        float_len &#x3D; 1;
        last &#x3D;getHeddle(input_draft.drawdown,i,j);
      }
      else if( getHeddle(input_draft.drawdown,i,j) &#x3D;&#x3D;&#x3D; last){
        float_len++;
        
        if(float_len &gt; max_float){
          input_draft.drawdown[i][j] &#x3D; toggleHeddle(input_draft.drawdown[i][j]);
          last &#x3D; getHeddle(input_draft.drawdown,i,j)
          float_len &#x3D; 1
        }


      } else if(getHeddle(input_draft.drawdown,i,j) !&#x3D;&#x3D; last){
        float_len &#x3D; 1;
        last &#x3D; getHeddle(input_draft.drawdown,i,j);
      }

     

    }
  }



  return Promise.resolve([input_draft]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/fill/fill.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="black_cells"></a>
                    <span class="name">
                        <span ><b>black_cells</b></span>
                        <a href="#black_cells"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;black cell structure&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the structure you would like to repeat in in the black regions of the base draft&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fill"></a>
                    <span class="name">
                        <span ><b>fill</b></span>
                        <a href="#fill"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;fill(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[pattern, black_cells, white_cells]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;fill&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pattern"></a>
                    <span class="name">
                        <span ><b>pattern</b></span>
                        <a href="#pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;pattern&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;a draft you would like to fill&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let to_fills &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let black_cells &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let white_cells &#x3D; getAllDraftsAtInlet(op_inputs, 2);

  
  if(to_fills.length &#x3D;&#x3D; 0) return Promise.resolve([]);

  let black_cell &#x3D; (black_cells.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(true)]]) : black_cells[0];

  let white_cell &#x3D; (white_cells.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(false)]]) : white_cells[0];



    let to_fill &#x3D; to_fills[0];
    let pattern &#x3D; new Sequence.TwoD();

    to_fill.drawdown.forEach((row, i) &#x3D;&gt;{
        let seq &#x3D; new Sequence.OneD();
        row.forEach((cell, j) &#x3D;&gt; {

            if(cell.is_set){
                if(cell.is_up){
                    seq.push(
                        getHeddle(
                            black_cell.drawdown, 
                            i%wefts(black_cell.drawdown), 
                            j%warps(black_cell.drawdown))
                        );
                }else{
                    seq.push(
                        getHeddle(
                            white_cell.drawdown, 
                            i%wefts(white_cell.drawdown), 
                            j%warps(white_cell.drawdown))
                        );
                }
            }else{
                seq.push(2);
            }
        })
        pattern.pushWeftSequence(seq.val());
    })


  let d &#x3D; initDraftFromDrawdown(pattern.export())
  d &#x3D; updateWeftSystemsAndShuttles(d, to_fill);
  d &#x3D; updateWarpSystemsAndShuttles(d, to_fill);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="white_cells"></a>
                    <span class="name">
                        <span ><b>white_cells</b></span>
                        <a href="#white_cells"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;white cell structure&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the structure you would like to repeat in in the white regions of the base draft&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/waffleish/waffleish.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="border"></a>
                    <span class="name">
                        <span ><b>border</b></span>
                        <a href="#border"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;interlacement borders&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 100,
value: 1,
dx: &#x27;builds tabby around the edges of the central diamond, creating some strange patterns&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ends"></a>
                    <span class="name">
                        <span ><b>ends</b></span>
                        <a href="#ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 100,
    value: 8,
    dx:&quot;&quot;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;waffleish&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;waffleish&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[ends, pics, border]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      let width: number &#x3D; getOpParamValById(0, param_vals);
      const height: number &#x3D; getOpParamValById(1, param_vals);
      const bindings: number &#x3D; getOpParamValById(2, param_vals);

      let outputs: Array&lt;Draft&gt; &#x3D; [];

      const pattern: Array&lt;Array&lt;Cell&gt;&gt; &#x3D; [];
      const mid_warp: number &#x3D; Math.floor(width / 2);  //for 5 this is 2
      const mid_weft: number &#x3D; Math.floor(height / 2); //for 5 this is 2
      const warps_to_wefts_ratio &#x3D; mid_warp/mid_weft;

      //first create the diamond
      for(let i &#x3D; 0; i &lt; height; i++){
        pattern.push([]);
        const row_offset &#x3D; (i &gt; mid_weft) ? height - i : i;
        for(let j &#x3D; 0; j &lt; width; j++){
          if(j &gt;&#x3D; mid_warp - row_offset*warps_to_wefts_ratio &amp;&amp; j &lt;&#x3D; mid_warp + row_offset*warps_to_wefts_ratio) pattern[i][j] &#x3D; createCell(true);
          else pattern[i][j] &#x3D; createCell(false);
        }
      }

      //carve out the tabby
      if(bindings &gt; 0){
      const tabby_range_size &#x3D; bindings * 2 + 1;
      for(let i &#x3D; 0; i &lt; height; i++){
        const row_offset &#x3D; (i &gt; mid_weft) ? height - i : i;
        const range_size &#x3D; Math.floor((mid_warp + row_offset*warps_to_wefts_ratio) - (mid_warp - row_offset*warps_to_wefts_ratio)) + 1;

          //figure out how many bindings we&#x27;re dealing with here - alterlate to the inside and outside of the diamong
          for(let b &#x3D; 1; b &lt;&#x3D; bindings; b++){
            const inside &#x3D; (b % 2 &#x3D;&#x3D; 1) ? true : false;
            if(inside){
              const increment &#x3D; Math.floor(b+1 / 2)
              const diff &#x3D; Math.ceil((range_size - tabby_range_size) / 2);
              const left_j &#x3D; mid_warp - (diff * increment);
              const right_j &#x3D; mid_warp + (diff * increment);
              if(left_j &gt; 0 &amp;&amp; left_j &lt; width) pattern[i][left_j].is_set &#x3D; false;
              if(right_j &gt; 0 &amp;&amp; right_j &lt; width) pattern[i][right_j].is_set &#x3D;(false);
            }else{
              const increment &#x3D; Math.floor(b / 2);
              const left_j &#x3D; (mid_warp - Math.floor((range_size-1)/2)) - (increment*2);
              const right_j &#x3D; (mid_warp + Math.floor((range_size-1)/2)) + (increment*2);
              if(left_j &gt; 0 &amp;&amp; left_j &lt; width) pattern[i][left_j].is_set &#x3D;(true);
              if(right_j &gt; 0 &amp;&amp; right_j &lt; width) pattern[i][right_j].is_set &#x3D;(true);
            }

          }
        
      }
    }

    pattern.forEach(row &#x3D;&gt; {
      row.forEach(cell &#x3D;&gt; {
        if(getCellValue(cell) &#x3D;&#x3D; null) cell &#x3D; setCellValue(cell, false);
      })
    })


      
        const d: Draft &#x3D;initDraftWithParams({warps: width, wefts: height, pattern: pattern});
        outputs.push(d);

      return Promise.resolve(outputs);

    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pics"></a>
                    <span class="name">
                        <span ><b>pics</b></span>
                        <a href="#pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pics&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 100,
    value: 8,
    dx:&#x27;&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="waffleish"></a>
                    <span class="name">
                        <span ><b>waffleish</b></span>
                        <a href="#waffleish"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/bwimagemap/bwimagemap.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="bwimagemap"></a>
                    <span class="name">
                        <span ><b>bwimagemap</b></span>
                        <a href="#bwimagemap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DynamicOperation" target="_self" >DynamicOperation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, dynamic_param_id, dynamic_param_type, perform, generateName,onParamChange}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_id"></a>
                    <span class="name">
                        <span ><b>dynamic_param_id</b></span>
                        <a href="#dynamic_param_id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_type"></a>
                    <span class="name">
                        <span ><b>dynamic_param_type</b></span>
                        <a href="#dynamic_param_type"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;color&#x27;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="file"></a>
                    <span class="name">
                        <span ><b>file</b></span>
                        <a href="#file"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#FileParam" target="_self" >FileParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;image file (.jpg or .png)&#x27;,
    type: &#x27;file&#x27;,
    value: {id: &#x27;&#x27;, data: null},
    dx: &#x27;the file to upload&#x27;,
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  const file_param &#x3D; getOpParamValById(0, param_vals);   
  if(file_param.id &#x3D;&#x3D; &#x27;&#x27; || file_param.data &#x3D;&#x3D; null){
      return &#x27;bwimage&#x27;;
  }else{
    return file_param.data.name;
  } 

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="height"></a>
                    <span class="name">
                        <span ><b>height</b></span>
                        <a href="#height"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{   
    name: &#x27;pics&#x27;,   
    type: &#x27;number&#x27;,
    min: 1,
    max: 10000,
    value: 20,
    dx: &#x27;resize the input image to the height specified&#x27;
 }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;bwimagemap&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onParamChange"></a>
                    <span class="name">
                        <span ><b>onParamChange</b></span>
                        <a href="#onParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;, changed_param_id: number, param_val: any) : Array&lt;any&gt; &#x3D;&gt; {

    const new_inlets: Array&lt;any&gt; &#x3D; [&#x27;#000000&#x27;, &#x27;#ffffff&#x27;]

    return new_inlets;


}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[file, width, height]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

    const file_param &#x3D; getOpParamValById(0, op_params);   
    const res_w &#x3D; getOpParamValById(1, op_params);
    const res_h &#x3D; getOpParamValById(2, op_params);

    if(file_param.id &#x3D;&#x3D; &#x27;&#x27; || file_param.data &#x3D;&#x3D; null){
        const d &#x3D; initDraftWithParams({wefts: res_w, warps: res_h, drawdown: [[createCell(false)]]})
        return Promise.resolve([d]);
    } 
    

    const data:AnalyzedImage &#x3D; file_param.data;

    const color_to_drafts &#x3D; data.colors_to_bw.map((color, ndx) &#x3D;&gt; {
        if(color.black){
            if(op_inputs.findIndex(input &#x3D;&gt; input.inlet_id &#x3D;&#x3D; 0) !&#x3D;&#x3D; -1) return {color: color.hex, draft: op_inputs[0].drafts[0]}
            else return {color: color.hex, draft: initDraftWithParams({warps: 1, wefts: 1, drawdown: [[createCell(true)]]})}
          } else{
            if(op_inputs.findIndex(input &#x3D;&gt; input.inlet_id &#x3D;&#x3D; 1) !&#x3D;&#x3D; -1) return {color: color.hex, draft: op_inputs[1].drafts[0]}
            else return {color: color.hex, draft: initDraftWithParams({warps: 1, wefts: 1, drawdown: [[createCell(false)]]})}

          } 
        });
      

    const pattern: Array&lt;Array&lt;Cell&gt;&gt; &#x3D; [];
      for(let i &#x3D; 0; i &lt; res_h; i++){
        pattern.push([]);
        for(let j &#x3D; 0; j &lt; res_w; j++){

          const i_ratio &#x3D; data.height / res_h;
          const j_ratio &#x3D; data.width / res_w;

          const map_i &#x3D; Math.floor(i * i_ratio);
          const map_j &#x3D; Math.floor(j * j_ratio);

          const color_ndx &#x3D; data.image_map[map_i][map_j]; //
          const color_draft &#x3D; color_to_drafts[color_ndx].draft;

          if(color_draft &#x3D;&#x3D;&#x3D; null) pattern[i].push( createCell(false));
          else {
            const draft_i &#x3D; i % wefts(color_draft.drawdown);
            const draft_j &#x3D; j % warps(color_draft.drawdown);
            pattern[i].push(createCell(getHeddle(color_draft.drawdown,draft_i,draft_j)));
          }

        }
      }

    const draft: Draft &#x3D; initDraftFromDrawdown(pattern);
    return  Promise.resolve([draft]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="width"></a>
                    <span class="name">
                        <span ><b>width</b></span>
                        <a href="#width"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{ 
   name: &#x27;ends&#x27;,     
   type: &#x27;number&#x27;,
   min: 1,
   max: 10000,
   value: 30,
   dx: &#x27;resize the input image to the width specified&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/canvas2image.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="CanvasToBMP"></a>
                    <span class="name">
                        <span ><b>CanvasToBMP</b></span>
                        <a href="#CanvasToBMP"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{

  /**
   * Convert a canvas element to ArrayBuffer containing a BMP file
   * with support for 32-bit (alpha).
   *
   * Note that CORS requirement must be fulfilled.
   *
   * @param {HTMLCanvasElement} canvas - the canvas element to convert
   * @return {ArrayBuffer}
   */
  toArrayBuffer: function(canvas) {

    var w &#x3D; canvas.width,
        h &#x3D; canvas.height,
        w4 &#x3D; w * 4,
        idata &#x3D; canvas.getContext(&quot;2d&quot;).getImageData(0, 0, w, h),
        data32 &#x3D; new Uint32Array(idata.data.buffer), // 32-bit representation of canvas

        stride &#x3D; Math.floor((32 * w + 31) / 32) * 4, // row length incl. padding
        pixelArraySize &#x3D; stride * h,                 // total bitmap size
        fileLength &#x3D; 122 + pixelArraySize,           // header size is known + bitmap

        file &#x3D; new ArrayBuffer(fileLength),          // raw byte buffer (returned)
        view &#x3D; new DataView(file),                   // handle endian, reg. width etc.
        pos &#x3D; 0, x, y &#x3D; 0, p, s &#x3D; 0, a, v;

    // write file header
    setU16(0x4d42);          // BM
    setU32(fileLength);      // total length
    pos +&#x3D; 4;                // skip unused fields
    setU32(0x7a);            // offset to pixels

    // DIB header
    setU32(108);             // header size
    setU32(w);
    setU32(-h &gt;&gt;&gt; 0);        // negative &#x3D; top-to-bottom
    setU16(1);               // 1 plane
    setU16(32);              // 32-bits (RGBA)
    setU32(3);               // no compression (BI_BITFIELDS, 3)
    setU32(pixelArraySize);  // bitmap size incl. padding (stride x height)
    setU32(2835);            // pixels/meter h (~72 DPI x 39.3701 inch/m)
    setU32(2835);            // pixels/meter v
    pos +&#x3D; 8;                // skip color/important colors
    setU32(0xff0000);        // red channel mask
    setU32(0xff00);          // green channel mask
    setU32(0xff);            // blue channel mask
    setU32(0xff000000);      // alpha channel mask
    setU32(0x57696e20);      // &quot; win&quot; color space

    // bitmap data, change order of ABGR to BGRA
    while (y &lt; h) {
      p &#x3D; 0x7a + y * stride; // offset + stride x height
      x &#x3D; 0;
      while (x &lt; w4) {
        v &#x3D; data32[s++];                     // get ABGR
        a &#x3D; v &gt;&gt;&gt; 24;                        // alpha channel
        view.setUint32(p + x, (v &lt;&lt; 8) | a); // set BGRA
        x +&#x3D; 4;
      }
      y++
    }

    return file;

    // helper method to move current buffer position
    function setU16(data) {view.setUint16(pos, data, true); pos +&#x3D; 2}
    function setU32(data) {view.setUint32(pos, data, true); pos +&#x3D; 4}
  },

  /**
   * Converts a canvas to BMP file, returns a Blob representing the
   * file. This can be used with URL.createObjectURL().
   * Note that CORS requirement must be fulfilled.
   *
   * @param {HTMLCanvasElement} canvas - the canvas element to convert
   * @return {Blob}
   */
  toBlob: function(canvas) {
    return new Blob([this.toArrayBuffer(canvas)], {
      type: &quot;image/bmp&quot;
    });
  },

  /**
   * Converts the canvas to a data-URI representing a BMP file.
   * Note that CORS requirement must be fulfilled.
   *
   * @param canvas
   * @return {string}
   */
  toDataURL: function(canvas) {
    var buffer &#x3D; new Uint8Array(this.toArrayBuffer(canvas)),
        bs &#x3D; &quot;&quot;, i &#x3D; 0, l &#x3D; buffer.length;
    while (i &lt; l) bs +&#x3D; String.fromCharCode(buffer[i++]);
    return &quot;data:image/bmp;base64,&quot; + btoa(bs);
  }
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/chaos/chaos.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="chaos"></a>
                    <span class="name">
                        <span ><b>chaos</b></span>
                        <a href="#chaos"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    dx: &#x27;the draft to tile in the chaos sequence&#x27;,
    uses: &#x27;draft&#x27;,
    num_drafts: -1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;chaos(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;chaos&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[warp_repeats, weft_repeats]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>async (op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {


  let input_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let warp_rep &#x3D; getOpParamValById(0, op_params);
  let weft_rep &#x3D; getOpParamValById(1, op_params);


   if(input_drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);


   const all_warps &#x3D; input_drafts.map(el &#x3D;&gt; warps(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
   const total_warps &#x3D; utilInstance.lcm(all_warps);

   const all_wefts &#x3D; input_drafts.map(el &#x3D;&gt; wefts(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
   const total_wefts &#x3D; utilInstance.lcm(all_wefts);
   const num_inputs &#x3D; input_drafts.length;

   const draft_indexing_fns &#x3D; [];
      //randomly grab one of the inputs
      let ndx &#x3D; Math.floor(Math.random()*num_inputs);
      for(let i &#x3D; 0; i &lt; weft_rep; i++){
        for(let j &#x3D; 0; j &lt; warp_rep; j++){
          const x_flip &#x3D; (Math.random() &lt; 0.5) ? false: true; 
          const y_flip &#x3D; (Math.random() &lt; 0.5) ? false: true; 
          draft_indexing_fns.push(flipDraft(input_drafts[ndx], x_flip, y_flip));
          ndx &#x3D; Math.floor(Math.random()*num_inputs);
        }
      }

    return Promise.all(draft_indexing_fns).then(all_flips &#x3D;&gt; {
        const pattern &#x3D; new Sequence.TwoD();


        for(let di &#x3D; 0; di &lt; weft_rep; di++){
  
          const drafts_on_row &#x3D; all_flips.filter((el, ndx) &#x3D;&gt; (ndx &gt;&#x3D; warp_rep*di &amp;&amp; ndx &lt; warp_rep*di + warp_rep));
  
          for(let i &#x3D; 0; i &lt; total_wefts; i++){
              let seq &#x3D; new Sequence.OneD();
              drafts_on_row
              .forEach(draft_on_row &#x3D;&gt; {
                    let expanded &#x3D; new Sequence.OneD(draft_on_row.drawdown[i%wefts(draft_on_row.drawdown)]).resize(total_warps);
             seq.pushRow(expanded.val())
              })
              pattern.pushWeftSequence(seq.val());
          }
      }
          
  
  
    let d &#x3D; initDraftFromDrawdown(pattern.export());
    d &#x3D; updateWeftSystemsAndShuttles(d, input_drafts[0]);
    d &#x3D; updateWarpSystemsAndShuttles(d, input_drafts[0]);
  
    return Promise.resolve([d]);


      } )

      
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warp_repeats"></a>
                    <span class="name">
                        <span ><b>warp_repeats</b></span>
                        <a href="#warp_repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warp-repeats&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 2,
dx: &#x27;the number of times to repeat this time across the width&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weft_repeats"></a>
                    <span class="name">
                        <span ><b>weft_repeats</b></span>
                        <a href="#weft_repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;weft-repeats&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 2,
dx: &#x27;the number of times to repeat this time across the length&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/clear/clear.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clear"></a>
                    <span class="name">
                        <span ><b>clear</b></span>
                        <a href="#clear"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;input draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft you would like to clear&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;clear(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;clear&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let d &#x3D; initDraftWithParams({
    wefts: wefts(input_draft.drawdown),
    warps: warps(input_draft.drawdown),
    drawdown: [[createCell(null)]]
  });
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/complex_twill/complex_twill.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="complextwill"></a>
                    <span class="name">
                        <span ><b>complextwill</b></span>
                        <a href="#complextwill"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;complex twill&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;complextwill&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[string_input, sz]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const input_string: string &#x3D; getOpParamValById(0, param_vals);
      const sz: number &#x3D; getOpParamValById(1, param_vals);

      const input_array: Array&lt;number&gt; &#x3D; input_string.split(&#x27; &#x27;).map(el &#x3D;&gt; parseInt(el));

      let size: number &#x3D;input_array.reduce( (acc, val) &#x3D;&gt; {
        return val + acc;
    }, 0);


      let first_row &#x3D; new Sequence.OneD();
      let under &#x3D; true;
      input_array.forEach(input &#x3D;&gt; {
        first_row.pushMultiple(under, input);
        under &#x3D; !under;
      })

      let pattern &#x3D; new Sequence.TwoD();
      let shift_dir &#x3D; (sz) ? -1 : 1;
      for(let i &#x3D; 0; i &lt; size; i++){
        pattern.pushWeftSequence(first_row.shift(shift_dir).val());
      }


      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="string_input"></a>
                    <span class="name">
                        <span ><b>string_input</b></span>
                        <a href="#string_input"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pattern&#x27;,
    type: &#x27;string&#x27;,
    regex: /(\d+)/,
    value: &#x27;2 2 3 3&#x27;,
    error: &#x27;&#x27;,
    dx: &#x27;the under over pattern of this twill&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sz"></a>
                    <span class="name">
                        <span ><b>sz</b></span>
                        <a href="#sz"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;S/Z&#x27;,
        type: &#x27;boolean&#x27;,
        falsestate: &#x27;S&#x27;,
        truestate: &#x27;Z&#x27;,
        value: 0,
        dx: &#x27;&#x27;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/looms.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="computeDrawdown"></a>
                    <span class="name">
                        <span ><b>computeDrawdown</b></span>
                        <a href="#computeDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom) : Promise&lt;Drawdown&gt; &#x3D;&gt; {

    let pattern &#x3D; createBlankDrawdown(loom.treadling.length, loom.threading.length);
    for (var i &#x3D; 0; i &lt; loom.treadling.length;i++) {
      const active_treadles: Array&lt;number&gt; &#x3D; loom.treadling[i].slice();
      if (active_treadles.length &gt; 0) {
        active_treadles.forEach((treadle) &#x3D;&gt; {


          for (var j &#x3D; 0; j &lt; loom.tieup.length; j++) {
            if (loom.tieup[j][treadle]) {
              for (var k &#x3D; 0; k &lt; loom.threading.length;k++) {
                if (loom.threading[k] &#x3D;&#x3D; j) {
                  pattern[i][k] &#x3D; setCellValue(pattern[i][k], true);
                }
              }
            }
          }
        });
      }
    }

    return Promise.resolve(pattern);
  
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>computes the drawdown based on a given loom configuration</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="convertEPItoMM"></a>
                    <span class="name">
                        <span ><b>convertEPItoMM</b></span>
                        <a href="#convertEPItoMM"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(ls: LoomSettings) : number &#x3D;&gt; {

  if(ls.units &#x3D;&#x3D; &#x27;cm&#x27;){
    return ls.epi;
  }else{
    return (25.4/ls.epi);
  }

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="copyLoom"></a>
                    <span class="name">
                        <span ><b>copyLoom</b></span>
                        <a href="#copyLoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(l:Loom) : Loom &#x3D;&gt; {
  if(l &#x3D;&#x3D;&#x3D; undefined || l &#x3D;&#x3D; null) return null;
  const copy_loom  &#x3D; {
    threading: l.threading.slice(),
    treadling: l.treadling.slice(),
    tieup: l.tieup.slice(),
  } 
  return copy_loom;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>********* GENERIC FUNCTIONS RELATING TO LOOMS AND LOOM UTILS ***********</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="copyLoomSettings"></a>
                    <span class="name">
                        <span ><b>copyLoomSettings</b></span>
                        <a href="#copyLoomSettings"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(ls:LoomSettings) : LoomSettings &#x3D;&gt; {
  const copy_loomsettings  &#x3D; {
      type: ls.type,
      epi: ls.epi,
      units: ls.units,
      frames: ls.frames,
      treadles: ls.treadles
  };
  return copy_loomsettings;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="direct_utils"></a>
                    <span class="name">
                        <span ><b>direct_utils</b></span>
                        <a href="#direct_utils"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#LoomUtil" target="_self" >LoomUtil</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    type: &#x27;direct&#x27;, 
    displayname: &#x27;direct-tie or dobby loom&#x27;,
    dx: &quot;draft from drawdown or threading/tieup/treadling. Assumes you are using a direct tie and mutiple treadle assignments&quot;,
    computeLoomFromDrawdown: (d: Drawdown, loom_settings: LoomSettings, origin: number) : Promise&lt;Loom&gt;  &#x3D;&gt; {
        
        const l: Loom &#x3D; {
            threading: [],
            tieup: [],
            treadling: []
        }

            //now calculate threading 
            return generateThreading(d)
            .then(obj &#x3D;&gt; {

            l.threading &#x3D; obj.threading.slice();

            //add treadling
            for(let i &#x3D; 0; i &lt; wefts(d); i++){
              let active_ts &#x3D; [];
              let i_pattern &#x3D; d[i].slice();
              i_pattern.forEach((cell, j) &#x3D;&gt; {
                if(getCellValue(cell) &#x3D;&#x3D; true){
                  const frame_assignment &#x3D; obj.threading[j];
                  if(frame_assignment !&#x3D;&#x3D; -1){
                    active_ts.push(frame_assignment);
                  }
                }
              });
              l.treadling[i] &#x3D; utilInstance.filterToUniqueValues(active_ts);
            }

            const num_frames &#x3D; Math.max(numFrames(l), loom_settings.frames);
            const num_treadles &#x3D; Math.max(numTreadles(l), loom_settings.treadles);
            const dim &#x3D; Math.max(num_frames, num_treadles)


            l.tieup &#x3D; generateDirectTieup(dim);

             return l;

            });

    },
    computeDrawdownFromLoom: (l: Loom, origin: number) : Promise&lt;Drawdown&gt; &#x3D;&gt; {
      return computeDrawdown(l);
    },
    recomputeLoomFromThreadingAndDrawdown:(l:Loom, loom_settings: LoomSettings, d: Drawdown, origin: number): Promise&lt;Loom&gt; &#x3D;&gt;{
      const new_loom: Loom &#x3D; {
        threading: l.threading.slice(),
        tieup: [],
        treadling: []
    }

  
      //add treadling
      for(let i &#x3D; 0; i &lt; wefts(d); i++){
        let active_ts &#x3D; [];
        let i_pattern &#x3D; d[i].slice();
        i_pattern.forEach((cell, j) &#x3D;&gt; {
          if(getCellValue(cell) &#x3D;&#x3D; true){
            const frame_assignment &#x3D; new_loom.threading[j];
            if(frame_assignment !&#x3D;&#x3D; -1){
              active_ts.push(frame_assignment);
            }
          }
        });
        new_loom.treadling[i] &#x3D; utilInstance.filterToUniqueValues(active_ts);
      }

      const num_frames &#x3D; Math.max(numFrames(l), loom_settings.frames);
      const num_treadles &#x3D; Math.max(numTreadles(l), loom_settings.treadles);
      const dim &#x3D; Math.max(num_frames, num_treadles)


      new_loom.tieup &#x3D; generateDirectTieup(dim);
      return Promise.resolve(new_loom)

    },
    updateThreading: (loom: Loom, ndx:InterlacementVal) &#x3D;&gt; {
        if(ndx.val) loom.threading[ndx.j] &#x3D; ndx.i;
        else loom.threading[ndx.j] &#x3D; -1;
        return loom;
    },
    updateTieup: (loom: Loom, ndx:InterlacementVal) &#x3D;&gt; {
      return loom;
    },
    updateTreadling : (loom: Loom, ndx:InterlacementVal) &#x3D;&gt; {
      if(ndx.val){
          if(loom.treadling[ndx.i].find(el &#x3D;&gt; el &#x3D;&#x3D;&#x3D; ndx.j) &#x3D;&#x3D;&#x3D; undefined) loom.treadling[ndx.i].push(ndx.j);
      }else{
          loom.treadling[ndx.i] &#x3D; loom.treadling[ndx.i].filter(el &#x3D;&gt; el !&#x3D;&#x3D; ndx.j);
      }
    return loom;
    },
    insertIntoThreading: (loom: Loom, j: number, val: number) : Loom &#x3D;&gt; {
      loom.threading.splice(j,0, val);
      return loom;
    },
    insertIntoTreadling: (loom: Loom, i: number, val: Array&lt;number&gt;) : Loom &#x3D;&gt; {
      loom.treadling.splice(i,0, val);
      return loom;
    },
    pasteThreading: (loom:Loom, drawdown: Drawdown, ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
     return pasteDirectAndFrameThreading(loom, drawdown, ndx, width, height);
    },
    pasteTreadling: (loom:Loom, drawdown: Drawdown, ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
      return pasteDirectAndFrameTreadling(loom, drawdown, ndx, width, height);
    },
    pasteTieup: (loom:Loom, drawdown: Drawdown,  ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
      return loom;
    },
    deleteFromThreading: (loom: Loom, j: number) : Loom &#x3D;&gt; {
      loom.threading.splice(j, 1);
      return loom;
    },
    deleteFromTreadling: (loom: Loom, i: number) : Loom &#x3D;&gt; {
      loom.treadling.splice(i, 1);
      return loom;
    }
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>contains the set of functions to be used when working on a direct tieup or dobby loom</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipAndComputeDrawdown"></a>
                    <span class="name">
                        <span ><b>flipAndComputeDrawdown</b></span>
                        <a href="#flipAndComputeDrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(l: Loom, horiz: boolean, vert:boolean) : Promise&lt;Drawdown&gt; &#x3D;&gt; {
    
  return flipLoom(l, horiz, vert).then(loom &#x3D;&gt; {
      return computeDrawdown(loom);
    }).then(drawdown &#x3D;&gt; {
       return drawdown
    });
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>flips the loom according to the origin and then calls functions to recalculate drawdown</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipLoom"></a>
                    <span class="name">
                        <span ><b>flipLoom</b></span>
                        <a href="#flipLoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom:Loom, horiz: boolean, vert: boolean) : Promise&lt;Loom&gt; &#x3D;&gt; {
   

    if(loom &#x3D;&#x3D;&#x3D; null || loom &#x3D;&#x3D; undefined) return Promise.resolve(null);

    const refs &#x3D; [];
    let new_loom &#x3D; {
      threading: loom.threading.slice(), 
      tieup: loom.tieup.slice(),
      treadling: loom.treadling.slice()
    }


    let fns &#x3D; [];
      if (vert){
        refs.push(&#x27;treadling&#x27;)
        fns.push(flipTreadling(loom.treadling));
      }
      if(horiz){
        refs.push(&#x27;threading&#x27;)
        fns.push(flipThreading(loom.threading))
      }

      return Promise.all(fns).then(res &#x3D;&gt; {
        for(let i &#x3D; 0; i &lt; refs.length; i++){
          if(refs[i] &#x3D;&#x3D;&#x3D; &#x27;treadling&#x27;) new_loom.treadling &#x3D; res[i];
          if(refs[i] &#x3D;&#x3D;&#x3D; &#x27;threading&#x27;) new_loom.threading &#x3D; res[i];
        }

        return Promise.resolve(new_loom);

      });
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>calls the series of functions required to flip the looms to common origin based of user selected origin.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipPattern"></a>
                    <span class="name">
                        <span ><b>flipPattern</b></span>
                        <a href="#flipPattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Drawdown, horiz: boolean, vert: boolean) : Promise&lt;Drawdown&gt; &#x3D;&gt; {


    const d_flip &#x3D; d.slice();
    // for(let i &#x3D; 0; i &lt; d.length; i++){
    //   d_flip.push([]);
    //   for(let j &#x3D; 0; j &lt; d[i].length; j++){
    //     if(horiz &amp;&amp; vert) d_flip[i][j] &#x3D; new Cell(d[d.length -1 - i][d[i].length - 1 - j].getHeddle());
    //     if(horiz &amp;&amp; !vert) d_flip[i][j] &#x3D; new Cell(d[i][(d[i].length - 1 - j)].getHeddle());
    //     if(!horiz &amp;&amp; vert) d_flip[i][j] &#x3D; new Cell(d[d.length -1 - i][j].getHeddle());
    //     if(!horiz &amp;&amp; !vert) d_flip[i][j] &#x3D; new Cell(d[i][j].getHeddle());
    //   }
    // }

    return Promise.resolve(d_flip);

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>flips the draft horizontally and/or vertically. Used to flip the draft so that (0,0) is in the top left, no matter which origin point is selected</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipThreading"></a>
                    <span class="name">
                        <span ><b>flipThreading</b></span>
                        <a href="#flipThreading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(threading: Array&lt;number&gt;) : Promise&lt;Array&lt;number&gt;&gt; &#x3D;&gt; {


    const t_flip &#x3D; [];
    for(let i &#x3D; 0; i &lt; threading.length; i++){
      t_flip[i] &#x3D; threading[threading.length -1 - i];
    }
    return Promise.resolve(t_flip);
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>flips the threading order so that what was leftmost becomes rightmost</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipTieUp"></a>
                    <span class="name">
                        <span ><b>flipTieUp</b></span>
                        <a href="#flipTieUp"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(tieup: Array&lt;Array&lt;boolean&gt;&gt;, horiz: boolean, vert: boolean) : Promise&lt;Array&lt;Array&lt;boolean&gt;&gt;&gt; &#x3D;&gt; {

    const t_flip:Array&lt;Array&lt;boolean&gt;&gt; &#x3D; [];
    for(let i &#x3D; 0; i &lt; tieup.length; i++){
      t_flip.push([]);
      for(let j &#x3D; 0; j &lt; tieup[i].length; j++){
        if(horiz &amp;&amp; vert) t_flip[i][j] &#x3D; tieup[tieup.length -1 - i][tieup[i].length - 1 - j];
        if(horiz &amp;&amp; !vert) t_flip[i][j] &#x3D; tieup[i][(tieup[i].length - 1 - j)];
        if(!horiz &amp;&amp; vert) t_flip[i][j] &#x3D; tieup[tieup.length -1 - i][j];
        if(!horiz &amp;&amp; !vert) t_flip[i][j] &#x3D; tieup[i][j];
      }
    }

    return Promise.resolve(t_flip);
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>flips the threading order so that what was leftmost becomes rightmost</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipTreadling"></a>
                    <span class="name">
                        <span ><b>flipTreadling</b></span>
                        <a href="#flipTreadling"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(treadling: Array&lt;Array&lt;number&gt;&gt;) : Promise&lt;Array&lt;Array&lt;number&gt;&gt;&gt; &#x3D;&gt;{

      const t_flip &#x3D; [];
      for(let i &#x3D; 0; i &lt; treadling.length; i++){
        t_flip[i] &#x3D; treadling[treadling.length -1 - i].slice();
      }
      return Promise.resolve(t_flip);
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>flips the threading order so that what was leftmost becomes rightmost</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="frame_utils"></a>
                    <span class="name">
                        <span ><b>frame_utils</b></span>
                        <a href="#frame_utils"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#LoomUtil" target="_self" >LoomUtil</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    type: &#x27;frame&#x27;, 
    displayname: &#x27;shaft/treadle loom&#x27;,
    dx: &quot;draft from drawdown or threading/tieup/treadling. Assumes you are assigning treadles to specific frame via tieup&quot;,
    computeLoomFromDrawdown: (d: Drawdown, loom_settings: LoomSettings, origin: number) : Promise&lt;Loom&gt;  &#x3D;&gt; {
        const loom: Loom &#x3D; {
            threading: [],
            tieup: [],
            treadling: []
        }
         
        return generateThreading(d)
          .then(threading &#x3D;&gt; {
            loom.threading &#x3D; threading.threading;
            return generateTreadlingforFrameLoom(d)
          })
          .then(treadling &#x3D;&gt; {
            loom.treadling &#x3D; treadling.treadling;
        
            loom.tieup &#x3D; [];
            const num_frames &#x3D; Math.max(numFrames(loom), loom_settings.frames);
            const num_treadles &#x3D; Math.max(numTreadles(loom), loom_settings.treadles);

            for(let frames &#x3D; 0; frames &lt; num_frames; frames++){
              loom.tieup.push([]);
              for(let treadles &#x3D; 0; treadles &lt; num_treadles; treadles++){
                loom.tieup[frames].push(false);
              }
            }

            for(let i &#x3D; 0; i &lt; loom.treadling.length; i++){
              if(loom.treadling[i].length &gt; 0){
                const active_treadle_id &#x3D; loom.treadling[i][0];
                const row &#x3D; d[i];
                row.forEach((cell, j) &#x3D;&gt; {
                  if(getCellValue(cell) &#x3D;&#x3D; true){
                    const active_frame_id &#x3D; loom.threading[j];
                    loom.tieup[active_frame_id][active_treadle_id] &#x3D; true;
                  } 
                });
              }
            }

            return loom;
          })

      
    
    },
    
    computeDrawdownFromLoom: (l: Loom, origin: number) : Promise&lt;Drawdown&gt; &#x3D;&gt; {
      return computeDrawdown(l);
    },
    recomputeLoomFromThreadingAndDrawdown:(l:Loom, loom_settings: LoomSettings, d: Drawdown, origin: number): Promise&lt;Loom&gt; &#x3D;&gt;{
      const new_loom: Loom &#x3D; {
        threading: l.threading.slice(),
        tieup: [],
        treadling: []
      }
     
      return  generateTreadlingforFrameLoom(d)
      .then(treadling &#x3D;&gt; {
        new_loom.treadling &#x3D; treadling.treadling;
    
        new_loom.tieup &#x3D; [];
        const num_frames &#x3D; Math.max(numFrames(l), loom_settings.frames);
        const num_treadles &#x3D; Math.max(numTreadles(l), loom_settings.treadles);

        for(let frames &#x3D; 0; frames &lt; num_frames; frames++){
          new_loom.tieup.push([]);
          for(let treadles &#x3D; 0; treadles &lt; num_treadles; treadles++){
            new_loom.tieup[frames].push(false);
          }
        }

        for(let i &#x3D; 0; i &lt; new_loom.treadling.length; i++){
          if(new_loom.treadling[i].length &gt; 0){
            const active_treadle_id &#x3D; new_loom.treadling[i][0];
            const row &#x3D; d[i];
            row.forEach((cell, j) &#x3D;&gt; {
              if(getCellValue(cell) &#x3D;&#x3D; true){
                const active_frame_id &#x3D; new_loom.threading[j];
                new_loom.tieup[active_frame_id][active_treadle_id] &#x3D; true;
              } 
            });
          }
        }

        return Promise.resolve(new_loom);
      })
    },
    updateThreading: (loom:Loom, ndx: InterlacementVal) : Loom &#x3D;&gt; {
        if(ndx.val) loom.threading[ndx.j] &#x3D; ndx.i;
        else loom.threading[ndx.j] &#x3D; -1;
        return loom;
    },
    updateTieup: (loom:Loom, ndx: InterlacementVal) : Loom &#x3D;&gt; {
        loom.tieup[ndx.i][ndx.j] &#x3D; ndx.val;
        return loom;

    },
    updateTreadling: (loom:Loom, ndx: InterlacementVal) : Loom &#x3D;&gt; {
        if(ndx.val){
            if(loom.treadling[ndx.i].length &gt; 0) loom.treadling[ndx.i] &#x3D; [];
            loom.treadling[ndx.i].push(ndx.j);
        }else{
            loom.treadling[ndx.i] &#x3D; loom.treadling[ndx.i].filter(el &#x3D;&gt; el !&#x3D;&#x3D; ndx.j);
        }
      return loom;
    },
    insertIntoThreading: (loom: Loom, j: number, val: number) : Loom &#x3D;&gt; {
      loom.threading.splice(j,0, val);
      return loom;
    },
    insertIntoTreadling: (loom: Loom, i: number, val: Array&lt;number&gt;) : Loom &#x3D;&gt; {
      loom.treadling.splice(i,0, val);
      return loom;
    },
    pasteThreading: (loom:Loom, drawdown: Drawdown, ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
      return pasteDirectAndFrameThreading(loom, drawdown, ndx, width, height);
    },
    pasteTreadling: (loom:Loom,drawdown: Drawdown, ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
      return pasteDirectAndFrameTreadling(loom, drawdown, ndx, width, height);
    },
    pasteTieup: (loom:Loom,drawdown: Drawdown, ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
      return loom;
    },
    deleteFromThreading: (loom: Loom, j: number) : Loom &#x3D;&gt; {
      loom.threading.splice(j, 1);
      return loom;
    },
    deleteFromTreadling: (loom: Loom, i: number) : Loom &#x3D;&gt; {
      loom.treadling.splice(i, 1);
      return loom;
    }

  
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>contains the set of functions to be used when working on a frame loom</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateDirectTieup"></a>
                    <span class="name">
                        <span ><b>generateDirectTieup</b></span>
                        <a href="#generateDirectTieup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(size:number) : Array&lt;Array&lt;boolean&gt;&gt; &#x3D;&gt; {
 //add tieup
    const tieup &#x3D; [];
    for(let i &#x3D; 0; i &lt; size; i++){
      tieup.push([]);
      for(let j &#x3D; 0; j &lt; size; j++){
        if(i &#x3D;&#x3D; j) tieup[i][j] &#x3D; true;
        else tieup[i][j] &#x3D; false;
      }
    }
    return tieup.slice();
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>generates a direct tieup for the give size</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateThreading"></a>
                    <span class="name">
                        <span ><b>generateThreading</b></span>
                        <a href="#generateThreading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(drawdown: Drawdown) : Promise&lt;{threading: Array&lt;number&gt;, num: number}&gt; &#x3D;&gt; {
    let frame &#x3D; -1;
    let threading &#x3D; [];
    //always assign the origin to one
    //threading[] &#x3D; -1;

    //progressively add new frames in the order they appear
    for(let j &#x3D; 0; j &lt; warps(drawdown); j++){
      const blank &#x3D; utilInstance.colIsBlank(j, drawdown);
      if(blank) threading[j] &#x3D; -1;
      else{
      const match &#x3D; utilInstance.hasMatchingColumn(j, drawdown);
        if(match &#x3D;&#x3D;&#x3D; -1 || match &gt; j){
          frame++;
          threading[j] &#x3D; frame;
        }else{
          threading[j] &#x3D; threading[match];
        }
      }
    }

    return Promise.resolve({threading:threading, num:frame});

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>generates a threading based on the provided drawdown</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateTreadlingforFrameLoom"></a>
                    <span class="name">
                        <span ><b>generateTreadlingforFrameLoom</b></span>
                        <a href="#generateTreadlingforFrameLoom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(pattern: Drawdown) : Promise&lt;{treadling:Array&lt;Array&lt;number&gt;&gt;, num:number}&gt; &#x3D;&gt;{
    let treadle &#x3D; -1;
    let treadling &#x3D; [];
    //always assign the origin to one

    //progressively add new frames in the order they appear
    for(let i &#x3D; 0; i &lt; pattern.length; i++){

      const has_up &#x3D; pattern[i].find(el &#x3D;&gt; getCellValue(el) &#x3D;&#x3D; true);
      if(has_up &#x3D;&#x3D;&#x3D; undefined) treadling[i] &#x3D; [];
      else{
      const match &#x3D; utilInstance.hasMatchingRow(i, pattern);
        if(match &#x3D;&#x3D;&#x3D; -1 || match &gt; i){
          treadle++;
          treadling[i] &#x3D; [treadle];
        }else{
          treadling[i] &#x3D; treadling[match];
        }
      }
    }
    return Promise.resolve({treadling: treadling, num: treadle});

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>This function sets the treadling based on a adjusted pattern (e.g. a pattern that has been flipped based on the users selected origin point)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getLoomUtilByType"></a>
                    <span class="name">
                        <span ><b>getLoomUtilByType</b></span>
                        <a href="#getLoomUtilByType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(type: &#x27;frame&#x27; | &#x27;direct&#x27; | &#x27;jacquard&#x27; | string) : LoomUtil &#x3D;&gt;{

    switch(type){
        case &#x27;frame&#x27;: return frame_utils;
        case &#x27;direct&#x27;: return direct_utils;
        case &#x27;jacquard&#x27;: return jacquard_utils;
    }

}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns the correct loom util object by string</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isFrame"></a>
                    <span class="name">
                        <span ><b>isFrame</b></span>
                        <a href="#isFrame"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom_settings: LoomSettings) : boolean &#x3D;&gt; {
  if(loom_settings.type !&#x3D;&#x3D; &#x27;jacquard&#x27;) return true;
  return false;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns true if this loom typically requires a view of threading and tieup</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInThreadingRange"></a>
                    <span class="name">
                        <span ><b>isInThreadingRange</b></span>
                        <a href="#isInThreadingRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom, ndx: Interlacement) : boolean &#x3D;&gt; {
  if(ndx.i &lt; 0) return false;
  if(ndx.i &gt; numFrames(loom)) return false;
  if(ndx.j &lt; 0) return false;
  if(ndx.j &gt;&#x3D; loom.threading.length) return false;
  return true;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if a given interlacement is within the range of the threading</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInTieupRange"></a>
                    <span class="name">
                        <span ><b>isInTieupRange</b></span>
                        <a href="#isInTieupRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom, ndx: Interlacement) : boolean &#x3D;&gt; {
  if(ndx.i &lt; 0) return false;
  if(ndx.i &gt; loom.tieup.length) return false;
  if(ndx.i &lt; 0) return false;
  if(ndx.i &gt;&#x3D; loom.tieup[0].length) return false;
  return true;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if a given interlacement is within the range of the threading</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInTreadlingRange"></a>
                    <span class="name">
                        <span ><b>isInTreadlingRange</b></span>
                        <a href="#isInTreadlingRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom, ndx: Interlacement) : boolean &#x3D;&gt; {
  if(ndx.j &lt; 0) return false;
  if(ndx.j &gt; numTreadles(loom)) return false;
  if(ndx.i &lt; 0) return false;
  if(ndx.i &gt;&#x3D; loom.treadling.length) return false;
  return true;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if a given interlacement is within the range of the threading</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInUserThreadingRange"></a>
                    <span class="name">
                        <span ><b>isInUserThreadingRange</b></span>
                        <a href="#isInUserThreadingRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom, loom_settings: LoomSettings, ndx: Interlacement) : boolean &#x3D;&gt; {
  
  const frames &#x3D; Math.max(loom_settings.frames, numFrames(loom));
  
  if(ndx.i &lt; 0) return false;
  if(ndx.i &gt; frames) return false;
  if(ndx.j &lt; 0) return false;
  if(ndx.j &gt;&#x3D; loom.threading.length) return false;
  return true;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if a given interlacement is within the range of the threading specified by the user</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInUserTieupRange"></a>
                    <span class="name">
                        <span ><b>isInUserTieupRange</b></span>
                        <a href="#isInUserTieupRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom, loom_settings: LoomSettings, ndx: Interlacement) : boolean &#x3D;&gt; {
  const frames &#x3D; Math.max(loom_settings.frames, numFrames(loom));
  const treadling &#x3D; Math.max(loom_settings.treadles, numTreadles(loom));

  if(ndx.i &lt; 0) return false;
  if(ndx.i &gt;&#x3D; frames) return false;
  if(ndx.i &lt; 0) return false;
  if(ndx.i &gt;&#x3D; treadling) return false;
  return true;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if a given interlacement is within the range of the threading including the user defined settings</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isInUserTreadlingRange"></a>
                    <span class="name">
                        <span ><b>isInUserTreadlingRange</b></span>
                        <a href="#isInUserTreadlingRange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom, loom_settings: LoomSettings, ndx: Interlacement) : boolean &#x3D;&gt; {
  
  const treadling &#x3D; Math.max(loom_settings.treadles, numTreadles(loom));

  if(ndx.j &lt; 0) return false;
  if(ndx.j &gt; treadling) return false;
  if(ndx.i &lt; 0) return false;
  if(ndx.i &gt;&#x3D; loom.treadling.length) return false;
  return true;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>checks if a given interlacement is within the range of the threading</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="jacquard_utils"></a>
                    <span class="name">
                        <span ><b>jacquard_utils</b></span>
                        <a href="#jacquard_utils"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#LoomUtil" target="_self" >LoomUtil</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    type: &#x27;jacquard&#x27;, 
    displayname: &#x27;jacquard loom&#x27;,
    dx: &quot;draft exclusively from drawdown, disregarding any frame and treadle information&quot;,
    computeLoomFromDrawdown: (d: Drawdown, loom_settings: LoomSettings, origin: number) : Promise&lt;Loom&gt;  &#x3D;&gt; {
     return Promise.resolve(null);
    },
    computeDrawdownFromLoom: (l: Loom) : Promise&lt;Drawdown&gt; &#x3D;&gt; {
      return Promise.resolve(null);
    },
    recomputeLoomFromThreadingAndDrawdown:(l:Loom, loom_settings: LoomSettings, d: Drawdown, origin: number): Promise&lt;Loom&gt; &#x3D;&gt;{
      return Promise.resolve(null);
    },
    updateThreading: (loom: Loom, ndx:InterlacementVal) &#x3D;&gt; {
      return loom;
    },
    updateTieup: (loom: Loom,ndx:InterlacementVal) &#x3D;&gt; {
      return loom;
    },
    updateTreadling : (loom: Loom,ndx:InterlacementVal) &#x3D;&gt; {
      return loom;
    },
    insertIntoThreading: (loom: Loom, j: number, val: number) : Loom &#x3D;&gt; {
      return loom;
    },
    insertIntoTreadling: (loom: Loom, i: number, val: Array&lt;number&gt;) : Loom &#x3D;&gt; {
      return loom;
    },
    pasteThreading: (loom:Loom, drawdown: Drawdown,ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
      return loom;
    },
    pasteTreadling: (loom:Loom, drawdown: Drawdown,ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
      return loom;
    },
    pasteTieup: (loom:Loom, drawdown: Drawdown,ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
      return loom;
    },
    deleteFromThreading: (loom: Loom, j: number) : Loom &#x3D;&gt; {
      return loom;
    },
    deleteFromTreadling: (loom: Loom, i: number) : Loom &#x3D;&gt; {
      return loom;
    }

  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>********* ESTABLISH SPECIFIC TYPES OF LOOMS and A CORE SET OF FUNCTIONS FOR EACH ***********</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadLoomFromFile"></a>
                    <span class="name">
                        <span ><b>loadLoomFromFile</b></span>
                        <a href="#loadLoomFromFile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: any, flips: any, version: string) : Promise&lt;Loom&gt; &#x3D;&gt; {

    if(loom &#x3D;&#x3D; null) return Promise.resolve(null);

    if(!utilInstance.sameOrNewerVersion(version, &#x27;3.4.5&#x27;)){
      //tranfer the old treadling style on looms to the new style updated in 3.4.5
       loom.treadling &#x3D; loom.treadling.map(treadle_id &#x3D;&gt; {
        if(treadle_id &#x3D;&#x3D; -1) return [];
        else return [treadle_id];
      });
    
    }else{
      //handle case where firebase does not save empty treadles
      //console.log(&quot;IN LOAD LOOM&quot;, loom.treadling);
      for(let i &#x3D; 0; i &lt; loom.treadling.length; i++){
        if(loom.treadling[i].length &#x3D;&#x3D; 1 &amp;&amp; loom.treadling[i][0] &#x3D;&#x3D; -1) loom.treadling[i] &#x3D; [];
      }
    }
    
      return flipLoom(loom, flips.horiz, flips.vert)
      .then(flipped &#x3D;&gt; {
        return flipped;
      })
      
    }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>sets up the draft from the information saved in a .ada file</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="numFrames"></a>
                    <span class="name">
                        <span ><b>numFrames</b></span>
                        <a href="#numFrames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom) : number &#x3D;&gt; {

  if(loom &#x3D;&#x3D;&#x3D; null || loom &#x3D;&#x3D;&#x3D; undefined) return 0;

  let max &#x3D; loom.threading.reduce((acc, el) &#x3D;&gt; {
    if(el &gt; acc){
      acc &#x3D; el;
    }
    return acc;
  }, 0);
  return max+1;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>calculates the total number of frames used in this loom
since its called frequently, keep an eye on this to make sure it isn&#39;t hanging page loading 
and/or call it once per needed function (instead of multiple times in one function)</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="numTreadles"></a>
                    <span class="name">
                        <span ><b>numTreadles</b></span>
                        <a href="#numTreadles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom: Loom) : number &#x3D;&gt; {

  if(loom &#x3D;&#x3D; null) return 0;

  let max &#x3D;  loom.treadling.reduce((acc, el) &#x3D;&gt; {
    
    let max_in_list &#x3D; el.reduce((sub_acc, sub_el) &#x3D;&gt; {
      if(sub_el &gt; acc) sub_acc &#x3D; sub_el;
      return sub_acc;
    }, 0) ;
    
    if(max_in_list &gt; acc){
      acc &#x3D; max_in_list;
    }
    return acc;
  }, 0);

  return max+1;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>calculates the total number of frames used in this loom
since its called frequently, keep an eye on this to make sure it isn&#39;t hanging page loading</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pasteDirectAndFrameThreading"></a>
                    <span class="name">
                        <span ><b>pasteDirectAndFrameThreading</b></span>
                        <a href="#pasteDirectAndFrameThreading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom:Loom, drawdown: Drawdown, ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
    
  for(let j &#x3D; 0; j &lt; width; j++){
    const pattern_ndx &#x3D; j % drawdown[0].length;
    const column_vals &#x3D; drawdown.map(row &#x3D;&gt; row[pattern_ndx]);
    const frame &#x3D; column_vals.findIndex(cell &#x3D;&gt; getCellValue(cell) &#x3D;&#x3D; true);
    if(frame &lt; numFrames(loom)) loom.threading[ndx.j + j] &#x3D; frame;
  }

  return loom;

}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><ul>
<li>SHARED FUNCTIONS USED WHEN COMPUTING LOOM STATESs *******</li>
</ul>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pasteDirectAndFrameTreadling"></a>
                    <span class="name">
                        <span ><b>pasteDirectAndFrameTreadling</b></span>
                        <a href="#pasteDirectAndFrameTreadling"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(loom:Loom, drawdown: Drawdown, ndx: InterlacementVal, width: number, height: number) : Loom &#x3D;&gt; {
    
  for(let i &#x3D; 0; i &lt; height; i++){
    const pattern_ndx &#x3D; i % drawdown.length;
    const treadle_list &#x3D; [];
    for(let j &#x3D; 0; j &lt; numTreadles(loom); j++){
      if(getCellValue(drawdown[pattern_ndx][j]) &#x3D;&#x3D; true) treadle_list.push(j);
    }
    loom.treadling[ndx.i + i] &#x3D; treadle_list.slice();
  }

  return loom;

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/makesymmetric/makesymmetric.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="corner"></a>
                    <span class="name">
                        <span ><b>corner</b></span>
                        <a href="#corner"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#SelectParam" target="_self" >SelectParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;options&#x27;,
      type: &#x27;select&#x27;,
      selectlist: [
        {name: &#x27;4-way around top left corner&#x27;, value: 0},
        {name: &#x27;4-way around top right corner&#x27;, value: 1},
        {name: &#x27;4-way around bottom right corner&#x27;, value: 2},
        {name: &#x27;4-way around bottom left corner&#x27;, value: 3},
        {name: &#x27;2-way top axis&#x27;, value: 4},
        {name: &#x27;2-way right axis&#x27;, value: 5},
        {name: &#x27;2-way bottom axis&#x27;, value: 6},
        {name: &#x27;2-way left axis&#x27;, value: 7}
      ],
      value: 0,
      dx: &#x27;select 4-way or 2-way symmetric. If 4-way, select the corner to which this draft is rotated around 0 is top left, 1 top right, 2 bottom right, 3 bottom left. If 2-way, select the access it is mirror around&#x27;
      
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;input draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    dx: &#x27;the draft you would like to modify&#x27;,
    uses: &quot;draft&quot;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;symmetric(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makesymmetric"></a>
                    <span class="name">
                        <span ><b>makesymmetric</b></span>
                        <a href="#makesymmetric"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;makesymmetric&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[corner, remove_center]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let sym_mode &#x3D; getOpParamValById(0, op_params);
  let remove_center &#x3D; getOpParamValById(1, op_params);

  if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

    let pattern &#x3D; new Sequence.TwoD();
    let warp_systems &#x3D; new Sequence.OneD();
    let warp_mats &#x3D; new Sequence.OneD();
    let weft_systems &#x3D; new Sequence.OneD();
    let weft_materials &#x3D; new Sequence.OneD();

        switch(sym_mode){

            //4-way, top left - 2-way left
            case 0:
            case 7:

                input_draft.drawdown.forEach((row, i) &#x3D;&gt;{
                    let rev &#x3D; new Sequence.OneD().import(row).reverse();
                  
                    let rev_warp_sys &#x3D; new Sequence.OneD().import(input_draft.colSystemMapping).reverse();
                    let rev_warp_mats &#x3D; new Sequence.OneD().import(input_draft.colShuttleMapping).reverse();

                    if(remove_center &#x3D;&#x3D; 1){
                        rev.slice(0, row.length-1);
                        rev_warp_mats.slice(0, row.length-1);
                        rev_warp_sys.slice(0, row.length-1);
                    }
                    rev.pushRow(row);

                    if(i &#x3D;&#x3D; 0){
                        warp_mats &#x3D; rev_warp_mats.pushRow(input_draft.colShuttleMapping);
                        warp_systems &#x3D; rev_warp_sys.pushRow(input_draft.colSystemMapping);
                    }                    

                    if(remove_center &#x3D;&#x3D; 1 &amp;&amp; i &#x3D;&#x3D; 0){
                        
                        pattern.pushWeftSequence(rev.val())
                        weft_materials.push(input_draft.rowShuttleMapping[i]);
                        weft_systems.push(input_draft.rowSystemMapping[i]);

                    }else{
                        pattern.pushWeftSequence(rev.val())
                        weft_materials.push(input_draft.rowShuttleMapping[i]);
                        weft_systems.push(input_draft.rowSystemMapping[i]);

                        if(sym_mode&#x3D;&#x3D;0){

                            pattern.unshiftWeftSequence(rev.val())
                            weft_materials.unshift(input_draft.rowShuttleMapping[i]);
                            weft_systems.unshift(input_draft.rowSystemMapping[i]);
                        }

                    }
            });

            break;

            //4-way top right // 2-way - right
            case 1:
            case 4:
            case 5:
                input_draft.drawdown.forEach((row, i) &#x3D;&gt;{
                    let rev &#x3D; new Sequence.OneD().import(row).reverse();
                    let rev_warp_sys &#x3D; new Sequence.OneD().import(input_draft.colSystemMapping).reverse();
                    let rev_warp_mats &#x3D; new Sequence.OneD().import(input_draft.colShuttleMapping).reverse();

                    if(remove_center &#x3D;&#x3D; 1 &amp;&amp; (sym_mode &#x3D;&#x3D; 1 || sym_mode &#x3D;&#x3D; 5)){
                        rev.slice(1,row.length);
                        rev_warp_mats.slice(1, row.length);
                        rev_warp_sys.slice(1, row.length);
                    }

                    let seq &#x3D; new Sequence.OneD().import(row);
                    if(i &#x3D;&#x3D; 0){
                        warp_mats.import(input_draft.colShuttleMapping).pushRow(rev_warp_mats.val());
                        warp_systems.import(input_draft.colSystemMapping).pushRow(rev_warp_sys.val());
                    }   


                    if(sym_mode !&#x3D;&#x3D; 4){
                    
                        seq.pushRow(rev.val());
                        warp_mats.pushRow(rev_warp_mats.val());
                        warp_systems.pushRow(rev_warp_sys.val());
                    
                    }

                    if(remove_center &#x3D;&#x3D; 1 &amp;&amp; i &#x3D;&#x3D; 0){
                        pattern.pushWeftSequence(seq.val())
                        weft_materials.push(input_draft.rowShuttleMapping[i]);
                        weft_systems.push(input_draft.rowSystemMapping[i]);
                    }else{
                        pattern.pushWeftSequence(seq.val())
                        weft_materials.push(input_draft.rowShuttleMapping[i]);
                        weft_systems.push(input_draft.rowSystemMapping[i]);
                        if(sym_mode &#x3D;&#x3D; 1 || sym_mode &#x3D;&#x3D; 4){
                            pattern.unshiftWeftSequence(seq.val())
                            weft_materials.unshift(input_draft.rowShuttleMapping[i]);
                            weft_systems.unshift(input_draft.rowSystemMapping[i]);
                        }

                    }
            });
            
            break;
            
            //4-way bottom right, 2-way bottom 
            case 2:
            case 6:

            
                for(let i &#x3D; input_draft.drawdown.length-1; i &gt;&#x3D;0; i--){
                    let row &#x3D; input_draft.drawdown[i];
                    let rev &#x3D; new Sequence.OneD().import(row).reverse();
                    let rev_warp_sys &#x3D; new Sequence.OneD().import(input_draft.colSystemMapping).reverse();
                    let rev_warp_mats &#x3D; new Sequence.OneD().import(input_draft.colShuttleMapping).reverse();
                    
                    let seq &#x3D; new Sequence.OneD().import(row);


                    if(remove_center &#x3D;&#x3D; 1 &amp;&amp; sym_mode &#x3D;&#x3D; 2){
                        rev.slice(1, row.length);
                        rev_warp_mats.slice(1, row.length);
                        rev_warp_sys.slice(1, row.length);
                    }


                    if(sym_mode &#x3D;&#x3D; 2){
                     warp_mats.import(input_draft.colShuttleMapping).pushRow(rev_warp_mats.val());
                     warp_systems.import(input_draft.colSystemMapping).pushRow(rev_warp_sys.val());
                    }else if(i&#x3D;&#x3D;0){
                        warp_mats.import(input_draft.colShuttleMapping)
                        warp_systems.import(input_draft.colSystemMapping)
                    }

                    if(remove_center &#x3D;&#x3D; 1 &amp;&amp; i &#x3D;&#x3D; input_draft.drawdown.length-1){
                        pattern.pushWeftSequence(seq.val())
                        weft_materials.push(input_draft.rowShuttleMapping[i]);
                        weft_systems.push(input_draft.rowSystemMapping[i]);
                    }else{
                        pattern.pushWeftSequence(seq.val())
                        weft_materials.push(input_draft.rowShuttleMapping[i]);
                        weft_systems.push(input_draft.rowSystemMapping[i]);
                        pattern.unshiftWeftSequence(seq.val())
                        weft_materials.unshift(input_draft.rowShuttleMapping[i]);
                        weft_systems.unshift(input_draft.rowSystemMapping[i]);
                    }
                }
          
            break;

            //4-way bottom left
            case 3:
                for(let i &#x3D; input_draft.drawdown.length-1; i &gt;&#x3D;0; i--){
                    let row &#x3D; input_draft.drawdown[i];
                    let rev &#x3D; new Sequence.OneD().import(row).reverse();
                    let rev_warp_sys &#x3D; new Sequence.OneD().import(input_draft.colSystemMapping).reverse();
                    let rev_warp_mats &#x3D; new Sequence.OneD().import(input_draft.colShuttleMapping).reverse();

                    if(remove_center &#x3D;&#x3D; 1){
                        rev.slice(0, rev.length()-1);
                        rev_warp_mats.slice(0, rev.length()-1);
                        rev_warp_sys.slice(0, rev.length()-1);
                    }

                    console.log(&quot;IN MS&quot;, row);
                    rev.pushRow(row);
                    if(i &#x3D;&#x3D; 0){
                      rev_warp_mats.pushRow(input_draft.colShuttleMapping)
                      rev_warp_sys.pushRow(input_draft.colSystemMapping)
                    }

                    if(remove_center &#x3D;&#x3D; 1 &amp;&amp; i &#x3D;&#x3D; input_draft.drawdown.length-1){
                        pattern.pushWeftSequence(rev.val())
                        weft_materials.push(input_draft.rowShuttleMapping[i]);
                        weft_systems.push(input_draft.rowSystemMapping[i]);
                    }else{
                        pattern.pushWeftSequence(rev.val())
                        weft_materials.push(input_draft.rowShuttleMapping[i]);
                        weft_systems.push(input_draft.rowSystemMapping[i]);
                        pattern.unshiftWeftSequence(rev.val())
                        weft_materials.unshift(input_draft.rowShuttleMapping[i]);
                        weft_systems.unshift(input_draft.rowSystemMapping[i]);

                    }
                }
            


            
            break;              
          }

    


  let d &#x3D; initDraftFromDrawdown(pattern.export())
    d.colShuttleMapping &#x3D; warp_mats.val();
    d.colSystemMapping &#x3D; warp_systems.val();
    d.rowShuttleMapping &#x3D; weft_materials.val();
    d.rowSystemMapping &#x3D; weft_systems.val();
  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>TODO - make this support systems as well</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="remove_center"></a>
                    <span class="name">
                        <span ><b>remove_center</b></span>
                        <a href="#remove_center"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;remove center repeat&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &quot;center repeat kept&quot;,
    truestate: &quot;center repeat removed&quot;,
    value: 0,
    dx: &#x27;rotating drafts creates a repeated set of columns or rows extending from the center. Use this toggle to alternative the structure by either keeping or erasing those repeated cells&#x27;
    
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/cell.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createCell"></a>
                    <span class="name">
                        <span ><b>createCell</b></span>
                        <a href="#createCell"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(setting: boolean) : Cell &#x3D;&gt; {
  
  if(setting !&#x3D;&#x3D; null &amp;&amp; typeof setting !&#x3D;&#x3D; &#x27;boolean&#x27;) console.error(&quot;CREATE CELL GOT NON BOOLEAN VALUE&quot;, setting)


  let c:Cell &#x3D; {
    is_set: false,
    is_up: false
  };

  if(setting &#x3D;&#x3D;&#x3D; null || setting &#x3D;&#x3D;&#x3D; undefined){
    c.is_set &#x3D; false;
    c.is_up &#x3D; false;
  } 
  else {
    c.is_set &#x3D; true;
    c.is_up &#x3D; setting;
  }
  return c;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createCellFromSequenceVal"></a>
                    <span class="name">
                        <span ><b>createCellFromSequenceVal</b></span>
                        <a href="#createCellFromSequenceVal"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(val: number) : Cell &#x3D;&gt; {
  

  let c:Cell &#x3D; {
    is_set: false,
    is_up: false
  };

  switch(val){
    case 0:
      c.is_set &#x3D; true;
      c.is_up &#x3D; false;
      break;

    case 1: 
      c.is_set &#x3D; true;
      c.is_up &#x3D; true;
      break;

    case 2: 
      c.is_set &#x3D; false;
      c.is_up &#x3D; false;
    break;
  }
  return c;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCellValue"></a>
                    <span class="name">
                        <span ><b>getCellValue</b></span>
                        <a href="#getCellValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(c: Cell) : boolean &#x3D;&gt; {
  if(c.is_set){
    return c.is_up;
   }
   return null;
 }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setCellValue"></a>
                    <span class="name">
                        <span ><b>setCellValue</b></span>
                        <a href="#setCellValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(c: Cell, value:boolean) : Cell &#x3D;&gt; {
 if(value &#x3D;&#x3D;&#x3D; null){
   c.is_up &#x3D; false;
   c.is_set &#x3D; false;
 }else{
   c.is_up &#x3D; value;
   c.is_set &#x3D; true;
 }
 return c;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toggleHeddle"></a>
                    <span class="name">
                        <span ><b>toggleHeddle</b></span>
                        <a href="#toggleHeddle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(c:Cell) : Cell &#x3D;&gt; {
  if(!c.is_set){
    c.is_set &#x3D; true;
    c.is_up &#x3D; true;
  }else{
    c.is_up &#x3D; !c.is_up;
  }
  return c;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/material.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createMaterial"></a>
                    <span class="name">
                        <span ><b>createMaterial</b></span>
                        <a href="#createMaterial"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(matDict &#x3D; null) : Material &#x3D;&gt; {

  const m: Material &#x3D; {
    id: -1,
    name:&#x27;&#x27;,
    insert: true,
    visible: true, 
    color: &quot;#666666&quot;,
    thickness: 100,
    diameter: 5, 
    type: 0, 
    notes: &#x27;&#x27; 
  }

  if(matDict){
    m.id &#x3D; matDict.id;
    m.name &#x3D; matDict.name;
    m.insert &#x3D; matDict.insert;
    m.visible &#x3D; matDict.visible;
    m.color &#x3D; matDict.color;
    m.thickness &#x3D; matDict.thickness;
    m.diameter &#x3D; (matDict.diameter &#x3D;&#x3D;&#x3D; undefined) ? 5 : matDict.diameter;
    m.type &#x3D; matDict.type;
    if(matDict.type &#x3D;&#x3D;&#x3D; undefined) m.type &#x3D; 0;
  // this.image &#x3D; image;
    // this.startLabel &#x3D; startLabel;
    // this.endLabel &#x3D; endLabel;
    m.notes &#x3D; matDict.notes;
  }

  return m;

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setMaterialID"></a>
                    <span class="name">
                        <span ><b>setMaterialID</b></span>
                        <a href="#setMaterialID"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(m: Material, id: number) : Material &#x3D;&gt; {
  m.id &#x3D; id;
  if (!m.name) {
    m.name &#x3D; &#x27;Shuttle &#x27; + (id + 1);
  }
  return m;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="standardizeMaterialLists"></a>
                    <span class="name">
                        <span ><b>standardizeMaterialLists</b></span>
                        <a href="#standardizeMaterialLists"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(shuttles: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;Array&lt;number&gt;&gt; &#x3D;&gt; {
   
    if(shuttles.length &#x3D;&#x3D;&#x3D; 0) return [];

    const standard &#x3D; shuttles.map(el &#x3D;&gt; el.slice());

     //standardize teh lengths of all the returned arrays 
     const max_length:number &#x3D; standard.reduce((acc, el) &#x3D;&gt; {
      const len &#x3D; el.length;
      if(len &gt; acc) return len;
      else return acc;
    }, 0);


    standard.forEach((sys, ndx) &#x3D;&gt; {
      if(sys.length &lt; max_length){
        for(let i &#x3D; sys.length; i &lt; max_length; i++){
          sys.push(sys[0]);
        }
      }
    });

    return standard;
  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>given a list of material mappings, returns a list where they are all the same size,</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>
    <h3>src/app/core/model/system.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createSystem"></a>
                    <span class="name">
                        <span ><b>createSystem</b></span>
                        <a href="#createSystem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(systemDict &#x3D; null) : System &#x3D;&gt; {

  const sys &#x3D; {
    id: 0, 
    name: &#x27;system&#x27;,
    notes: &#x27;&#x27;,
    visible: true,
    in_use: true
  }

    if (systemDict){
      sys.id &#x3D; systemDict.id;
      sys.id &#x3D; systemDict.name;
      sys.id &#x3D; systemDict.notes;
      sys.id &#x3D; systemDict.visible;
    } 

    return sys;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSystemChar"></a>
                    <span class="name">
                        <span ><b>getSystemChar</b></span>
                        <a href="#getSystemChar"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(sys: System) : string &#x3D;&gt; {
     return String.fromCharCode(97 + sys.id)
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSystemCharFromId"></a>
                    <span class="name">
                        <span ><b>getSystemCharFromId</b></span>
                        <a href="#getSystemCharFromId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(id: number) : string &#x3D;&gt; {
  return String.fromCharCode(97 + id)
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeSystemsUnique"></a>
                    <span class="name">
                        <span ><b>makeSystemsUnique</b></span>
                        <a href="#makeSystemsUnique"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(systems: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;Array&lt;number&gt;&gt;  &#x3D;&gt; {
   

  if(systems.length &#x3D;&#x3D;&#x3D; 0) return [];


 const max_in_systems: Array&lt;number&gt; &#x3D; systems.map(el &#x3D;&gt; utilInstance.getArrayMax(el));

 let last_max &#x3D; 0;
 const unique_systems &#x3D; systems.map((sys, ndx) &#x3D;&gt; {
   if(ndx &gt; 0){
     last_max +&#x3D; (max_in_systems[ndx -1]+1)
     return sys.map(el &#x3D;&gt; el + last_max);
   }else{
     return sys;
   }
 });  

  //standardize teh lengths of all the returned arrays 
  const max_length:number &#x3D; unique_systems.reduce((acc, el) &#x3D;&gt; {
   const len &#x3D; el.length;
   if(len &gt; acc) return len;
   else return acc;
 }, 0);


 unique_systems.forEach((sys, ndx) &#x3D;&gt; {
   if(sys.length &lt; max_length){
     for(let i &#x3D; sys.length; i &lt; max_length; i++){
       sys.push(sys[0]);
     }
   }
 });

 return unique_systems;
}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>takes system maps and makes them all unique by adding a base value to the n+1th map. This helps when interlacing 
drafts that have different system mappings, and making sure they are each unique. 
This function will also return standard sized arrays = to the maximum sized input</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeWarpSystemsUnique"></a>
                    <span class="name">
                        <span ><b>makeWarpSystemsUnique</b></span>
                        <a href="#makeWarpSystemsUnique"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(systems: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;Array&lt;number&gt;&gt; &#x3D;&gt; {

 const unique &#x3D; makeSystemsUnique(systems);

//  unique.forEach(system &#x3D;&gt; {
//    system.forEach(el &#x3D;&gt; {
//      if(this.getWarpSystem(el) &#x3D;&#x3D;&#x3D; undefined) this.addWarpSystemFromId(el);
//    })
//  })

 return unique;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeWeftSystemsUnique"></a>
                    <span class="name">
                        <span ><b>makeWeftSystemsUnique</b></span>
                        <a href="#makeWeftSystemsUnique"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(systems: Array&lt;Array&lt;number&gt;&gt;) : Array&lt;Array&lt;number&gt;&gt; &#x3D;&gt; {

 const unique &#x3D; makeSystemsUnique(systems);

 return unique;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setSystemId"></a>
                    <span class="name">
                        <span ><b>setSystemId</b></span>
                        <a href="#setSystemId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(sys: System, id: number) : System &#x3D;&gt; {
    sys.id &#x3D; id;
    if (!sys.name) {
      sys.name &#x3D; &#x27;System &#x27; + (id + 1);
    }
    return sys;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/crop/crop.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="crop"></a>
                    <span class="name">
                        <span ><b>crop</b></span>
                        <a href="#crop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft"></a>
                    <span class="name">
                        <span ><b>draft</b></span>
                        <a href="#draft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    dx: &#x27;the draft to crop&#x27;,
    uses: &quot;draft&quot;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let r &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(r);
  return &#x27;crop(&#x27;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="height"></a>
                    <span class="name">
                        <span ><b>height</b></span>
                        <a href="#height"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;height&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 10000,
value: 10,
dx: &#x27;height of the cutting box&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;crop&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[starting_ends, staring_pics, width, height]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {

    const draft &#x3D; getInputDraft(op_inputs);
    const left &#x3D; getOpParamValById(0, op_params);
    const top &#x3D; getOpParamValById(1, op_params);
    const width &#x3D; getOpParamValById(2, op_params);
    const height &#x3D; getOpParamValById(3, op_params);


    if(draft &#x3D;&#x3D; null) return Promise.resolve([]);

    let warp_systems &#x3D; new Sequence.OneD(draft.colSystemMapping).shift(left).resize(width);
    let warp_mats &#x3D; new Sequence.OneD(draft.colShuttleMapping).shift(left).resize(width);
    let weft_systems &#x3D; new Sequence.OneD(draft.rowSystemMapping).shift(top).resize(height);
    let weft_materials &#x3D; new Sequence.OneD(draft.rowShuttleMapping).shift(top).resize(height);

    let pattern &#x3D; new Sequence.TwoD();

    //start with starting pics
    for(let i &#x3D; 0; i &lt; height; i++){

        let seq &#x3D; new Sequence.OneD();
        let adj_i &#x3D; i + top;
        if(adj_i &gt;&#x3D; wefts(draft.drawdown)){
            seq.pushMultiple(2, width);
        }else{

            let row &#x3D; (draft.drawdown[adj_i].length &gt; left) ? draft.drawdown[adj_i].slice(left) : [];
            seq.pushRow(row);
            let diff &#x3D; width - row.length;
            if(diff &gt; 0) seq.pushMultiple(2, diff);
            if(diff &lt; 0){
                seq.resize(width);
            } 
        }

        pattern.pushWeftSequence(seq.val())
      
    }


    let d &#x3D; initDraftFromDrawdown(pattern.export());
    d.colShuttleMapping &#x3D; warp_mats.val();
    d.colSystemMapping &#x3D; warp_systems.val();
    d.rowShuttleMapping &#x3D; weft_materials.val();
    d.rowSystemMapping &#x3D; weft_systems.val();


    return Promise.resolve([d]);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="staring_pics"></a>
                    <span class="name">
                        <span ><b>staring_pics</b></span>
                        <a href="#staring_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;pics from start&#x27;,
      min: 0,
      max: 10000,
      value: 0,
      type: &#x27;number&#x27;,
      dx: &#x27;number of ends from the origin to start the cut&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="starting_ends"></a>
                    <span class="name">
                        <span ><b>starting_ends</b></span>
                        <a href="#starting_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends from start&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx: &#x27;number of pics from the origin to start the cut&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="width"></a>
                    <span class="name">
                        <span ><b>width</b></span>
                        <a href="#width"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;width&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 10000,
value: 10,
dx: &#x27;total width of cutting box&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/cutout/cutout.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cutout"></a>
                    <span class="name">
                        <span ><b>cutout</b></span>
                        <a href="#cutout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_a"></a>
                    <span class="name">
                        <span ><b>draft_a</b></span>
                        <a href="#draft_a"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;a&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to cut out&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_b"></a>
                    <span class="name">
                        <span ><b>draft_b</b></span>
                        <a href="#draft_b"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;b&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the pattern you would like to use to describe the cutting&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let amt &#x3D; getOpParamValById(0, param_vals);
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;cut&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_a, draft_b]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;cutout&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[shift_ends, shift_pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft_a &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let input_draft_b &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let shift_ends &#x3D; getOpParamValById(0, op_params);
  let shift_pics &#x3D; getOpParamValById(1, op_params);

   if(input_draft_a.length &#x3D;&#x3D; 0 &amp;&amp; input_draft_b.length &#x3D;&#x3D; 0) return Promise.resolve([]);

   let draft_a &#x3D; (input_draft_a.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_a[0];
   let draft_b &#x3D; (input_draft_b.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_b[0];


    let height &#x3D; Math.max(wefts(draft_b.drawdown) + shift_pics, wefts(draft_a.drawdown));
    let width &#x3D; Math.max(warps(draft_b.drawdown) + shift_ends, warps(draft_a.drawdown));


    //offset draft b:
    let pattern_b &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; shift_pics){
            seq.pushMultiple(2, width);
        }else if(i &lt; (shift_pics + wefts(draft_b.drawdown))){
            seq.pushMultiple(2, shift_ends).pushRow(draft_b.drawdown[i-shift_pics]);
            let remaining &#x3D; width - (warps(draft_b.drawdown) + shift_ends);
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_b.pushWeftSequence(seq.val());
    }

    //make sure pattern a is the same size
    let pattern_a &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; wefts(draft_a.drawdown)){
            seq.pushRow(draft_a.drawdown[i]);
            let remaining &#x3D; width - draft_a.drawdown[i].length;
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_a.pushWeftSequence(seq.val());
    }



    let pattern &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq_a &#x3D; new Sequence.OneD(pattern_a.getWeft(i));
        let seq_b &#x3D; new Sequence.OneD(pattern_b.getWeft(i));
        seq_a.computeFilter(&#x27;cut&#x27;, seq_b);
        pattern.pushWeftSequence(seq_a.val());
    }





     let d &#x3D; initDraftFromDrawdown(pattern.export());
    d &#x3D; updateWeftSystemsAndShuttles(d, draft_a);
    d &#x3D; updateWarpSystemsAndShuttles(d, draft_a);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_ends"></a>
                    <span class="name">
                        <span ><b>shift_ends</b></span>
                        <a href="#shift_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift ends&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_pics"></a>
                    <span class="name">
                        <span ><b>shift_pics</b></span>
                        <a href="#shift_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift pics&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/defaults.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="defaults"></a>
                    <span class="name">
                        <span ><b>defaults</b></span>
                        <a href="#defaults"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    draft_detail_cell_size: 15,
    draft_detail_zoom: 1,
    draft_name: &#x27;drafty&#x27;,
    row_shuttle: 1,
    row_system: 0, 
    col_shuttle: 0, 
    col_system: 0,
    mixer_cell_size: 5,
    mixer_canvas_width: 16380,
    mixer_canvas_height: 16380,
    inlet_button_width: 50,
    weft_system_codes: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;,&#x27;f&#x27;,&#x27;g&#x27;, &#x27;h&#x27;, &#x27;i&#x27;, &#x27;j&#x27;, &#x27;k&#x27;, &#x27;l&#x27;, &#x27;m&#x27;, &#x27;n&#x27;, &#x27;o&#x27;, &#x27;p&#x27;, &#x27;q&#x27;, &#x27;r&#x27;, &#x27;s&#x27;, &#x27;t&#x27;, &#x27;u&#x27;, &#x27;v&#x27;, &#x27;w&#x27;, &#x27;x&#x27;, &#x27;y&#x27;, &#x27;z&#x27;]

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/deinterlace/deinterlace.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deinterlace"></a>
                    <span class="name">
                        <span ><b>deinterlace</b></span>
                        <a href="#deinterlace"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;drafts&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft you would like to split apart&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    let input_draft &#x3D; getInputDraft(op_inputs);
    return &quot;deinterlaced(&quot;+getDraftName(input_draft)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;deinterlace&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[split_by]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {


  let input_draft &#x3D; getInputDraft(op_inputs);
  let factor &#x3D; getOpParamValById(0, op_params);

  if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let patterns: Array&lt;Sequence.TwoD&gt; &#x3D;[];
  let drafts: Array&lt;Draft&gt; &#x3D;[];
  let row_shuttle: Array&lt;Array&lt;number&gt;&gt; &#x3D;[];
  let row_system: Array&lt;Array&lt;number&gt;&gt; &#x3D;[];

  for(let i &#x3D; 0; i &lt; factor; i++){
    patterns.push(new Sequence.TwoD());
    row_shuttle.push([]);
    row_system.push([]);
  }


  for(let i &#x3D; 0; i &lt; wefts(input_draft.drawdown); i++){

    let selected_draft_id &#x3D; i % factor;
    let row &#x3D; new Sequence.OneD([]).import(input_draft.drawdown[i]);
    patterns[selected_draft_id].pushWeftSequence(row.val());
    row_shuttle[selected_draft_id].push(input_draft.rowShuttleMapping[i])
    row_system[selected_draft_id].push(input_draft.rowSystemMapping[i])
  }

  for(let i &#x3D; 0; i &lt; factor; i++){

    let d &#x3D; initDraftFromDrawdown(patterns[i].export());
    d.rowShuttleMapping &#x3D; row_shuttle[i].slice();
    d.rowSystemMapping &#x3D; row_system[i].slice();
    d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);
    drafts.push(d);
  }



  return Promise.resolve(drafts);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="split_by"></a>
                    <span class="name">
                        <span ><b>split_by</b></span>
                        <a href="#split_by"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;factor&#x27;,
    type: &#x27;number&#x27;,
    min: 2,
    max: 500,
    value: 2,
    dx: &quot;this number determines how many times the input draft will be divided&quot;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/diff/diff.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="diff"></a>
                    <span class="name">
                        <span ><b>diff</b></span>
                        <a href="#diff"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_a"></a>
                    <span class="name">
                        <span ><b>draft_a</b></span>
                        <a href="#draft_a"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;a&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;one draft you would like to compare&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_b"></a>
                    <span class="name">
                        <span ><b>draft_b</b></span>
                        <a href="#draft_b"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;b&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;one draft you would like to compare&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let amt &#x3D; getOpParamValById(0, param_vals);
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;diff&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_a, draft_b]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;diff&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;knockout&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[shift_ends, shift_pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft_a &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let input_draft_b &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let shift_ends &#x3D; getOpParamValById(0, op_params);
  let shift_pics &#x3D; getOpParamValById(1, op_params);

   if(input_draft_a.length &#x3D;&#x3D; 0 &amp;&amp; input_draft_b.length &#x3D;&#x3D; 0) return Promise.resolve([]);

   let draft_a &#x3D; (input_draft_a.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_a[0];
   let draft_b &#x3D; (input_draft_b.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_b[0];


    let height &#x3D; Math.max(wefts(draft_b.drawdown) + shift_pics, wefts(draft_a.drawdown));
    let width &#x3D; Math.max(warps(draft_b.drawdown) + shift_ends, warps(draft_a.drawdown));


    //offset draft b:
    let pattern_b &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; shift_pics){
            seq.pushMultiple(2, width);
        }else if(i &lt; (shift_pics + wefts(draft_b.drawdown))){
            seq.pushMultiple(2, shift_ends).pushRow(draft_b.drawdown[i-shift_pics]);
            let remaining &#x3D; width - (warps(draft_b.drawdown) + shift_ends);
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_b.pushWeftSequence(seq.val());
    }

    //make sure pattern a is the same size
    let pattern_a &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; wefts(draft_a.drawdown)){
            seq.pushRow(draft_a.drawdown[i]);
            let remaining &#x3D; width - draft_a.drawdown[i].length;
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_a.pushWeftSequence(seq.val());
    }



    let pattern &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq_a &#x3D; new Sequence.OneD(pattern_a.getWeft(i));
        let seq_b &#x3D; new Sequence.OneD(pattern_b.getWeft(i));
        seq_a.computeFilter(&#x27;neq&#x27;, seq_b);
        pattern.pushWeftSequence(seq_a.val());
    }





     let d &#x3D; initDraftFromDrawdown(pattern.export());
    d &#x3D; updateWeftSystemsAndShuttles(d, draft_a);
    d &#x3D; updateWarpSystemsAndShuttles(d, draft_a);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_ends"></a>
                    <span class="name">
                        <span ><b>shift_ends</b></span>
                        <a href="#shift_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift ends&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_pics"></a>
                    <span class="name">
                        <span ><b>shift_pics</b></span>
                        <a href="#shift_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift pics&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/directdrawdown/directdrawdown.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="directdrawdown"></a>
                    <span class="name">
                        <span ><b>directdrawdown</b></span>
                        <a href="#directdrawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;drawdown(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[threading, liftplan]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="liftplan"></a>
                    <span class="name">
                        <span ><b>liftplan</b></span>
                        <a href="#liftplan"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;lift plan&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to use as tieup&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;directdrawdown&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let threading &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let lift_plan &#x3D; getAllDraftsAtInlet(op_inputs, 1);

  
  if(threading.length &#x3D;&#x3D; 0 || lift_plan.length &#x3D;&#x3D; 0) return Promise.resolve([]);

  const threading_draft &#x3D; threading[0];
  const lift_draft &#x3D; lift_plan[0];

  const threading_list: Array&lt;number&gt; &#x3D; [];
  for(let j &#x3D; 0; j &lt; warps(threading_draft.drawdown); j++){
    const col: Array&lt;Cell&gt; &#x3D; threading_draft.drawdown.reduce((acc, row, ndx) &#x3D;&gt; {
      acc[ndx] &#x3D; row[j];
      return acc;
    }, []);

    threading_list[j] &#x3D; col.findIndex(cell &#x3D;&gt; getCellValue(cell));

  }

  const treadling_list: Array&lt;Array&lt;number&gt;&gt; &#x3D;
  lift_draft.drawdown.map(row &#x3D;&gt; {
    let edited_row &#x3D; row.reduce((acc, cell, ndx) &#x3D;&gt;{
        if(getCellValue(cell) &#x3D;&#x3D;&#x3D; true) acc.push(ndx);
        return acc;
    }, [])
    return edited_row;
    }
  );

  let tieup &#x3D; [];
   for(let i &#x3D; 0; i &lt; 100; i++){
    tieup.push([])
     for(let j &#x3D; 0; j &lt; 100; j++){
        if(i&#x3D;&#x3D;j) tieup[i].push(true)
        else tieup[i].push(false)
     }
   }


  let draft: Draft &#x3D; initDraftWithParams({warps:warps(threading_draft.drawdown), wefts:wefts(lift_draft.drawdown)});


  const utils &#x3D; getLoomUtilByType(&#x27;direct&#x27;);
  const loom &#x3D; {
    threading: threading_list,
    tieup: tieup,
    treadling:treadling_list
  }



  return utils.computeDrawdownFromLoom(loom, 0).then(drawdown &#x3D;&gt; {
    draft.drawdown &#x3D; drawdown;
    draft &#x3D; updateWarpSystemsAndShuttles(draft, threading_draft)
    draft &#x3D; updateWeftSystemsAndShuttles(draft, lift_draft )
    return Promise.resolve([draft]);

  })
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="threading"></a>
                    <span class="name">
                        <span ><b>threading</b></span>
                        <a href="#threading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;threading&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to use as threading&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/margin/margin.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft"></a>
                    <span class="name">
                        <span ><b>draft</b></span>
                        <a href="#draft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to add margins to&#x27;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ending_ends"></a>
                    <span class="name">
                        <span ><b>ending_ends</b></span>
                        <a href="#ending_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;ending ends&#x27;,
      min: 0,
      max: 10000,
      value: 12,
      type: &#x27;number&#x27;,
      dx: &#x27;number of ends to add to the end of the draft&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ending_pics"></a>
                    <span class="name">
                        <span ><b>ending_pics</b></span>
                        <a href="#ending_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;ending pics&#x27;,
      min: 0,
      max: 10000,
      value: 12,
      type: &#x27;number&#x27;,
      dx: &#x27;number of pics to add to the end of the draft&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let r &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(r);
  return name_list+&quot;+margin&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft, selvedge_draft]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="margin"></a>
                    <span class="name">
                        <span ><b>margin</b></span>
                        <a href="#margin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;margin&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[starting_pics, ending_pics, starting_ends, ending_ends]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {

    const base_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    const margin_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 1);
    const starting_pics &#x3D; getOpParamValById(0, op_params);
    const ending_pics &#x3D; getOpParamValById(1, op_params);
    const starting_ends &#x3D; getOpParamValById(2, op_params);
    const ending_ends &#x3D; getOpParamValById(3, op_params);


    if(base_drafts.length &#x3D;&#x3D; 0 &amp;&amp; margin_drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);


    let complete &#x3D; new Sequence.TwoD();

    let active_draft &#x3D; (base_drafts.length &gt; 0) ?base_drafts[0] : initDraftWithParams({warps: 1, wefts: 1});

    let margin_draft &#x3D; (margin_drafts.length &gt; 0) ?margin_drafts[0] : initDraftWithParams({warps: 1, wefts: 1});
    
   

    let width &#x3D; warps(active_draft.drawdown) + starting_ends + ending_ends;

    let height &#x3D; wefts(active_draft.drawdown) + ending_pics + starting_pics;

    let warp_systems &#x3D; new Sequence.OneD(active_draft.colSystemMapping).resize(width).shift(starting_ends);

    let warp_mats &#x3D; new Sequence.OneD(active_draft.colShuttleMapping).resize(width).shift(starting_ends);

    let weft_systems &#x3D; new Sequence.OneD(active_draft.rowSystemMapping).resize(height).shift(starting_pics);

    let weft_materials &#x3D; new Sequence.OneD(active_draft.rowShuttleMapping).resize(height).shift(starting_pics);

    let pattern &#x3D; new Sequence.TwoD();

    //start with starting pics
    for(let i &#x3D; 0; i &lt; height; i++){

        let seq &#x3D; new Sequence.OneD();

        if(i &lt; starting_pics){

            seq.import(margin_draft.drawdown[i%wefts(margin_draft.drawdown)])
            .resize(width);
        }else if(i &lt; starting_pics + wefts(active_draft.drawdown)){

            //adjust the start of the margin draft so it starts at the same index as the original
            let adj_i &#x3D; i - starting_pics;

            const left_margin &#x3D; new Sequence.OneD().pushRow(margin_draft.drawdown[i%wefts(margin_draft.drawdown)])
            .resize(starting_ends);

            const center &#x3D; new Sequence.OneD().pushRow(active_draft.drawdown[adj_i%wefts(active_draft.drawdown)])

            //shift this so it sequences at the same rate as the other margin rows
            let shift_i &#x3D; (starting_ends + warps(active_draft.drawdown)) % warps(margin_draft.drawdown);

            shift_i &#x3D; warps(margin_draft.drawdown) - shift_i;

            const right_margin &#x3D; new Sequence.OneD().pushRow(margin_draft.drawdown[i%wefts(margin_draft.drawdown)])
            .resize(ending_ends).shift(shift_i);
            

            seq
            .pushRow(left_margin.val())
            .pushRow(center.val())
            .pushRow(right_margin.val());

        }else{
            seq.import(margin_draft.drawdown[i%wefts(margin_draft.drawdown)])
            .resize(width);
        }


        pattern.pushWeftSequence(seq.val())

    }



    let d &#x3D; initDraftFromDrawdown(pattern.export());
    d.colShuttleMapping &#x3D; warp_mats.val();
    d.colSystemMapping &#x3D; warp_systems.val();
    d.rowShuttleMapping &#x3D; weft_materials.val();
    d.rowSystemMapping &#x3D; weft_systems.val();



    return Promise.resolve([d]);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selvedge_draft"></a>
                    <span class="name">
                        <span ><b>selvedge_draft</b></span>
                        <a href="#selvedge_draft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;margin&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to repeat within the margins&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="starting_ends"></a>
                    <span class="name">
                        <span ><b>starting_ends</b></span>
                        <a href="#starting_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;starting ends&#x27;,
min: 0,
max: 10000,
value: 12,
type: &#x27;number&#x27;,
dx: &#x27;number of ends to add to the start of the draft&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="starting_pics"></a>
                    <span class="name">
                        <span ><b>starting_pics</b></span>
                        <a href="#starting_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;starting pics&#x27;,
min: 0,
max: 10000,
value: 12,
type: &#x27;number&#x27;,
dx: &#x27;number of pics to add to the bottom of the draft&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/selvedge/selvedge.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft"></a>
                    <span class="name">
                        <span ><b>draft</b></span>
                        <a href="#draft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;,
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &quot;the draft that will have a selvedge added&quot;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ends"></a>
                    <span class="name">
                        <span ><b>ends</b></span>
                        <a href="#ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 12,
dx: &quot;the number of ends of selvedge on each side of the cloth&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let r &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(r);
  return name_list+&quot;+selvedge&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft, selvedge_draft]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;selvedge&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[ends, right_shift]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {

    const draft &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    const sel &#x3D; getAllDraftsAtInlet(op_inputs, 1);
    const w &#x3D; getOpParamValById(0, op_params);
    const shift &#x3D; getOpParamValById(1, op_params);

    if(draft.length &#x3D;&#x3D; 0 &amp;&amp; sel.length &#x3D;&#x3D; 0) return Promise.resolve([]);

    if(draft.length &#x3D;&#x3D; 0) return Promise.resolve(sel);
    if(sel.length &#x3D;&#x3D; 0) return Promise.resolve(draft);


    let complete &#x3D; new Sequence.TwoD();
    let active_draft &#x3D; draft[0];
    let sel_draft &#x3D; sel[0];
    let sel_draft_warps &#x3D; warps(sel_draft.drawdown);
    let sel_draft_wefts &#x3D; wefts(sel_draft.drawdown);
    let warp_systems &#x3D; [];
    let warp_materials &#x3D; [];

    active_draft.drawdown.forEach((row, i) &#x3D;&gt; {
        let row_seq &#x3D; new Sequence.OneD();

        for(let j &#x3D; 0; j &lt; w; j++){
            row_seq.push(getHeddle(sel_draft.drawdown,i%sel_draft_wefts,j%sel_draft_warps))
            warp_materials.push(sel_draft.colShuttleMapping[j%sel_draft_warps]);
            warp_systems.push(sel_draft.colSystemMapping[j%sel_draft_warps]);
        }

        for(let j &#x3D; 0; j &lt; row.length; j++){
            row_seq.push(getHeddle(active_draft.drawdown,i,j))
            warp_materials.push(active_draft.colShuttleMapping[j]);
            warp_systems.push(active_draft.colSystemMapping[j]);
        }

        for(let j &#x3D; 0; j &lt; w; j++){
            row_seq.push(getHeddle(sel_draft.drawdown,(i+shift)%sel_draft_wefts,j%sel_draft_warps));
            warp_materials.push(sel_draft.colShuttleMapping[j%sel_draft_warps]);
            warp_systems.push(sel_draft.colSystemMapping[j%sel_draft_warps]);
        }

        complete.pushWeftSequence(row_seq.val());


    })

    let d &#x3D; initDraftFromDrawdown(complete.export());
    d &#x3D; updateWeftSystemsAndShuttles(d, active_draft);
    d.colShuttleMapping &#x3D; warp_materials.slice();
    d.colSystemMapping &#x3D; warp_systems.slice();


    return Promise.resolve([d]);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="right_shift"></a>
                    <span class="name">
                        <span ><b>right_shift</b></span>
                        <a href="#right_shift"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;right shift&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 100,
value: 0,
dx: &quot;the number of pics to shift the right side by to ensure the ends catch&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selvedge"></a>
                    <span class="name">
                        <span ><b>selvedge</b></span>
                        <a href="#selvedge"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="selvedge_draft"></a>
                    <span class="name">
                        <span ><b>selvedge_draft</b></span>
                        <a href="#selvedge_draft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;selvedge&#x27;,
    type: &#x27;static&#x27;,
    value: null,
    dx: &quot;the pattern to use for the selvedge&quot;,
    uses: &quot;draft&quot;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/trim/trim.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft"></a>
                    <span class="name">
                        <span ><b>draft</b></span>
                        <a href="#draft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to trim&#x27;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ending_ends"></a>
                    <span class="name">
                        <span ><b>ending_ends</b></span>
                        <a href="#ending_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends from the end&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 10000,
value: 1,
dx: &#x27;number of ends from the opposite edge of the origin to remove&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ending_pics"></a>
                    <span class="name">
                        <span ><b>ending_pics</b></span>
                        <a href="#ending_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pics from the end&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 10000,
value: 1,
dx: &#x27;number of pics from the opposite edge of the origin to remove&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let r &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(r);
  return &#x27;trim(&#x27;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;trim&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[starting_ends, staring_pics, ending_ends, ending_pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {

    const draft &#x3D; getInputDraft(op_inputs);
    const left &#x3D; getOpParamValById(0, op_params);
    const top &#x3D; getOpParamValById(1, op_params);
    const right &#x3D; getOpParamValById(2, op_params);
    const bottom &#x3D; getOpParamValById(3, op_params);


    if(draft &#x3D;&#x3D; null) return Promise.resolve([]);

    let warp_systems &#x3D; new Sequence.OneD();
    let warp_mats &#x3D;  new Sequence.OneD();
    let weft_systems &#x3D;  new Sequence.OneD();
    let weft_materials &#x3D; new Sequence.OneD();

    let pattern &#x3D; new Sequence.TwoD();

    //start with starting pics
    for(let i &#x3D; top; i &lt; wefts(draft.drawdown)-bottom; i++){

        let seq &#x3D; new Sequence.OneD();
        for(let j &#x3D; left; j &lt; warps(draft.drawdown)-right; j++){
            seq.push(getHeddle(draft.drawdown, i, j));
        }
        pattern.pushWeftSequence(seq.val());
        weft_materials.push(draft.rowShuttleMapping[i])
        weft_systems.push(draft.rowSystemMapping[i])

    }

    for(let j &#x3D; left; j &lt; warps(draft.drawdown)-right; j++){
        warp_mats.push(draft.colShuttleMapping[j])
        warp_systems.push(draft.colSystemMapping[j])
    }


    let d &#x3D; initDraftFromDrawdown(pattern.export());
    d.colShuttleMapping &#x3D; warp_mats.val();
    d.colSystemMapping &#x3D; warp_systems.val();
    d.rowShuttleMapping &#x3D; weft_materials.val();
    d.rowSystemMapping &#x3D; weft_systems.val();


    return Promise.resolve([d]);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="staring_pics"></a>
                    <span class="name">
                        <span ><b>staring_pics</b></span>
                        <a href="#staring_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;pics from start&#x27;,
      min: 0,
      max: 10000,
      value: 1,
      type: &#x27;number&#x27;,
      dx: &#x27;number of ends from the origin to start to remove&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="starting_ends"></a>
                    <span class="name">
                        <span ><b>starting_ends</b></span>
                        <a href="#starting_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends from start&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 1,
dx: &#x27;number of pics from the origin to start to remove&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="trim"></a>
                    <span class="name">
                        <span ><b>trim</b></span>
                        <a href="#trim"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/mask/mask.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_a"></a>
                    <span class="name">
                        <span ><b>draft_a</b></span>
                        <a href="#draft_a"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;a&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to like to mask&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_b"></a>
                    <span class="name">
                        <span ><b>draft_b</b></span>
                        <a href="#draft_b"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;b&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the mask you are applying to this draft&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let amt &#x3D; getOpParamValById(0, param_vals);
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;mask&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_a, draft_b]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="mask"></a>
                    <span class="name">
                        <span ><b>mask</b></span>
                        <a href="#mask"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;mask&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;mask&#x27;,&#x27;mask, (a,b) &#x3D;&gt; (a AND b)&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[shift_ends, shift_pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft_a &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let input_draft_b &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let shift_ends &#x3D; getOpParamValById(0, op_params);
  let shift_pics &#x3D; getOpParamValById(1, op_params);

   if(input_draft_a.length &#x3D;&#x3D; 0 &amp;&amp; input_draft_b.length &#x3D;&#x3D; 0) return Promise.resolve([]);

   let draft_a &#x3D; (input_draft_a.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_a[0];
   let draft_b &#x3D; (input_draft_b.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_b[0];


    let height &#x3D; Math.max(wefts(draft_b.drawdown) + shift_pics, wefts(draft_a.drawdown));
    let width &#x3D; Math.max(warps(draft_b.drawdown) + shift_ends, warps(draft_a.drawdown));


    //offset draft b:
    let pattern_b &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; shift_pics){
            seq.pushMultiple(2, width);
        }else if(i &lt; (shift_pics + wefts(draft_b.drawdown))){
            seq.pushMultiple(2, shift_ends).pushRow(draft_b.drawdown[i-shift_pics]);
            let remaining &#x3D; width - (warps(draft_b.drawdown) + shift_ends);
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_b.pushWeftSequence(seq.val());
    }

    //make sure pattern a is the same size
    let pattern_a &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; wefts(draft_a.drawdown)){
            seq.pushRow(draft_a.drawdown[i]);
            let remaining &#x3D; width - draft_a.drawdown[i].length;
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_a.pushWeftSequence(seq.val());
    }



    let pattern &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq_a &#x3D; new Sequence.OneD(pattern_a.getWeft(i));
        let seq_b &#x3D; new Sequence.OneD(pattern_b.getWeft(i));
        seq_a.computeFilter(&#x27;and&#x27;, seq_b);
        pattern.pushWeftSequence(seq_a.val());
    }





     let d &#x3D; initDraftFromDrawdown(pattern.export());
    d &#x3D; updateWeftSystemsAndShuttles(d, draft_a);
    d &#x3D; updateWarpSystemsAndShuttles(d, draft_a);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_ends"></a>
                    <span class="name">
                        <span ><b>shift_ends</b></span>
                        <a href="#shift_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift ends&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_pics"></a>
                    <span class="name">
                        <span ><b>shift_pics</b></span>
                        <a href="#shift_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift pics&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/overlay/overlay.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_a"></a>
                    <span class="name">
                        <span ><b>draft_a</b></span>
                        <a href="#draft_a"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;a&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to overlay another onto&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_b"></a>
                    <span class="name">
                        <span ><b>draft_b</b></span>
                        <a href="#draft_b"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;b&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft you would like to overlay onto the base&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let amt &#x3D; getOpParamValById(0, param_vals);
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;overlay&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_a, draft_b]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;overlay&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;overlay&#x27;,&#x27;overlay, (a,b) &#x3D;&gt; (a OR b)&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="overlay"></a>
                    <span class="name">
                        <span ><b>overlay</b></span>
                        <a href="#overlay"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[shift_ends, shift_pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft_a &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let input_draft_b &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let shift_ends &#x3D; getOpParamValById(0, op_params);
  let shift_pics &#x3D; getOpParamValById(1, op_params);

   if(input_draft_a.length &#x3D;&#x3D; 0 &amp;&amp; input_draft_b.length &#x3D;&#x3D; 0) return Promise.resolve([]);

   let draft_a &#x3D; (input_draft_a.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_a[0];
   let draft_b &#x3D; (input_draft_b.length &#x3D;&#x3D; 0) ? initDraftFromDrawdown([[createCell(null)]]) : input_draft_b[0];


    let height &#x3D; Math.max(wefts(draft_b.drawdown) + shift_pics, wefts(draft_a.drawdown));
    let width &#x3D; Math.max(warps(draft_b.drawdown) + shift_ends, warps(draft_a.drawdown));


    //offset draft b:
    let pattern_b &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; shift_pics){
            seq.pushMultiple(2, width);
        }else if(i &lt; (shift_pics + wefts(draft_b.drawdown))){
            seq.pushMultiple(2, shift_ends).pushRow(draft_b.drawdown[i-shift_pics]);
            let remaining &#x3D; width - (warps(draft_b.drawdown) + shift_ends);
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_b.pushWeftSequence(seq.val());
    }

    //make sure pattern a is the same size
    let pattern_a &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq &#x3D; new Sequence.OneD();
        if(i &lt; wefts(draft_a.drawdown)){
            seq.pushRow(draft_a.drawdown[i]);
            let remaining &#x3D; width - draft_a.drawdown[i].length;
            if(remaining &gt; 0) seq.pushMultiple(2, remaining);
        }else{
            seq.pushMultiple(2, width);
        }
        pattern_a.pushWeftSequence(seq.val());
    }



    let pattern &#x3D; new Sequence.TwoD();
    for(let i &#x3D; 0; i &lt; height; i++ ){
        let seq_a &#x3D; new Sequence.OneD(pattern_a.getWeft(i));
        let seq_b &#x3D; new Sequence.OneD(pattern_b.getWeft(i));
        seq_a.computeFilter(&#x27;or&#x27;, seq_b);
        pattern.pushWeftSequence(seq_a.val());
    }





     let d &#x3D; initDraftFromDrawdown(pattern.export());
    d &#x3D; updateWeftSystemsAndShuttles(d, draft_a);
    d &#x3D; updateWarpSystemsAndShuttles(d, draft_a);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_ends"></a>
                    <span class="name">
                        <span ><b>shift_ends</b></span>
                        <a href="#shift_ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift ends&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_pics"></a>
                    <span class="name">
                        <span ><b>shift_pics</b></span>
                        <a href="#shift_pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift pics&#x27;,
type: &#x27;number&#x27;,
min: 0,
max: 10000,
value: 0,
dx:&#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/erase_blank/erase_blank.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
      type: &#x27;static&#x27;,
      value: null,
      uses: &quot;draft&quot;,
      dx: &#x27;the draft to erase blank rows from&#x27;,
      num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="erase_blank"></a>
                    <span class="name">
                        <span ><b>erase_blank</b></span>
                        <a href="#erase_blank"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;eraseblank(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;erase blank rows&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
   
  if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let pattern &#x3D; new Sequence.TwoD();
   let weft_sys &#x3D; new Sequence.OneD();
   let weft_mats &#x3D; new Sequence.OneD();


 input_draft.drawdown.forEach((row, i) &#x3D;&gt; {
    let seq &#x3D; new Sequence.OneD().import(row);
    if(!utilInstance.hasOnlyUnset(row)){
        pattern.pushWeftSequence(seq.val());
        weft_sys.push(input_draft.rowSystemMapping[i])
        weft_mats.push(input_draft.rowShuttleMapping[i])
    } 

 })


 



  let d &#x3D; initDraftFromDrawdown(pattern.export());

  d.rowShuttleMapping &#x3D; weft_mats.val();
  d.rowSystemMapping &#x3D; weft_sys.val();
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/flip/flip.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
      type: &#x27;static&#x27;,
      value: null,
      uses: &quot;draft&quot;,
      dx: &#x27;the draft to flip horizontally&#x27;,
      num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flip"></a>
                    <span class="name">
                        <span ><b>flip</b></span>
                        <a href="#flip"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;flip(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="horiz"></a>
                    <span class="name">
                        <span ><b>horiz</b></span>
                        <a href="#horiz"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;horiz&#x27;,
        type: &#x27;boolean&#x27;,
        falsestate: &#x27;no&#x27;,
        truestate: &#x27;yes&#x27;,
        value: 0,
        dx: &#x27;&#x27;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;flip&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[horiz, vert]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);

   if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);


   let weft_systems &#x3D; new Sequence.OneD(input_draft.rowSystemMapping);
   let weft_materials &#x3D; new Sequence.OneD(input_draft.rowShuttleMapping);
   let warp_systems &#x3D; new Sequence.OneD(input_draft.colSystemMapping);
   let warp_mats &#x3D; new Sequence.OneD(input_draft.colShuttleMapping);
 

  let pattern &#x3D; new Sequence.TwoD();
  let horiz &#x3D; getOpParamValById(0, op_params);
  let vert &#x3D; getOpParamValById(1, op_params);

  if(horiz){
  warp_systems.reverse();
  warp_mats.reverse();

    input_draft.drawdown.forEach(row &#x3D;&gt; {
        let seq &#x3D; new Sequence.OneD().import(row).reverse().val();
        pattern.pushWeftSequence(seq);
    })
  }else{
    pattern.import(input_draft.drawdown);
  }

  let next_pattern &#x3D; new Sequence.TwoD();


  if(vert){
   weft_systems.reverse();
   weft_materials.reverse();

    for(let j  &#x3D;0; j &lt; warps(input_draft.drawdown);j++){
    let col &#x3D; pattern.getWarp(j);
    let seq &#x3D; new Sequence.OneD().import(col).reverse();
    next_pattern.pushWarpSequence(seq.val());
    }
  }else{
    next_pattern.import(pattern.export());
  }



  let d &#x3D; initDraftFromDrawdown(next_pattern.export());
  d.colShuttleMapping &#x3D; warp_mats.val();
  d.colSystemMapping &#x3D; warp_systems.val();
  d.rowShuttleMapping &#x3D; weft_materials.val();
  d.rowSystemMapping &#x3D; weft_systems.val();



  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="vert"></a>
                    <span class="name">
                        <span ><b>vert</b></span>
                        <a href="#vert"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;vert&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &quot;no&quot;,
    truestate: &quot;yes&quot;,
    value: 0,
    dx: &#x27;&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/flipx/flipx.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
      type: &#x27;static&#x27;,
      value: null,
      uses: &quot;draft&quot;,
      dx: &#x27;the draft to flip horizontally&#x27;,
      num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipx"></a>
                    <span class="name">
                        <span ><b>flipx</b></span>
                        <a href="#flipx"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;flipx(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;flip horiz&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
   if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let pattern &#x3D; new Sequence.TwoD();

  input_draft.drawdown.forEach(row &#x3D;&gt; {
    let seq &#x3D; new Sequence.OneD().import(row).reverse().val();
    pattern.pushWeftSequence(seq);
  })

  let d &#x3D; initDraftFromDrawdown(pattern.export());
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/flipy/flipy.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
      type: &#x27;static&#x27;,
      value: null,
      uses: &quot;draft&quot;,
      dx: &#x27;the draft to flip vertically&#x27;,
      num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="flipy"></a>
                    <span class="name">
                        <span ><b>flipy</b></span>
                        <a href="#flipy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;flipy(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;flip vert&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
   if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let pattern &#x3D; new Sequence.TwoD();

  for(let j &#x3D; 0; j &lt; warps(input_draft.drawdown); j++){
    const col &#x3D; getCol(input_draft.drawdown, j);
    let seq &#x3D; new Sequence.OneD().import(col).reverse().val();
    pattern.pushWarpSequence(seq);

  }


  let d &#x3D; initDraftFromDrawdown(pattern.export());
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/interlace/interlace.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;drafts&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to interlace&#x27;,
    num_drafts: -1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(drafts);
  return &quot;interlace(&quot;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet, warp_systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="interlace"></a>
                    <span class="name">
                        <span ><b>interlace</b></span>
                        <a href="#interlace"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;interlace&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[repeats]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {


  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let systems &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let repeat &#x3D; getOpParamValById(0, op_params);

  if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);


  let total_wefts &#x3D; utilInstance.lcm(drafts.map(el &#x3D;&gt; wefts(el.drawdown)))*drafts.length;

    let total_warps;
    if(repeat){
        total_warps  &#x3D; utilInstance.lcm(drafts.map(el &#x3D;&gt; warps(el.drawdown)));
    }else{
        total_warps &#x3D; utilInstance.getMaxWarps(drafts);
    }

  
  let pattern &#x3D; new Sequence.TwoD();
  let weft_systems: Array&lt;number&gt; &#x3D; [];
  let weft_shuttles: Array&lt;number&gt; &#x3D; [];

  for(let i &#x3D; 0; i &lt; total_wefts; i++){

    let selected_draft_id &#x3D; i % drafts.length;
    let within_draft_i &#x3D; Math.floor(i / drafts.length);
    let selected_draft &#x3D; drafts[selected_draft_id];

    if(repeat || within_draft_i &lt; wefts(selected_draft.drawdown)){

        let selected_draft &#x3D; drafts[selected_draft_id];
        let modulated_id &#x3D; within_draft_i % wefts(selected_draft.drawdown);
        let row &#x3D; new Sequence.OneD().import(selected_draft.drawdown[modulated_id]);
        
        if(repeat) row.resize(total_warps);
        else row.padTo(total_warps);

        pattern.pushWeftSequence(row.val());
        weft_systems.push(selected_draft.rowSystemMapping[modulated_id]);
        weft_shuttles.push(selected_draft.rowShuttleMapping[modulated_id]);
    }
  }

let d &#x3D; initDraftFromDrawdown(pattern.export());
d.rowShuttleMapping &#x3D; weft_shuttles;
d.rowSystemMapping &#x3D; weft_systems;
if(systems.length &gt; 0) d &#x3D; updateWarpSystemsAndShuttles(d, systems[0]);



  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="repeats"></a>
                    <span class="name">
                        <span ><b>repeats</b></span>
                        <a href="#repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;calculate repeats&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &#x27;do not repeat inputs to match size&#x27;,
    truestate: &#x27;repeat inputs to match size&#x27;,
    value: 1,
    dx: &quot;controls if the inputs are intelaced in the exact format sumitted or repeated to fill evenly&quot;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warp_systems"></a>
                    <span class="name">
                        <span ><b>warp_systems</b></span>
                        <a href="#warp_systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;warp system map&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;warp-data&quot;,
    dx: &#x27;if you would like to specify the warp system or materials, you can do so by adding a draft here&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/interlace_warps/interlace_warps.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;drafts&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to interlace&#x27;,
    num_drafts: -1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(drafts);
  return &quot;interlace warps(&quot;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet, weft_systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="interlacewarps"></a>
                    <span class="name">
                        <span ><b>interlacewarps</b></span>
                        <a href="#interlacewarps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;interlacewarps&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;interlace_warps&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[repeats]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {


  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let systems &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let repeat &#x3D; getOpParamValById(0, op_params);

  if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);


  let total_warps &#x3D; utilInstance.lcm(drafts.map(el &#x3D;&gt; warps(el.drawdown)))*drafts.length;

    let total_wefts;
    if(repeat){
        total_wefts  &#x3D; utilInstance.lcm(drafts.map(el &#x3D;&gt; wefts(el.drawdown)));
    }else{
        total_wefts &#x3D; utilInstance.getMaxWefts(drafts);
    }

  
  let pattern &#x3D; new Sequence.TwoD();
  let warp_systems: Array&lt;number&gt; &#x3D; [];
  let warp_shuttles: Array&lt;number&gt; &#x3D; [];

  for(let j &#x3D; 0; j &lt; total_warps; j++){

    let selected_draft_id &#x3D; j % drafts.length;
    let within_draft_j &#x3D; Math.floor(j / drafts.length);
    let selected_draft &#x3D; drafts[selected_draft_id];

    if(repeat || within_draft_j &lt; warps(selected_draft.drawdown)){

        let selected_draft &#x3D; drafts[selected_draft_id];
        let modulated_id &#x3D; within_draft_j % warps(selected_draft.drawdown);
        let col &#x3D; new Sequence.OneD().import(getCol(selected_draft.drawdown,modulated_id));
        
        if(repeat) col.resize(total_wefts);
        else col.padTo(total_wefts);

        pattern.pushWarpSequence(col.val());
        warp_systems.push(selected_draft.colSystemMapping[modulated_id]);
        warp_shuttles.push(selected_draft.colShuttleMapping[modulated_id]);
    }
  }

let d &#x3D; initDraftFromDrawdown(pattern.export());
d.colShuttleMapping &#x3D; warp_shuttles;
d.colSystemMapping &#x3D; warp_systems;
if(systems.length &gt; 0) d &#x3D; updateWeftSystemsAndShuttles(d, systems[0]);



  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="repeats"></a>
                    <span class="name">
                        <span ><b>repeats</b></span>
                        <a href="#repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;calculate repeats&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &#x27;do not repeat inputs to match size&#x27;,
    truestate: &#x27;repeat inputs to match size&#x27;,
    value: 1,
    dx: &quot;controls if the inputs are intelaced in the exact format sumitted or repeated to fill evenly&quot;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weft_systems"></a>
                    <span class="name">
                        <span ><b>weft_systems</b></span>
                        <a href="#weft_systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;weft system map&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;weft-data&quot;,
    dx: &#x27;if you would like to specify the weft system or materials, you can do so by adding a draft here&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/joinleft/joinleft.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to join horizontally&#x27;,
    num_drafts: -1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(drafts);
  return &quot;join left(&quot;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet, weft_data]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="joinleft"></a>
                    <span class="name">
                        <span ><b>joinleft</b></span>
                        <a href="#joinleft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;join left&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[repeats]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {


  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let weftdata &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let factor_in_repeats &#x3D; getOpParamValById(0, op_params);

  if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);

  let total_wefts: number &#x3D; 0;
  const all_wefts &#x3D; drafts.map(el &#x3D;&gt; wefts(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
  if(factor_in_repeats &#x3D;&#x3D;&#x3D; 1) total_wefts &#x3D; utilInstance.lcm(all_wefts);
  else  total_wefts &#x3D; utilInstance.getMaxWefts(drafts);

  let pattern &#x3D; new Sequence.TwoD();

  for(let i &#x3D; 0; i &lt; total_wefts; i++){

    let seq &#x3D; new Sequence.OneD();
    drafts.forEach(draft &#x3D;&gt; {
        for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
            seq.push(getHeddle(draft.drawdown, i%wefts(draft.drawdown), j))
        }
    })
    pattern.pushWeftSequence(seq.val());
  }


  let d: Draft &#x3D; initDraftFromDrawdown(pattern.export());

  let warp_mats &#x3D; new Sequence.OneD();
  let warp_sys &#x3D; new Sequence.OneD();



  drafts.forEach(draft &#x3D;&gt; {
    for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
        warp_mats.push(draft.colShuttleMapping[j]);
        warp_sys.push(draft.colSystemMapping[j]);
    }
  })

  d.colShuttleMapping &#x3D; warp_mats.resize(warps(d.drawdown)).val();

  d.colSystemMapping &#x3D; warp_sys.resize(warps(d.drawdown)).val();

  if(weftdata.length &gt; 0){
    d.rowShuttleMapping &#x3D; new Sequence.OneD().import(weftdata[0].rowShuttleMapping).resize(wefts(d.drawdown)).val();

    d.rowSystemMapping &#x3D; new Sequence.OneD().import(weftdata[0].rowSystemMapping).resize(wefts(d.drawdown)).val();

  }else{

    d.rowShuttleMapping &#x3D; new Sequence.OneD().import(drafts[0].rowShuttleMapping).resize(wefts(d.drawdown)).val();

    d.rowSystemMapping &#x3D; new Sequence.OneD().import(drafts[0].rowSystemMapping).resize(wefts(d.drawdown)).val();

  }


  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="repeats"></a>
                    <span class="name">
                        <span ><b>repeats</b></span>
                        <a href="#repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;calculate repeats&#x27;,
type: &#x27;boolean&#x27;,
falsestate: &#x27;do not repeat inputs to match size&#x27;,
truestate: &#x27;repeat inputs to match size&#x27;,
value: 1,
dx: &quot;controls if the inputs are repeated along the height so they repeat in even intervals&quot;}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weft_data"></a>
                    <span class="name">
                        <span ><b>weft_data</b></span>
                        <a href="#weft_data"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;weft pattern&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;weft-data&quot;,
    dx: &#x27;optional, define a custom weft material or system pattern here&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/jointop/jointop.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to join horizontally&#x27;,
    num_drafts: -1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(drafts);
  return &quot;join top(&quot;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet, warp_data]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="jointop"></a>
                    <span class="name">
                        <span ><b>jointop</b></span>
                        <a href="#jointop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;join top&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[repeats]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {


  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let warpdata &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let factor_in_repeats &#x3D; getOpParamValById(0, op_params);

  if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);

  let total_warps: number &#x3D; 0;
  const all_warps &#x3D; drafts.map(el &#x3D;&gt; warps(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
  if(factor_in_repeats &#x3D;&#x3D;&#x3D; 1) total_warps &#x3D; utilInstance.lcm(all_warps);
  else  total_warps &#x3D; utilInstance.getMaxWarps(drafts);

  let pattern &#x3D; new Sequence.TwoD();

  for(let j &#x3D; 0; j &lt; total_warps; j++){

    let seq &#x3D; new Sequence.OneD();
    drafts.forEach(draft &#x3D;&gt; {

        let col &#x3D; getCol(draft.drawdown, j%warps(draft.drawdown));
        for(let i &#x3D; 0; i &lt; wefts(draft.drawdown); i++){
            seq.push(getCellValue(col[i]));
        }
    })
    pattern.pushWarpSequence(seq.val());
  }


  let d: Draft &#x3D; initDraftFromDrawdown(pattern.export());

  let weft_mats &#x3D; new Sequence.OneD();
  let weft_sys &#x3D; new Sequence.OneD();



  drafts.forEach(draft &#x3D;&gt; {
    for(let i &#x3D; 0; i &lt; wefts(draft.drawdown); i++){
        weft_mats.push(draft.rowShuttleMapping[i]);
        weft_sys.push(draft.rowSystemMapping[i]);
    }
  })

  d.rowShuttleMapping &#x3D; weft_mats.resize(wefts(d.drawdown)).val();

  d.rowSystemMapping &#x3D; weft_sys.resize(wefts(d.drawdown)).val();

  if(warpdata.length &gt; 0){
    d.colShuttleMapping &#x3D; new Sequence.OneD().import(warpdata[0].colShuttleMapping).resize(warps(d.drawdown)).val();

    d.colSystemMapping &#x3D; new Sequence.OneD().import(warpdata[0].colSystemMapping).resize(warps(d.drawdown)).val();

  }else{

    d.colShuttleMapping &#x3D; new Sequence.OneD().import(drafts[0].colShuttleMapping).resize(warps(d.drawdown)).val();

    d.colSystemMapping &#x3D; new Sequence.OneD().import(drafts[0].colSystemMapping).resize(warps(d.drawdown)).val();

  }


  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="repeats"></a>
                    <span class="name">
                        <span ><b>repeats</b></span>
                        <a href="#repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;calculate repeats&#x27;,
type: &#x27;boolean&#x27;,
falsestate: &#x27;do not repeat inputs to match size&#x27;,
truestate: &#x27;repeat inputs to match size&#x27;,
value: 1,
dx: &quot;controls if the inputs are repeated along the width so they repeat in even intervals&quot;}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warp_data"></a>
                    <span class="name">
                        <span ><b>warp_data</b></span>
                        <a href="#warp_data"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;warp pattern&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;warp-data&quot;,
    dx: &#x27;optional, define a custom warp material or system pattern here&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/layer/layer.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;drafts&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the drafts to layer (from top to bottom)&#x27;,
    num_drafts: -1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let name_list &#x3D; parseDraftNames(drafts);
  return &quot;layer(&quot;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="layer"></a>
                    <span class="name">
                        <span ><b>layer</b></span>
                        <a href="#layer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;layer&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {


  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);

  if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);


    //create a default system mapping that assumes alternating weft and warp systems associated with each layer
   let sys_seq &#x3D; new Sequence.OneD();
   for(let i &#x3D; 0; i &lt; drafts.length; i++){
    sys_seq.push(i);
   }

   let composite &#x3D; new Sequence.TwoD().setBlank(2
    );
   drafts.forEach((draft, ndx) &#x3D;&gt; {
    let seq &#x3D; new Sequence.TwoD().import(draft.drawdown);
    seq.mapToSystems([ndx], [ndx], sys_seq, sys_seq);
    composite.overlay(seq, false);
   })

   let system_layer_map &#x3D; sys_seq.val().map(el &#x3D;&gt; {return {ws: el, layer: el}});
   composite.layerSystems(system_layer_map, sys_seq);


    let d: Draft &#x3D; initDraftFromDrawdown(composite.export());
    d.colSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, sys_seq.val(),&#x27;col&#x27;, 3);
    d.rowSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, sys_seq.val(),&#x27;row&#x27;, 3);



  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/rect/rect.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;input draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft with which you would like to fill this rectangle&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ends"></a>
                    <span class="name">
                        <span ><b>ends</b></span>
                        <a href="#ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 500,
    value: 10,
    dx: &quot;&quot;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;rect(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;rectangle&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[ends, pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let w &#x3D; getOpParamValById(0, op_params);
  let h &#x3D; getOpParamValById(1, op_params);

  let seq &#x3D; new Sequence.TwoD();
  if(input_draft !&#x3D;&#x3D; null) seq.import(input_draft.drawdown);
  else seq.setBlank();

  let dd: Drawdown &#x3D; seq.fill(w,h).export();
  let d &#x3D; initDraftFromDrawdown(dd);
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pics"></a>
                    <span class="name">
                        <span ><b>pics</b></span>
                        <a href="#pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pics&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 500,
    value: 10,
    dx: &quot;&quot;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="rect"></a>
                    <span class="name">
                        <span ><b>rect</b></span>
                        <a href="#rect"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/resize/resize.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    dx: &#x27;the draft to resize&#x27;,
    uses: &quot;draft&quot;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ends"></a>
                    <span class="name">
                        <span ><b>ends</b></span>
                        <a href="#ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 10000,
value: 100,
dx: &#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;resize(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;resize&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[ends, pics]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {


  let input &#x3D; getInputDraft(op_inputs);
   if(input &#x3D;&#x3D; null) return Promise.resolve([]);


  let ends &#x3D; getOpParamValById(0, op_params);
  let pics &#x3D; getOpParamValById(1, op_params);

  const weft_factor &#x3D; wefts(input.drawdown) / pics ;
  const warp_factor &#x3D; warps(input.drawdown) / ends;

  let pattern &#x3D; new Sequence.TwoD();

  let weft_mats &#x3D; new Sequence.OneD();
  let weft_sys &#x3D; new Sequence.OneD();
  let warp_mats &#x3D; new Sequence.OneD();
  let warp_sys &#x3D; new Sequence.OneD();

   for(let i &#x3D; 0; i &lt; pics; i++){
    let seq &#x3D; new Sequence.OneD();
    let adj_i &#x3D; Math.floor(i*weft_factor);
    weft_mats.push(input.rowShuttleMapping[adj_i]);
    weft_sys.push(input.rowSystemMapping[adj_i]);

    for(let j&#x3D;0; j &lt; ends; j++){
        let adj_j &#x3D; Math.floor(j*warp_factor);
        seq.push(getHeddle(input.drawdown, adj_i, adj_j));
    }
    pattern.pushWeftSequence(seq.val());

   }
    
    for(let j&#x3D;0; j &lt; ends; j++){
        let adj_j &#x3D; Math.floor(j*warp_factor);
        warp_mats.push(input.colShuttleMapping[adj_j]);
        warp_sys.push(input.colSystemMapping[adj_j]);
    }




  let d &#x3D; initDraftFromDrawdown(pattern.export());
  d.colShuttleMapping &#x3D; warp_mats.val();
  d.colSystemMapping &#x3D; warp_sys.val();
  d.rowShuttleMapping &#x3D; weft_mats.val();
  d.rowSystemMapping &#x3D; weft_sys.val();

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pics"></a>
                    <span class="name">
                        <span ><b>pics</b></span>
                        <a href="#pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;pics&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 10000,
    value: 100,
    dx: &#x27;number of wefts to resize to&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resize"></a>
                    <span class="name">
                        <span ><b>resize</b></span>
                        <a href="#resize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/set/set.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;input draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    dx: &#x27;the draft you would like to modify&#x27;,
    uses: &quot;draft&quot;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;set unset interlacements(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="liftlower"></a>
                    <span class="name">
                        <span ><b>liftlower</b></span>
                        <a href="#liftlower"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;lift/lower&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &#x27;unset to warp lift&#x27;,
    truestate: &#x27;unset to warp lower&#x27;,
    value: 1,
    dx: &#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;set unset&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;unset&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[liftlower]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let set_up &#x3D; getOpParamValById(0, op_params);
  if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

    let pattern &#x3D; new Sequence.TwoD();

    input_draft.drawdown.forEach(row &#x3D;&gt;{
        let set &#x3D; row.map(el &#x3D;&gt; {
            if(!el.is_set){
                if(set_up &#x3D;&#x3D; 1) return createCell(false);
                else return createCell(true);
            } 
            return el;
        })

        pattern.pushWeftSequence(new Sequence.OneD().import(set).val())
    })


  let d &#x3D; initDraftFromDrawdown(pattern.export())
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="set"></a>
                    <span class="name">
                        <span ><b>set</b></span>
                        <a href="#set"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/stretch/stretch.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to stretch&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;stretch(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;stretch&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[warp_repeats, weft_repeats]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {


  let input_draft &#x3D; getInputDraft(op_inputs);
   if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);


  let warp_rep &#x3D; getOpParamValById(0, op_params);
  let weft_rep &#x3D; getOpParamValById(1, op_params);
  let weft_mats &#x3D; new Sequence.OneD();
  let weft_sys &#x3D; new Sequence.OneD();
  let warp_mats &#x3D; new Sequence.OneD();
  let warp_sys &#x3D; new Sequence.OneD();
  let pattern &#x3D; new Sequence.TwoD();

  input_draft.drawdown.forEach((row, i) &#x3D;&gt; {
    let seq &#x3D; new Sequence.OneD();
    row.forEach((cell, j) &#x3D;&gt; {
        seq.pushMultiple(getCellValue(cell), warp_rep);
        if(i &#x3D;&#x3D; 0){
            warp_mats.push(input_draft.colShuttleMapping[j]);
            warp_sys.push(input_draft.colSystemMapping[j]);
        }
    
    });

    for(let r &#x3D; 0; r &lt; weft_rep; r++){
        weft_mats.push(input_draft.rowShuttleMapping[i]);
        weft_sys.push(input_draft.rowSystemMapping[i]);
        pattern.pushWeftSequence(seq.val());
    }

  })


  let d &#x3D; initDraftFromDrawdown(pattern.export());
  d.colShuttleMapping &#x3D; warp_mats.val();
  d.colSystemMapping &#x3D; warp_sys.val();
  d.rowShuttleMapping &#x3D; weft_mats.val();
  d.rowSystemMapping &#x3D; weft_sys.val();


  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stretch"></a>
                    <span class="name">
                        <span ><b>stretch</b></span>
                        <a href="#stretch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warp_repeats"></a>
                    <span class="name">
                        <span ><b>warp_repeats</b></span>
                        <a href="#warp_repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warp-repeats&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 2,
dx: &#x27;number of times to repeat each warp end&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weft_repeats"></a>
                    <span class="name">
                        <span ><b>weft_repeats</b></span>
                        <a href="#weft_repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;weft-repeats&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 2,
dx: &#x27;number of times to repeat each weft pic&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/tile/tile.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to tile&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;tile(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;tile&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[warp_repeats, weft_repeats]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {


  let input_draft &#x3D; getInputDraft(op_inputs);
   if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);


  let warp_rep &#x3D; getOpParamValById(0, op_params);
  let weft_rep &#x3D; getOpParamValById(1, op_params);

  const w &#x3D; warp_rep * warps(input_draft.drawdown);
  const h &#x3D; weft_rep * wefts(input_draft.drawdown);

  let seq &#x3D; new Sequence.TwoD();
  seq.import(input_draft.drawdown);

  let dd: Drawdown &#x3D; seq.fill(w,h).export();
  let d &#x3D; initDraftFromDrawdown(dd);
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tile"></a>
                    <span class="name">
                        <span ><b>tile</b></span>
                        <a href="#tile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warp_repeats"></a>
                    <span class="name">
                        <span ><b>warp_repeats</b></span>
                        <a href="#warp_repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warp-repeats&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 2,
dx: &#x27;the number of times to repeat this time across the width&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weft_repeats"></a>
                    <span class="name">
                        <span ><b>weft_repeats</b></span>
                        <a href="#weft_repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;weft-repeats&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 2,
dx: &#x27;the number of times to repeat this time across the length&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/unset/unset.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_inlet"></a>
                    <span class="name">
                        <span ><b>draft_inlet</b></span>
                        <a href="#draft_inlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;input draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft you would like to modify&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;set interlacements to unset(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_inlet]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="liftlower"></a>
                    <span class="name">
                        <span ><b>liftlower</b></span>
                        <a href="#liftlower"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;raised/lowered&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &#x27;warp raised to unset&#x27;,
    truestate: &#x27;warp lowered to unset&#x27;,
    value: 1,
    dx:&quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;set down to unset&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&#x27;set&#x27;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[liftlower]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let input_draft &#x3D; getInputDraft(op_inputs);
  let set_up &#x3D; getOpParamValById(0, op_params);
  if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);

    let pattern &#x3D; new Sequence.TwoD();

    input_draft.drawdown.forEach(row &#x3D;&gt;{
        let set &#x3D; row.map(el &#x3D;&gt; {
            if(el.is_set){
                if(el.is_up &amp;&amp; set_up&#x3D;&#x3D;0) return createCell(null);
                else if(!el.is_up &amp;&amp; set_up&#x3D;&#x3D;1) return createCell(null);
            } 
            return el;
        })

        pattern.pushWeftSequence(new Sequence.OneD().import(set).val())
    })


  let d &#x3D; initDraftFromDrawdown(pattern.export())
  d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
  d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unset"></a>
                    <span class="name">
                        <span ><b>unset</b></span>
                        <a href="#unset"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/slope/slope.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_input"></a>
                    <span class="name">
                        <span ><b>draft_input</b></span>
                        <a href="#draft_input"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to slope&#x27;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="end_shift"></a>
                    <span class="name">
                        <span ><b>end_shift</b></span>
                        <a href="#end_shift"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;end shift&#x27;,
    type: &#x27;number&#x27;,
    min: -100,
    max: 100,
    value: 1,
    dx: &#x27;the amount to shift rows by&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    const end_shift: number &#x3D; getOpParamValById(0, param_vals);
    const pic_shift: number &#x3D; getOpParamValById(1, param_vals);
  return &#x27;slope&#x27;+pic_shift+&quot;/&quot;+end_shift;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_input]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;slope&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[end_shift, pic_shift]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const end_shift: number &#x3D; getOpParamValById(0, param_vals);
      const pic_shift: number &#x3D; getOpParamValById(1, param_vals);

      const drafts: Array&lt;Draft&gt; &#x3D; getAllDraftsAtInlet(op_inputs, 0);

      if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      let pattern &#x3D; new Sequence.TwoD();
      
      drafts[0].drawdown.forEach((row, i) &#x3D;&gt; {

        let row_shift &#x3D; 0;
        if(pic_shift &gt; 0) 
        row_shift &#x3D; Math.floor(i/pic_shift) * end_shift;

        pattern.pushWeftSequence(new Sequence.OneD().import(row).shift(row_shift).val())

      })
      
      let d &#x3D; initDraftFromDrawdown(pattern.export());
      d &#x3D; updateWarpSystemsAndShuttles(d, drafts[0]);
      d &#x3D; updateWeftSystemsAndShuttles(d, drafts[0]);


      return Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pic_shift"></a>
                    <span class="name">
                        <span ><b>pic_shift</b></span>
                        <a href="#pic_shift"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{ 
    name: &#x27;pic shift (n)&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 1,
    dx: &#x27;describes how many rows we should apply the shift to&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="slope"></a>
                    <span class="name">
                        <span ><b>slope</b></span>
                        <a href="#slope"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/undulatewarps/undulatewarps.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_input"></a>
                    <span class="name">
                        <span ><b>draft_input</b></span>
                        <a href="#draft_input"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to undulate&#x27;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="force_fit"></a>
                    <span class="name">
                        <span ><b>force_fit</b></span>
                        <a href="#force_fit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;fit to input&#x27;,
        type: &#x27;boolean&#x27;,
        falsestate: &#x27;do not force the fit&#x27;,
        truestate: &#x27;force the draft to match the input size&#x27;,
        value: 0,
        dx: &#x27;controls if the output draft wefts should match the number of inputs to the undulation pattern or if the undulation pattern should repeat over the draft wefts&#x27;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;undulate warps&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_input]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;undulatewarps&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[shift_pattern, force_fit]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {


      const undulating_string: string &#x3D; getOpParamValById(0, param_vals);
 
      const forcefit: number &#x3D; getOpParamValById(1, param_vals);

      const drafts: Array&lt;Draft&gt; &#x3D; getAllDraftsAtInlet(op_inputs, 0);

      if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      let regex_matches&#x3D; utilInstance.parseRegex(undulating_string, shift_pattern.regex)


      let undulating_array &#x3D; regex_matches.map(el &#x3D;&gt; parseInt(el))

      let pattern &#x3D; new Sequence.TwoD();

      let max_wefts &#x3D; 0;
      let max_warps &#x3D; 0;


      if(forcefit){
        max_warps &#x3D; undulating_array.length;
        max_wefts &#x3D; undulating_array.reduce((acc, val)&#x3D;&gt; {
            if(Math.abs(val) &gt; acc) return Math.abs(val);
            return acc;
        }, -1);
      }else{
        max_wefts &#x3D; wefts(drafts[0].drawdown);
        max_warps &#x3D; warps(drafts[0].drawdown)
      }

      for(let j &#x3D; 0; j &lt; max_warps; j++){

        let und_val &#x3D; undulating_array[j%undulating_array.length];

   
        pattern.pushWarpSequence(
            new Sequence.OneD()
        .import(getCol(drafts[0].drawdown, j%warps(drafts[0].drawdown)))
        .resize(max_wefts)
        .shift(und_val)
        .val());

      }
  
      let d &#x3D; initDraftFromDrawdown(pattern.export());
      d &#x3D; updateWarpSystemsAndShuttles(d, drafts[0]);
      d &#x3D; updateWeftSystemsAndShuttles(d, drafts[0]);

      return Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_pattern"></a>
                    <span class="name">
                        <span ><b>shift_pattern</b></span>
                        <a href="#shift_pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;undulation pattern&#x27;,
    type: &#x27;string&#x27;,
    regex: /(\d+)/,
    value: &#x27;1 1 1 2 2 3&#x27;,
    error: &#x27;&#x27;,
    dx: &#x27;shifts each end of the input draft according to the number sequence specified.&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="undulatewarps"></a>
                    <span class="name">
                        <span ><b>undulatewarps</b></span>
                        <a href="#undulatewarps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/undulatewefts/undulatewefts.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="draft_input"></a>
                    <span class="name">
                        <span ><b>draft_input</b></span>
                        <a href="#draft_input"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to undulate&#x27;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="force_fit"></a>
                    <span class="name">
                        <span ><b>force_fit</b></span>
                        <a href="#force_fit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;fit to input&#x27;,
        type: &#x27;boolean&#x27;,
        falsestate: &#x27;do not force the fit&#x27;,
        truestate: &#x27;force the draft to match the input size&#x27;,
        value: 0,
        dx: &#x27;controls if the output draft wefts should match the number of inputs to the undulation pattern or if the undulation pattern should repeat over the draft wefts&#x27;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;undulate wefts&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[draft_input]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;undulatewefts&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[shift_pattern, force_fit]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {


      const undulating_string: string &#x3D; getOpParamValById(0, param_vals);

 
      const forcefit: number &#x3D; getOpParamValById(1, param_vals);

      const drafts: Array&lt;Draft&gt; &#x3D; getAllDraftsAtInlet(op_inputs, 0);

      if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      let regex_matches&#x3D; utilInstance.parseRegex(undulating_string, shift_pattern.regex)


      let undulating_array &#x3D; regex_matches.map(el &#x3D;&gt; parseInt(el))

      let pattern &#x3D; new Sequence.TwoD();

      let max_wefts &#x3D; 0;
      let max_warps &#x3D; 0;


      if(forcefit){
        max_wefts &#x3D; undulating_array.length;
        max_warps &#x3D; undulating_array.reduce((acc, val)&#x3D;&gt; {
            if(Math.abs(val) &gt; acc) return Math.abs(val);
            return acc;
        }, -1);
      }else{
        max_wefts &#x3D; wefts(drafts[0].drawdown);
        max_warps &#x3D; warps(drafts[0].drawdown)
      }

      for(let i &#x3D; 0; i &lt; max_wefts; i++){

        let und_val &#x3D; undulating_array[i%undulating_array.length];

   
        pattern.pushWeftSequence(
            new Sequence.OneD()
        .import(drafts[0].drawdown[i%wefts(drafts[0].drawdown)])
        .resize(max_warps)
        .shift(und_val)
        .val());

      }
  
      let d &#x3D; initDraftFromDrawdown(pattern.export());
      d &#x3D; updateWarpSystemsAndShuttles(d, drafts[0]);
      d &#x3D; updateWeftSystemsAndShuttles(d, drafts[0]);

      return Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_pattern"></a>
                    <span class="name">
                        <span ><b>shift_pattern</b></span>
                        <a href="#shift_pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;undulation pattern&#x27;,
    type: &#x27;string&#x27;,
    regex: /(\d+)/,
    value: &#x27;1 1 1 2 2 3&#x27;,
    error: &#x27;&#x27;,
    dx: &#x27;shifts each pic of the input draft according to the number sequence specified.&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="undulatewefts"></a>
                    <span class="name">
                        <span ><b>undulatewefts</b></span>
                        <a href="#undulatewefts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/overlay_multiple/overlay_multiple.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drafts"></a>
                    <span class="name">
                        <span ><b>drafts</b></span>
                        <a href="#drafts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;input_drafts&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to overlay another onto&#x27;,
    num_drafts: -1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;overlay_multi&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[drafts]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;overlay_multiple&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="overlay_multi"></a>
                    <span class="name">
                        <span ><b>overlay_multi</b></span>
                        <a href="#overlay_multi"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);

   if(drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);

   let sys_seq &#x3D; new Sequence.OneD([0]);

   let composite &#x3D; new Sequence.TwoD().setBlank(2
    );

   drafts.forEach((draft, ndx) &#x3D;&gt; {
    let seq &#x3D; new Sequence.TwoD().import(draft.drawdown);
    seq.mapToSystems([0], [0], sys_seq, sys_seq);
    composite.overlay(seq, true);
   })


    let d &#x3D; initDraftFromDrawdown(composite.export());
    d &#x3D; updateWeftSystemsAndShuttles(d, drafts[0]);
    d &#x3D; updateWarpSystemsAndShuttles(d, drafts[0]);

  return Promise.resolve([d]);
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/draft2wif.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="DraftToWIF"></a>
                    <span class="name">
                        <span ><b>DraftToWIF</b></span>
                        <a href="#DraftToWIF"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    toString: function(draft)  {
        
    },

    introString: function() {
    }
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/drawdown/drawdown.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drawdown"></a>
                    <span class="name">
                        <span ><b>drawdown</b></span>
                        <a href="#drawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  return &#x27;drawdown(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[threading, tieup, treadling]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;drawdown&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let threading &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let tieup &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let treadling &#x3D; getAllDraftsAtInlet(op_inputs, 2);

  
  if(threading.length &#x3D;&#x3D; 0 || tieup.length &#x3D;&#x3D; 0|| treadling.length &#x3D;&#x3D; 0) return Promise.resolve([]);

  const threading_draft &#x3D; threading[0];
  const tieup_draft &#x3D; tieup[0];
  const treadling_draft &#x3D; treadling[0];

  const threading_list: Array&lt;number&gt; &#x3D; [];
  for(let j &#x3D; 0; j &lt; warps(threading_draft.drawdown); j++){
    const col: Array&lt;Cell&gt; &#x3D; threading_draft.drawdown.reduce((acc, row, ndx) &#x3D;&gt; {
      acc[ndx] &#x3D; row[j];
      return acc;
    }, []);

    threading_list[j] &#x3D; col.findIndex(cell &#x3D;&gt; getCellValue(cell));

  }

  const treadling_list: Array&lt;Array&lt;number&gt;&gt; &#x3D;treadling_draft.drawdown
  .map(row &#x3D;&gt; [row.findIndex(cell &#x3D;&gt; getCellValue(cell))]);

  const tieup_list &#x3D;tieup_draft.drawdown.map(row &#x3D;&gt; {
    return row.map(cell &#x3D;&gt; getCellValue(cell));
  });

  let draft: Draft &#x3D; initDraftWithParams({warps:warps(threading_draft.drawdown), wefts:wefts(treadling_draft.drawdown)});
  const utils &#x3D; getLoomUtilByType(&#x27;frame&#x27;);
  const loom &#x3D; {
    threading: threading_list,
    tieup: tieup_list,
    treadling:treadling_list
  }

  return utils.computeDrawdownFromLoom(loom, 0).then(drawdown &#x3D;&gt; {
    draft.drawdown &#x3D; drawdown;
    draft &#x3D; updateWarpSystemsAndShuttles(draft, threading_draft)
    draft &#x3D; updateWeftSystemsAndShuttles(draft, treadling_draft )
    return Promise.resolve([draft]);

  })
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="threading"></a>
                    <span class="name">
                        <span ><b>threading</b></span>
                        <a href="#threading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;threading&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to use as threading&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="tieup"></a>
                    <span class="name">
                        <span ><b>tieup</b></span>
                        <a href="#tieup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;tieup&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to use as tieup&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="treadling"></a>
                    <span class="name">
                        <span ><b>treadling</b></span>
                        <a href="#treadling"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;treadling&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft to use as treadling&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/makedirectloom/makedirectloom.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drawdown"></a>
                    <span class="name">
                        <span ><b>drawdown</b></span>
                        <a href="#drawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;drawdown&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the drawdown from which to create threading and lift plan from&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="frames"></a>
                    <span class="name">
                        <span ><b>frames</b></span>
                        <a href="#frames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;frames&#x27;,
min: 2,
max: 10000,
value: 8,
type: &#x27;number&#x27;,
dx: &#x27;number of frames to use. If the drawdown requires more, it will generate more&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;, ndx: number) : string &#x3D;&gt; {

  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);

  switch (ndx ){
    case 0: 
    return   &quot;threading_&quot;+parseDraftNames(drafts);

    case 1: 
    return   &quot;lift plan_&quot;+parseDraftNames(drafts);

  }

  return &#x27;makedirectloom(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[drawdown]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makedirectloom"></a>
                    <span class="name">
                        <span ><b>makedirectloom</b></span>
                        <a href="#makedirectloom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;direct loom&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[frames]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let draft &#x3D; getInputDraft(op_inputs);
  let frames &#x3D; getOpParamValById(0, op_params);

  
  if(draft &#x3D;&#x3D; null) return Promise.resolve([]);


  const loom_settings:LoomSettings &#x3D; {
    type: &#x27;direct&#x27;,
    epi: 10, 
    units: &#x27;in&#x27;,
    frames: frames,
    treadles: frames
  }

  const utils &#x3D; getLoomUtilByType(loom_settings.type);
  return utils.computeLoomFromDrawdown(draft.drawdown, loom_settings, 3)
  .then(l &#x3D;&gt; {

    const frames &#x3D; Math.max(numFrames(l), loom_settings.frames);
    const treadles &#x3D; Math.max(numTreadles(l), loom_settings.treadles);
 
    let threading: Draft &#x3D;initDraftWithParams({warps:warps(draft.drawdown), wefts: frames});
  l.threading.forEach((frame, j) &#x3D;&gt;{
    if(frame !&#x3D;&#x3D; -1) setHeddle(threading.drawdown,frame, j, true);
  });

  threading &#x3D; updateWarpSystemsAndShuttles(threading, draft)


  let treadling: Draft &#x3D;initDraftWithParams({warps:treadles, wefts:wefts(draft.drawdown)});   
  l.treadling.forEach((treadle_row, i) &#x3D;&gt;{
    treadle_row.forEach(treadle_num &#x3D;&gt; {
      setHeddle(treadling.drawdown, i, treadle_num, true);
    })
  });

  treadling &#x3D; updateWeftSystemsAndShuttles(treadling, draft)

  return Promise.resolve([threading, treadling]);

  });
   
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/makeloom/makeloom.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="drawdown"></a>
                    <span class="name">
                        <span ><b>drawdown</b></span>
                        <a href="#drawdown"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;drawdown&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the drawdown from which to create threading, tieup and treadling data from&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="frames"></a>
                    <span class="name">
                        <span ><b>frames</b></span>
                        <a href="#frames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;frames&#x27;,
min: 2,
max: 10000,
value: 8,
type: &#x27;number&#x27;,
dx: &#x27;number of frames to use. If the drawdown requires more, it will generate more&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;, ndx: number) : string &#x3D;&gt; {
  let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);

  switch (ndx ){
    case 0: 
    return   &quot;threading_&quot;+parseDraftNames(drafts);

    case 1: 
    return   &quot;tie_up_&quot;+parseDraftNames(drafts);

    case 2: 
    return   &quot;treadling_&quot;+parseDraftNames(drafts);
  }
return &#x27;&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[drawdown]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeloom"></a>
                    <span class="name">
                        <span ><b>makeloom</b></span>
                        <a href="#makeloom"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;floor loom&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[frames, treadles]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

  let draft &#x3D; getInputDraft(op_inputs);
  let frames &#x3D; getOpParamValById(0, op_params);
  let treadles &#x3D; getOpParamValById(1, op_params);

  
  if(draft &#x3D;&#x3D; null) return Promise.resolve([]);


  const loom_settings:LoomSettings &#x3D; {
    type: &#x27;frame&#x27;,
    epi: 10, 
    units: &#x27;in&#x27;,
    frames: frames,
    treadles: treadles
  }

  const utils &#x3D; getLoomUtilByType(loom_settings.type);
  return utils.computeLoomFromDrawdown(draft.drawdown, loom_settings, 3)
  .then(l &#x3D;&gt; {

    const frames &#x3D; Math.max(numFrames(l), loom_settings.frames);
    const treadles &#x3D; Math.max(numTreadles(l), loom_settings.treadles);
 
    let threading: Draft &#x3D;initDraftWithParams({warps:warps(draft.drawdown), wefts: frames});
  l.threading.forEach((frame, j) &#x3D;&gt;{
    if(frame !&#x3D;&#x3D; -1) setHeddle(threading.drawdown,frame, j, true);
  });
  threading &#x3D; updateWarpSystemsAndShuttles(threading, draft)

  let treadling: Draft &#x3D;initDraftWithParams({warps:treadles, wefts:wefts(draft.drawdown)});   
  l.treadling.forEach((treadle_row, i) &#x3D;&gt;{
    treadle_row.forEach(treadle_num &#x3D;&gt; {
      setHeddle(treadling.drawdown, i, treadle_num, true);
    })
  });
  treadling &#x3D; updateWeftSystemsAndShuttles(treadling, draft)


  let tieup: Draft &#x3D;initDraftWithParams({warps: treadles, wefts: frames});
  l.tieup.forEach((row, i) &#x3D;&gt; {
    row.forEach((val, j) &#x3D;&gt; {
      setHeddle(tieup.drawdown, i, j, val);
    })
  });
  tieup &#x3D; updateWeftSystemsAndShuttles(tieup, draft)
  tieup &#x3D; updateWarpSystemsAndShuttles(tieup, draft)

  return Promise.resolve([threading, tieup, treadling]);



  });
   
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="treadles"></a>
                    <span class="name">
                        <span ><b>treadles</b></span>
                        <a href="#treadles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;treadles&#x27;,
      min: 1,
      max: 10000,
      value: 12,
      type: &#x27;number&#x27;,
      dx: &#x27;number of treadles to use. If the drawdown requires more, it will generate more&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/imagemap/imagemap.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_id"></a>
                    <span class="name">
                        <span ><b>dynamic_param_id</b></span>
                        <a href="#dynamic_param_id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_type"></a>
                    <span class="name">
                        <span ><b>dynamic_param_type</b></span>
                        <a href="#dynamic_param_type"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;color&#x27;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="file"></a>
                    <span class="name">
                        <span ><b>file</b></span>
                        <a href="#file"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#FileParam" target="_self" >FileParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;image file (.jpg or .png)&#x27;,
    type: &#x27;file&#x27;,
    value: {id: &#x27;&#x27;, data: null},
    dx: &#x27;the file to upload&#x27;,
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
// const image_data &#x3D; getImageData(getOpParamValById(0, param_vals));
  const file_param &#x3D; getOpParamValById(0, param_vals);   
  if(file_param.id &#x3D;&#x3D; &#x27;&#x27; || file_param.data &#x3D;&#x3D; null){
      return &#x27;image&#x27;;
  }else{
    return file_param.data.name;
  } 

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="height"></a>
                    <span class="name">
                        <span ><b>height</b></span>
                        <a href="#height"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{   
    name: &#x27;draft height&#x27;,   
    type: &#x27;number&#x27;,
    min: 1,
    max: 10000,
    value: 20,
    dx: &#x27;resize the input image to the height specified&#x27;
 }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="imagemap"></a>
                    <span class="name">
                        <span ><b>imagemap</b></span>
                        <a href="#imagemap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DynamicOperation" target="_self" >DynamicOperation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, dynamic_param_id, dynamic_param_type, perform, generateName,onParamChange}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;imagemap&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onParamChange"></a>
                    <span class="name">
                        <span ><b>onParamChange</b></span>
                        <a href="#onParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;, changed_param_id: number, param_val: any) : Array&lt;any&gt; &#x3D;&gt; {

    if(changed_param_id &#x3D;&#x3D; 0){
        const id_and_data &#x3D; param_val;
        if(id_and_data.id !&#x3D;&#x3D; &#x27;&#x27;){
            inlets  &#x3D; [];
               id_and_data.data.colors.forEach(hex &#x3D;&gt; { 
                    inlets.push(hex);
            });
        }   
        return inlets;
    }


}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[file, width, height]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

    const file_param &#x3D; getOpParamValById(0, op_params);   
    const res_w &#x3D; getOpParamValById(1, op_params);
    const res_h &#x3D; getOpParamValById(2, op_params);

    if(file_param.id &#x3D;&#x3D; &#x27;&#x27; || file_param.data &#x3D;&#x3D; null){
        const d &#x3D; initDraftWithParams({wefts: res_w, warps: res_h, drawdown: [[createCell(false)]]})
        return Promise.resolve([d]);
    } 
    

    const data:AnalyzedImage &#x3D; file_param.data;

    const color_to_drafts &#x3D; data.colors.map((color, ndx) &#x3D;&gt; {
        const child_of_color &#x3D; op_inputs.find(input &#x3D;&gt; (input.params.findIndex(param &#x3D;&gt; param &#x3D;&#x3D;&#x3D; color) !&#x3D;&#x3D; -1));
        if(child_of_color &#x3D;&#x3D;&#x3D; undefined) return {color: color, draft: null};
        else return {color: color, draft: child_of_color.drafts[0]};
      });

    const pattern: Array&lt;Array&lt;Cell&gt;&gt; &#x3D; [];
      for(let i &#x3D; 0; i &lt; res_h; i++){
        pattern.push([]);
        for(let j &#x3D; 0; j &lt; res_w; j++){

          const i_ratio &#x3D; data.height / res_h;
          const j_ratio &#x3D; data.width / res_w;

          const map_i &#x3D; Math.floor(i * i_ratio);
          const map_j &#x3D; Math.floor(j * j_ratio);

          const color_ndx &#x3D; data.image_map[map_i][map_j]; //
          const color_draft &#x3D; color_to_drafts[color_ndx].draft;

          if(color_draft &#x3D;&#x3D;&#x3D; null) pattern[i].push( createCell(false));
          else {
            const draft_i &#x3D; i % wefts(color_draft.drawdown);
            const draft_j &#x3D; j % warps(color_draft.drawdown);
            pattern[i].push(createCell(getHeddle(color_draft.drawdown,draft_i,draft_j)));
          }

        }
      }

    const draft: Draft &#x3D; initDraftFromDrawdown(pattern);
    return  Promise.resolve([draft]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="width"></a>
                    <span class="name">
                        <span ><b>width</b></span>
                        <a href="#width"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{ 
   name: &#x27;draft width&#x27;,     
   type: &#x27;number&#x27;,
   min: 1,
   max: 10000,
   value: 30,
   dx: &#x27;resize the input image to the width specified&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/layer_notation/layer_notation.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_id"></a>
                    <span class="name">
                        <span ><b>dynamic_param_id</b></span>
                        <a href="#dynamic_param_id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_type"></a>
                    <span class="name">
                        <span ><b>dynamic_param_type</b></span>
                        <a href="#dynamic_param_type"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;notation&#x27;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  return &#x27;&#x27;+param_vals[0]+&quot;&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;notation&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="notation"></a>
                    <span class="name">
                        <span ><b>notation</b></span>
                        <a href="#notation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DynamicOperation" target="_self" >DynamicOperation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, dynamic_param_id, dynamic_param_type, perform, generateName,onParamChange}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&quot;assignlayers&quot;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onParamChange"></a>
                    <span class="name">
                        <span ><b>onParamChange</b></span>
                        <a href="#onParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;, changed_param_id: number, param_val: any) : Array&lt;any&gt; &#x3D;&gt; {

    inlet_vals &#x3D; reduceToStaticInputs(inlets, inlet_vals);

    const param_regex &#x3D; (&lt;StringParam&gt; param_vals[0].param).regex;
    
    let matches &#x3D; [];

    matches &#x3D; utilInstance.parseRegex(param_val,param_regex);
    matches &#x3D; matches.map(el &#x3D;&gt; el.slice(1, -1))

    matches.forEach(el &#x3D;&gt; {
      inlet_vals.push(el);
    })

    return inlet_vals;

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[pattern]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseWarpSystem"></a>
                    <span class="name">
                        <span ><b>parseWarpSystem</b></span>
                        <a href="#parseWarpSystem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(val: string) : Array&lt;number&gt; &#x3D;&gt; {
  let matches &#x3D; val.match(/\d+/g);
  if(matches &#x3D;&#x3D; null || matches.length &#x3D;&#x3D; 0){
    console.error(&quot;in Layer Notation, no warp system&quot;)
    return [];
  }
  return  matches.map(el &#x3D;&gt; parseInt(el)-1);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseWeftSystem"></a>
                    <span class="name">
                        <span ><b>parseWeftSystem</b></span>
                        <a href="#parseWeftSystem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(val: string) : Array&lt;number&gt; &#x3D;&gt; {
  let matches &#x3D; val.match(/[a-zA-Z]+/g);
  if(matches &#x3D;&#x3D; null || matches.length &#x3D;&#x3D; 0){
    console.error(&quot;in Layer Notation, no weft system&quot;)
    return [];
  }
  return matches.map(match &#x3D;&gt; match.charCodeAt(0) - 97);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pattern"></a>
                    <span class="name">
                        <span ><b>pattern</b></span>
                        <a href="#pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pattern&#x27;,
    type: &#x27;string&#x27;,
    value: &#x27;(a1)(b2)&#x27;,
    regex: /.*?\((.*?[a-xA-Z]*[\d]*.*?)\).*?/i, //this is the layer parsing regex
    error: &#x27;invalid entry&#x27;,
    dx: &#x27;all system pairs must be listed as letters followed by numbers, layers are created by enclosing those system lists in pararenthesis. For example, the following are valid: (a1b2)(c3) or (c1)(a2). The following are invalid: (1a)(2b) or (2b&#x27;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const original_string &#x3D; getOpParamValById(0, op_params);
      const original_string_split &#x3D; utilInstance.parseRegex(original_string,  /.*?\((.*?[a-xA-Z]*[\d]*.*?)\).*?/i);
      


      if(original_string_split &#x3D;&#x3D; null || original_string_split.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      const system_map &#x3D; getAllDraftsAtInlet(op_inputs, 0);
      if(op_inputs.length &#x3D;&#x3D; 0) return Promise.resolve([]);


      if(system_map.length &#x3D;&#x3D; 0) return Promise.resolve([]); ;
     

      let weft_system_map &#x3D; new Sequence.OneD(system_map[0].rowSystemMapping);
      let warp_system_map &#x3D; new Sequence.OneD(system_map[0].colSystemMapping);
      let weft_shuttle_map &#x3D; new Sequence.OneD(system_map[0].rowShuttleMapping);
      let warp_shuttle_map &#x3D; new Sequence.OneD(system_map[0].colShuttleMapping);

      //make sure the system draft map has a representation for every layer, even if the draft at that layer is null.
      const layer_draft_map &#x3D; original_string_split.map((unit, layer) &#x3D;&gt; {
  
        
        let drafts &#x3D; getAllDraftsAtInlet(op_inputs, layer+1);
    
        return {
          wesy: parseWeftSystem(unit), 
          wasy: parseWarpSystem(unit),
          layer: layer, //map layer order to the inlet id, all inlets must be ordered the same as the input
          draft: (drafts.length &#x3D;&#x3D; 0) ? initDraftWithParams({wefts: 1, warps: 1, drawdown:[[createCell(false)]]}) : drafts[0]
        }
      })


      let composite &#x3D; new Sequence.TwoD().setBlank(2);

      layer_draft_map.forEach((sdm, ndx) &#x3D;&gt; {
        let seq &#x3D; new Sequence.TwoD().import(sdm.draft.drawdown);
        seq.mapToSystems(sdm.wesy, sdm.wasy, weft_system_map, warp_system_map);
        composite.overlay(seq, false);
        

       });



        let system_layer_map &#x3D; [];
        layer_draft_map.forEach(el &#x3D;&gt; {
          el.wasy.forEach(wasy &#x3D;&gt; {
            system_layer_map.push({ws: wasy, layer:el.layer})
          })
        });
        composite.layerSystems(system_layer_map, warp_system_map);
    
    


       let d: Draft &#x3D; initDraftFromDrawdown(composite.export());
       d.colSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, warp_system_map.val(),&#x27;col&#x27;, 3);
       d.rowSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, weft_system_map.val(),&#x27;row&#x27;, 3);
       d.colShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, warp_shuttle_map.val(),&#x27;col&#x27;, 3);
       d.rowShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, weft_shuttle_map.val(),&#x27;row&#x27;, 3);

      
      
      return  Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="systems"></a>
                    <span class="name">
                        <span ><b>systems</b></span>
                        <a href="#systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;systems draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;warp-and-weft-data&quot;,
    dx: &#x27;the draft that describes the system ordering we will add input structures within&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/samplelength/samplelength.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_id"></a>
                    <span class="name">
                        <span ><b>dynamic_param_id</b></span>
                        <a href="#dynamic_param_id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_type"></a>
                    <span class="name">
                        <span ><b>dynamic_param_type</b></span>
                        <a href="#dynamic_param_type"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;profile&#x27;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  return &#x27;sample across length:&#x27;+param_vals[0].val+&quot;&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;sample_length&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&quot;&quot;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onParamChange"></a>
                    <span class="name">
                        <span ><b>onParamChange</b></span>
                        <a href="#onParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;, changed_param_id: number, param_val: any) : Array&lt;any&gt; &#x3D;&gt; {
    

  
    inlet_vals &#x3D; reduceToStaticInputs(inlets, inlet_vals);
    const param_regex &#x3D; (&lt;StringParam&gt; param_vals[0].param).regex;

    let matches &#x3D; [];

    matches &#x3D; utilInstance.parseRegex(param_val,param_regex);
    matches &#x3D; matches.map(el &#x3D;&gt; el.charAt(0));
    matches &#x3D; utilInstance.filterToUniqueValues(matches);

    
    matches.forEach(el &#x3D;&gt; {
      inlet_vals.push(el);
    })

    return inlet_vals;



}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[pattern]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pattern"></a>
                    <span class="name">
                        <span ><b>pattern</b></span>
                        <a href="#pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pattern&#x27;,
type: &#x27;string&#x27;,
value: &#x27;a20 b20 a40 b40&#x27;,
regex:/(?:[a-xA-Z][\d]*[\ ]*).*?/, //NEVER USE THE GLOBAL FLAG - it will throw errors randomly
error: &#x27;invalid entry&#x27;,
dx: &#x27;all entries must be a single letter followed by a number, which each letter-number unit separated by a space&#x27;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const original_string &#x3D; getOpParamValById(0, op_params);
      const system_data &#x3D; getAllDraftsAtInlet(op_inputs, 0);
      const original_string_split &#x3D; utilInstance.parseRegex(original_string, (&lt;StringParam&gt;op_params[0].param).regex);
      
      if(original_string_split &#x3D;&#x3D; null || original_string_split.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      if(op_inputs.length &#x3D;&#x3D; 0) return Promise.resolve([]);
     
      //now just get all the drafts
        const all_drafts: Array&lt;Draft&gt; &#x3D; op_inputs
        .filter(el &#x3D;&gt; el.inlet_id &gt; 0)
        .reduce((acc, el) &#x3D;&gt; {
            el.drafts.forEach(draft &#x3D;&gt; {acc.push(draft)});
            return acc;
        }, []);

        let total_warps: number &#x3D; 0;
        const all_warps &#x3D; all_drafts.map(el &#x3D;&gt; warps(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
        total_warps &#x3D; utilInstance.lcm(all_warps);
  
        const profile_draft_map &#x3D; op_inputs
        .map(el &#x3D;&gt; {
          return  {
            id: el.inlet_id, 
            val: (el.params[0]).toString(),
            draft: el.drafts[0]
          }
        });

        console.log(&quot;profile draft map&quot;, profile_draft_map)
        let pattern &#x3D; new Sequence.TwoD();
        let warp_systems &#x3D; new Sequence.OneD();
        let warp_mats &#x3D; new Sequence.OneD();
        let weft_systems &#x3D; new Sequence.OneD();
        let weft_materials &#x3D; new Sequence.OneD();

        if(system_data.length &#x3D;&#x3D; 0){
            warp_systems.import(all_drafts[0].colSystemMapping).resize(total_warps);
            warp_mats.import(all_drafts[0].colShuttleMapping).resize(total_warps);
        }else{
            warp_systems.import(system_data[0].colSystemMapping).resize(total_warps);
            warp_mats.import(system_data[0].colShuttleMapping).resize(total_warps);

        }

        original_string_split.forEach(string_id &#x3D;&gt; {
            const label &#x3D; string_id.charAt(0);
            const qty &#x3D; parseInt((&lt;string&gt;string_id).substring(1))

            let pdm_item &#x3D; profile_draft_map.find(el &#x3D;&gt; el.val &#x3D;&#x3D; label.toString());
            if(pdm_item !&#x3D;&#x3D; undefined){
                let draft &#x3D; pdm_item.draft;
           
                for(let i &#x3D; 0; i &lt; qty; i++){
                    let row &#x3D; draft.drawdown[i%wefts(draft.drawdown)];

                    let seq &#x3D; new Sequence.OneD().import(row).resize(total_warps);
                    pattern.pushWeftSequence(seq.val());
                    weft_materials.push(draft.rowShuttleMapping[i%draft.rowShuttleMapping.length]);
                    weft_systems.push(draft.rowSystemMapping[i%draft.rowSystemMapping.length]);
                }

             }


        })

       let d: Draft &#x3D; initDraftFromDrawdown(pattern.export());
       d.colShuttleMapping &#x3D; warp_mats.val();
       d.colSystemMapping &#x3D; warp_systems.val();
       d.rowShuttleMapping &#x3D; weft_materials.val();
       d.rowSystemMapping &#x3D; weft_systems.val();

      
      return  Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sample_length"></a>
                    <span class="name">
                        <span ><b>sample_length</b></span>
                        <a href="#sample_length"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DynamicOperation" target="_self" >DynamicOperation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, dynamic_param_id, dynamic_param_type, perform, generateName,onParamChange}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="systems"></a>
                    <span class="name">
                        <span ><b>systems</b></span>
                        <a href="#systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;warp pattern&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;warp-data&quot;,
    dx: &#x27;optional, define a custom weft material or system pattern here&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/samplewidth/samplewidth.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_id"></a>
                    <span class="name">
                        <span ><b>dynamic_param_id</b></span>
                        <a href="#dynamic_param_id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_type"></a>
                    <span class="name">
                        <span ><b>dynamic_param_type</b></span>
                        <a href="#dynamic_param_type"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;profile&#x27;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  
  return &#x27;pattern width:&#x27;+param_vals[0].val+&quot;&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;sample_width&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&quot;&quot;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onParamChange"></a>
                    <span class="name">
                        <span ><b>onParamChange</b></span>
                        <a href="#onParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;, changed_param_id: number, param_val: any) : Array&lt;any&gt; &#x3D;&gt; {
    
    inlet_vals &#x3D; reduceToStaticInputs(inlets, inlet_vals);
    const param_regex &#x3D; (&lt;StringParam&gt; param_vals[0].param).regex;

    let matches &#x3D; [];

    matches &#x3D; utilInstance.parseRegex(param_val,param_regex);
    matches &#x3D; matches.map(el &#x3D;&gt; el.charAt(0));
    matches &#x3D; utilInstance.filterToUniqueValues(matches);

    
    matches.forEach(el &#x3D;&gt; {
      inlet_vals.push(el);
    })

    return inlet_vals;


}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[pattern]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pattern"></a>
                    <span class="name">
                        <span ><b>pattern</b></span>
                        <a href="#pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pattern&#x27;,
    type: &#x27;string&#x27;,
    value: &#x27;a20 b20 a40 b40&#x27;,
    regex:/(?:[a-xA-Z][\d]*[\ ]*).*?/, //NEVER USE THE GLOBAL FLAG - it will throw errors randomly
    error: &#x27;invalid entry&#x27;,
    dx: &#x27;all entries must be a single letter followed by a number, which each letter-number unit separated by a space&#x27;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const original_string &#x3D; getOpParamValById(0, op_params);
      const system_data &#x3D; getAllDraftsAtInlet(op_inputs, 0);
      const original_string_split &#x3D; utilInstance.parseRegex(original_string, (&lt;StringParam&gt;op_params[0].param).regex);
      
      if(original_string_split &#x3D;&#x3D; null || original_string_split.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      if(op_inputs.length &#x3D;&#x3D; 0) return Promise.resolve([]);
     
      //now just get all the drafts
        const all_drafts: Array&lt;Draft&gt; &#x3D; op_inputs
        .filter(el &#x3D;&gt; el.inlet_id &gt; 0)
        .reduce((acc, el) &#x3D;&gt; {
            el.drafts.forEach(draft &#x3D;&gt; {acc.push(draft)});
            return acc;
        }, []);

        let total_wefts: number &#x3D; 0;
        const all_wefts &#x3D; all_drafts.map(el &#x3D;&gt; warps(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
        total_wefts &#x3D; utilInstance.lcm(all_wefts);
  
        const profile_draft_map &#x3D; op_inputs
        .map(el &#x3D;&gt; {
          return  {
            id: el.inlet_id, 
            val: el.params[0].toString(),
            draft: el.drafts[0]
          }
        });

        let pattern &#x3D; new Sequence.TwoD();
        let warp_systems &#x3D; new Sequence.OneD();
        let warp_mats &#x3D; new Sequence.OneD();
        let weft_systems &#x3D; new Sequence.OneD();
        let weft_materials &#x3D; new Sequence.OneD();

        if(system_data.length &#x3D;&#x3D; 0){
            weft_systems.import(all_drafts[0].rowSystemMapping).resize(total_wefts);
            weft_materials.import(all_drafts[0].rowShuttleMapping).resize(total_wefts);
        }else{
            weft_systems.import(system_data[0].rowSystemMapping).resize(total_wefts);
            weft_materials.import(system_data[0].rowShuttleMapping).resize(total_wefts);

        }

        original_string_split.forEach(string_id &#x3D;&gt; {

            const label &#x3D; string_id.charAt(0);
            const qty &#x3D; parseInt((&lt;string&gt;string_id).substring(1))

            let pdm_item &#x3D; profile_draft_map.find(el &#x3D;&gt; el.val &#x3D;&#x3D; label.toString());
            if(pdm_item !&#x3D;&#x3D; undefined){
                let draft &#x3D; pdm_item.draft;
           
                for(let j &#x3D; 0; j &lt; qty; j++){
                    let col &#x3D; getCol(draft.drawdown, j%warps(draft.drawdown));
                    let seq &#x3D; new Sequence.OneD().import(col).resize(total_wefts);
                    pattern.pushWarpSequence(seq.val());
                    warp_mats.push(draft.colShuttleMapping[j%draft.colShuttleMapping.length]);
                    warp_systems.push(draft.colSystemMapping[j%draft.colSystemMapping.length]);
          
                }

             }


        })

       let d: Draft &#x3D; initDraftFromDrawdown(pattern.export());
       d.colShuttleMapping &#x3D; warp_mats.val();
       d.colSystemMapping &#x3D; warp_systems.val();
       d.rowShuttleMapping &#x3D; weft_materials.val();
       d.rowSystemMapping &#x3D; weft_systems.val();

      
      return  Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sample_width"></a>
                    <span class="name">
                        <span ><b>sample_width</b></span>
                        <a href="#sample_width"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DynamicOperation" target="_self" >DynamicOperation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, dynamic_param_id, dynamic_param_type, perform, generateName,onParamChange}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="systems"></a>
                    <span class="name">
                        <span ><b>systems</b></span>
                        <a href="#systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;warp pattern&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;warp-data&quot;,
    dx: &#x27;optional, define a custom warp material or system pattern here&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/system_notation/system_notation.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_id"></a>
                    <span class="name">
                        <span ><b>dynamic_param_id</b></span>
                        <a href="#dynamic_param_id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_type"></a>
                    <span class="name">
                        <span ><b>dynamic_param_type</b></span>
                        <a href="#dynamic_param_type"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;notation&#x27;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;&#x27;+param_vals[0]+&quot;&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="layer_parsing_regex"></a>
                    <span class="name">
                        <span ><b>layer_parsing_regex</b></span>
                        <a href="#layer_parsing_regex"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>/.*?\((.*?[a-xA-Z]*[\d]*.*?)\).*?/i</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;notation_system&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="notation_system"></a>
                    <span class="name">
                        <span ><b>notation_system</b></span>
                        <a href="#notation_system"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DynamicOperation" target="_self" >DynamicOperation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, dynamic_param_id, dynamic_param_type, perform, generateName,onParamChange}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onParamChange"></a>
                    <span class="name">
                        <span ><b>onParamChange</b></span>
                        <a href="#onParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;, changed_param_id: number, param_val: any) : Array&lt;any&gt; &#x3D;&gt; {

    inlet_vals &#x3D; reduceToStaticInputs(inlets, inlet_vals);

    const param_regex &#x3D; (&lt;StringParam&gt; param_vals[0].param).regex;

    let matches &#x3D; [];


    matches &#x3D; utilInstance.parseRegex(param_val, layer_parsing_regex);
    console.log(matches);

    matches &#x3D; matches.map(el &#x3D;&gt; el.slice(1, -1))

    matches &#x3D; matches.reduce((acc, val) &#x3D;&gt; {
    const sub_match &#x3D; utilInstance.parseRegex(val, param_regex);
    return acc.concat(sub_match);
    }, []);

    
   

    matches.forEach(el &#x3D;&gt; {
      inlet_vals.push(el);
    })

    return inlet_vals;

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[pattern]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseWarpSystem"></a>
                    <span class="name">
                        <span ><b>parseWarpSystem</b></span>
                        <a href="#parseWarpSystem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(val: string) : Array&lt;number&gt; &#x3D;&gt; {
  let matches &#x3D; val.match(/\d+/g);
  if(matches &#x3D;&#x3D; null || matches.length &#x3D;&#x3D; 0){
    console.error(&quot;in Layer Notation, no warp system&quot;)
    return [];
  }
  return  matches.map(el &#x3D;&gt; parseInt(el)-1);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseWeftSystem"></a>
                    <span class="name">
                        <span ><b>parseWeftSystem</b></span>
                        <a href="#parseWeftSystem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(val: string) : Array&lt;number&gt; &#x3D;&gt; {
  let matches &#x3D; val.match(/[a-zA-Z]+/g);
  if(matches &#x3D;&#x3D; null || matches.length &#x3D;&#x3D; 0){
    console.error(&quot;in Layer Notation, no weft system&quot;)
    return [];
  }
  return matches.map(match &#x3D;&gt; match.charCodeAt(0) - 97);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pattern"></a>
                    <span class="name">
                        <span ><b>pattern</b></span>
                        <a href="#pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pattern&#x27;,
    type: &#x27;string&#x27;,
    value: &#x27;(a1b2c3)&#x27;,
    regex:  /.*?(.*?[a-xA-Z]+[\d]+).*?/i,
    error: &#x27;invalid entry&#x27;,
    dx: &#x27;all system pairs must be listed as letters followed by numbers, layers are created by enclosing those system lists in pararenthesis. For example, the following are valid: (a1b2)(c3) or (c1)(a2). The following are invalid: (1a)(2b) or (2b&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const original_string &#x3D; getOpParamValById(0, op_params);

      const original_string_split &#x3D; utilInstance.parseRegex(original_string, /.*?(.*?[a-xA-Z]+[\d]+).*?/i);
      const layer_units &#x3D; utilInstance.parseRegex(original_string, layer_parsing_regex);

      if(original_string_split &#x3D;&#x3D; null || original_string_split.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      const system_map &#x3D; getAllDraftsAtInlet(op_inputs, 0);
      if(op_inputs.length &#x3D;&#x3D; 0) return Promise.resolve([]);


      if(system_map.length &#x3D;&#x3D; 0) return Promise.resolve([]); ;
     

      let weft_system_map &#x3D; new Sequence.OneD(system_map[0].rowSystemMapping);
      let warp_system_map &#x3D; new Sequence.OneD(system_map[0].colSystemMapping);

      //make sure the system draft map has a representation for every layer, even if the draft at that layer is null.
      const layer_draft_map &#x3D; original_string_split.map((unit, ndx) &#x3D;&gt; {
        
        let layer_id &#x3D; layer_units.findIndex(el &#x3D;&gt; el.includes(unit));

        let drafts &#x3D; getAllDraftsAtInlet(op_inputs, ndx+1);
    
        return {
          wesy: parseWeftSystem(unit), 
          wasy: parseWarpSystem(unit),
          layer: layer_id, //map layer order to the inlet id, all inlets must be ordered the same as the input
          draft: (drafts.length &#x3D;&#x3D; 0) ? initDraftWithParams({wefts: 1, warps: 1, drawdown:[[createCell(false)]]}) : drafts[0]
        }
      })


      let composite &#x3D; new Sequence.TwoD().setBlank(2);

      layer_draft_map.forEach((sdm, ndx) &#x3D;&gt; {
        let seq &#x3D; new Sequence.TwoD().import(sdm.draft.drawdown);
        seq.mapToSystems(sdm.wesy, sdm.wasy, weft_system_map, warp_system_map);
        composite.overlay(seq, false);
        

       });



        let system_layer_map &#x3D; [];
        layer_draft_map.forEach(el &#x3D;&gt; {
          el.wasy.forEach(wasy &#x3D;&gt; {
            system_layer_map.push({ws: wasy, layer:el.layer})
          })
        });
        composite.layerSystems(system_layer_map, warp_system_map);
    
    


       let d: Draft &#x3D; initDraftFromDrawdown(composite.export());
       d.colSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, warp_system_map.val(),&#x27;col&#x27;, 3);
       d.rowSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, weft_system_map.val(),&#x27;row&#x27;, 3);

      
      return  Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="systems"></a>
                    <span class="name">
                        <span ><b>systems</b></span>
                        <a href="#systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;systems draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;warp-and-weft-data&quot;,
    dx: &#x27;the draft that describes the system ordering we will add input structures within&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/warp_profile/warp_profile.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_id"></a>
                    <span class="name">
                        <span ><b>dynamic_param_id</b></span>
                        <a href="#dynamic_param_id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_type"></a>
                    <span class="name">
                        <span ><b>dynamic_param_type</b></span>
                        <a href="#dynamic_param_type"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;profile&#x27;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  
  return &#x27;pattern across width:&#x27;+param_vals[0].val+&quot;&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;warp_profile&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&quot;dynamicjoinleft&quot;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onParamChange"></a>
                    <span class="name">
                        <span ><b>onParamChange</b></span>
                        <a href="#onParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;, changed_param_id: number, param_val: any) : Array&lt;any&gt; &#x3D;&gt; {
    
    inlet_vals &#x3D; reduceToStaticInputs(inlets, inlet_vals);
    const param_regex &#x3D; (&lt;StringParam&gt; param_vals[0].param).regex;

    let matches &#x3D; [];

    matches &#x3D; utilInstance.parseRegex(param_val,param_regex);
    matches &#x3D; utilInstance.filterToUniqueValues(matches);

    
    matches.forEach(el &#x3D;&gt; {
      inlet_vals.push(el);
    })

    return inlet_vals;


}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[pattern]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pattern"></a>
                    <span class="name">
                        <span ><b>pattern</b></span>
                        <a href="#pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pattern&#x27;,
    type: &#x27;string&#x27;,
    value: &#x27;a b c a b c&#x27;,
    regex: /\S+/, //NEVER USE THE GLOBAL FLAG - it will throw errors randomly
    error: &#x27;invalid entry&#x27;,
    dx: &#x27;all entries must be letters separated by a space&#x27;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const original_string &#x3D; getOpParamValById(0, op_params);
      const system_data &#x3D; getAllDraftsAtInlet(op_inputs, 0);
      const original_string_split &#x3D; utilInstance.parseRegex(original_string, (&lt;StringParam&gt;op_params[0].param).regex);
      
      if(original_string_split &#x3D;&#x3D; null || original_string_split.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      if(op_inputs.length &#x3D;&#x3D; 0) return Promise.resolve([]);
     
      //now just get all the drafts
        const all_drafts: Array&lt;Draft&gt; &#x3D; op_inputs
        .filter(el &#x3D;&gt; el.inlet_id &gt; 0)
        .reduce((acc, el) &#x3D;&gt; {
            el.drafts.forEach(draft &#x3D;&gt; {acc.push(draft)});
            return acc;
        }, []);

        let total_wefts: number &#x3D; 0;
        const all_wefts &#x3D; all_drafts.map(el &#x3D;&gt; warps(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
        total_wefts &#x3D; utilInstance.lcm(all_wefts);
  
        const profile_draft_map &#x3D; op_inputs
        .map(el &#x3D;&gt; {
          console.log(&quot;EL is &quot;, el)
          return  {
            id: el.inlet_id, 
            val: (el.params &#x3D;&#x3D; undefined || el.params[0] &#x3D;&#x3D; undefined) ?  &#x27;&#x27; : (el.params[0]).toString(),
            draft: el.drafts[0]
          }
        });

        let pattern &#x3D; new Sequence.TwoD();
        let warp_systems &#x3D; new Sequence.OneD();
        let warp_mats &#x3D; new Sequence.OneD();
        let weft_systems &#x3D; new Sequence.OneD();
        let weft_materials &#x3D; new Sequence.OneD();

        if(system_data.length &#x3D;&#x3D; 0){
            weft_systems.import(all_drafts[0].rowSystemMapping).resize(total_wefts);
            weft_materials.import(all_drafts[0].rowShuttleMapping).resize(total_wefts);
        }else{
            weft_systems.import(system_data[0].rowSystemMapping).resize(total_wefts);
            weft_materials.import(system_data[0].rowShuttleMapping).resize(total_wefts);

        }

        original_string_split.forEach(string_id &#x3D;&gt; {

            let pdm_item &#x3D; profile_draft_map.find(el &#x3D;&gt; el.val &#x3D;&#x3D; string_id);
            if(pdm_item !&#x3D;&#x3D; undefined){
                let draft &#x3D; pdm_item.draft;
           
                for(let j &#x3D; 0; j &lt; warps(draft.drawdown); j++){
                    let col &#x3D; getCol(draft.drawdown, j);
                    let seq &#x3D; new Sequence.OneD().import(col).resize(total_wefts);
                    pattern.pushWarpSequence(seq.val());
                    warp_mats.push(draft.colShuttleMapping[j%draft.colShuttleMapping.length]);
                    warp_systems.push(draft.colSystemMapping[j%draft.colSystemMapping.length]);
          
                }

             }


        })

       let d: Draft &#x3D; initDraftFromDrawdown(pattern.export());
       d.colShuttleMapping &#x3D; warp_mats.val();
       d.colSystemMapping &#x3D; warp_systems.val();
       d.rowShuttleMapping &#x3D; weft_materials.val();
       d.rowSystemMapping &#x3D; weft_systems.val();

      
      return  Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="systems"></a>
                    <span class="name">
                        <span ><b>systems</b></span>
                        <a href="#systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;weft pattern&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;weft-data&quot;,
    dx: &#x27;optional, define a custom weft material or system pattern here&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warp_profile"></a>
                    <span class="name">
                        <span ><b>warp_profile</b></span>
                        <a href="#warp_profile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DynamicOperation" target="_self" >DynamicOperation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, dynamic_param_id, dynamic_param_type, perform, generateName,onParamChange}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/weft_profile/weft_profile.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_id"></a>
                    <span class="name">
                        <span ><b>dynamic_param_id</b></span>
                        <a href="#dynamic_param_id"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>0</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dynamic_param_type"></a>
                    <span class="name">
                        <span ><b>dynamic_param_type</b></span>
                        <a href="#dynamic_param_type"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;profile&#x27;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

  return &#x27;pattern across length:&#x27;+param_vals[0].val+&quot;&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[systems]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;weft_profile&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[&quot;dynamicjointop&quot;]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onParamChange"></a>
                    <span class="name">
                        <span ><b>onParamChange</b></span>
                        <a href="#onParamChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;, changed_param_id: number, param_val: any) : Array&lt;any&gt; &#x3D;&gt; {
    

  
    inlet_vals &#x3D; reduceToStaticInputs(inlets, inlet_vals);
    const param_regex &#x3D; (&lt;StringParam&gt; param_vals[0].param).regex;

    let matches &#x3D; [];

    matches &#x3D; utilInstance.parseRegex(param_val,param_regex);
    matches &#x3D; utilInstance.filterToUniqueValues(matches);

    matches.forEach(el &#x3D;&gt; {
      inlet_vals.push(el);
    })

    return inlet_vals;


}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[pattern]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pattern"></a>
                    <span class="name">
                        <span ><b>pattern</b></span>
                        <a href="#pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pattern&#x27;,
    type: &#x27;string&#x27;,
    value: &#x27;a b c a b c&#x27;,
    regex: /\S+/, //NEVER USE THE GLOBAL FLAG - it will throw errors randomly
    error: &#x27;invalid entry&#x27;,
    dx: &#x27;all entries must be letters separated by a space&#x27;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const original_string &#x3D; getOpParamValById(0, op_params);
      const system_data &#x3D; getAllDraftsAtInlet(op_inputs, 0);
      const original_string_split &#x3D; utilInstance.parseRegex(original_string, (&lt;StringParam&gt;op_params[0].param).regex);
      
      if(original_string_split &#x3D;&#x3D; null || original_string_split.length &#x3D;&#x3D; 0) return Promise.resolve([]);

      if(op_inputs.length &#x3D;&#x3D; 0) return Promise.resolve([]);
     
      //now just get all the drafts
        const all_drafts: Array&lt;Draft&gt; &#x3D; op_inputs
        .filter(el &#x3D;&gt; el.inlet_id &gt; 0)
        .reduce((acc, el) &#x3D;&gt; {
            el.drafts.forEach(draft &#x3D;&gt; {acc.push(draft)});
            return acc;
        }, []);

        let total_warps: number &#x3D; 0;
        const all_warps &#x3D; all_drafts.map(el &#x3D;&gt; warps(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
        total_warps &#x3D; utilInstance.lcm(all_warps);
  
        const profile_draft_map &#x3D; op_inputs
        .map(el &#x3D;&gt; {
          return  {
            id: el.inlet_id, 
            val: (el.params[0]).toString(),
            draft: el.drafts[0]
          }
        });

        let pattern &#x3D; new Sequence.TwoD();
        let warp_systems &#x3D; new Sequence.OneD();
        let warp_mats &#x3D; new Sequence.OneD();
        let weft_systems &#x3D; new Sequence.OneD();
        let weft_materials &#x3D; new Sequence.OneD();

        if(system_data.length &#x3D;&#x3D; 0){
            warp_systems.import(all_drafts[0].colSystemMapping).resize(total_warps);
            warp_mats.import(all_drafts[0].colShuttleMapping).resize(total_warps);
        }else{
            warp_systems.import(system_data[0].colSystemMapping).resize(total_warps);
            warp_mats.import(system_data[0].colShuttleMapping).resize(total_warps);

        }

        original_string_split.forEach(string_id &#x3D;&gt; {

            let pdm_item &#x3D; profile_draft_map.find(el &#x3D;&gt; el.val &#x3D;&#x3D; string_id);
            if(pdm_item !&#x3D;&#x3D; undefined){
                let draft &#x3D; pdm_item.draft;
           
                draft.drawdown.forEach((row, i) &#x3D;&gt; {
                    let seq &#x3D; new Sequence.OneD().import(row).resize(total_warps);
                    pattern.pushWeftSequence(seq.val());
                    weft_materials.push(draft.rowShuttleMapping[i%draft.rowShuttleMapping.length]);
                    weft_systems.push(draft.rowSystemMapping[i%draft.rowSystemMapping.length]);
                })

             }


        })

       let d: Draft &#x3D; initDraftFromDrawdown(pattern.export());
       d.colShuttleMapping &#x3D; warp_mats.val();
       d.colSystemMapping &#x3D; warp_systems.val();
       d.rowShuttleMapping &#x3D; weft_materials.val();
       d.rowSystemMapping &#x3D; weft_systems.val();

      
      return  Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="systems"></a>
                    <span class="name">
                        <span ><b>systems</b></span>
                        <a href="#systems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;warp pattern&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;warp-data&quot;,
    dx: &#x27;optional, define a custom weft material or system pattern here&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="weft_profile"></a>
                    <span class="name">
                        <span ><b>weft_profile</b></span>
                        <a href="#weft_profile"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#DynamicOperation" target="_self" >DynamicOperation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, dynamic_param_id, dynamic_param_type, perform, generateName,onParamChange}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/random/random.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ends"></a>
                    <span class="name">
                        <span ><b>ends</b></span>
                        <a href="#ends"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 6,
    dx: &quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    const pcent: number &#x3D; getOpParamValById(2, param_vals);

  return &#x27;random&#x27;+pcent;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;random&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[ends, pics, pcent]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pcent"></a>
                    <span class="name">
                        <span ><b>pcent</b></span>
                        <a href="#pcent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;percent warp raised&#x27;,
    type: &#x27;number&#x27;,
    min: 1,
    max: 100,
    value: 50,
    dx: &#x27;percentage of warps raised to be used&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const ends: number &#x3D; getOpParamValById(0, param_vals);
      const pics: number &#x3D; getOpParamValById(1, param_vals);;
      const pcent: number &#x3D; getOpParamValById(2, param_vals);
     
      let pattern &#x3D; new Sequence.TwoD();

      for(let i &#x3D; 0; i &lt; pics; i++){
        let row &#x3D; new Sequence.OneD();
        for(let j &#x3D; 0; j &lt; ends; j++){
            const rand: number &#x3D; Math.random() * 100;
            if(rand &gt; pcent) row.push(0);
            else row.push(1);
        }
        pattern.pushWeftSequence(row.val());

      }

      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pics"></a>
                    <span class="name">
                        <span ><b>pics</b></span>
                        <a href="#pics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pics&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 6,
    dx:&quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="random"></a>
                    <span class="name">
                        <span ><b>random</b></span>
                        <a href="#random"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/spliceinwarps/spliceinwarps.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ends_btwn"></a>
                    <span class="name">
                        <span ><b>ends_btwn</b></span>
                        <a href="#ends_btwn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;ends between insertions&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 1,
dx: &quot;the number of ends to keep between each splice&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let r &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let s &#x3D; getAllDraftsAtInlet(op_inputs, 1);
    let name_list &#x3D; parseDraftNames(r.concat(s));
  return &quot;spliced(&quot;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[receiving, splicing]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;splice in warps&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[ends_btwn, repeats, style]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {

  let receiving_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let splicing_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let ends_btwn &#x3D; getOpParamValById(0, op_params);
  let repeat &#x3D; getOpParamValById(1, op_params);
  let style &#x3D; getOpParamValById(2, op_params);

  let receiving_draft &#x3D; (receiving_drafts.length &#x3D;&#x3D; 0) ? null : receiving_drafts[0]; 
  let splicing_draft &#x3D; (splicing_drafts.length &#x3D;&#x3D; 0) ? null : splicing_drafts[0]; 

  const all_drafts &#x3D; [receiving_draft, splicing_draft];

  if(all_drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);
  if(receiving_draft &#x3D;&#x3D; null || splicing_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let total_warps: number &#x3D; 0;
  let factors: Array&lt;number&gt; &#x3D; [];
  if(repeat &#x3D;&#x3D;&#x3D; 1){
    if(style){
      factors &#x3D; [warps(receiving_draft.drawdown), (warps(splicing_draft.drawdown)*(ends_btwn+warps(splicing_draft.drawdown)))];
    }else{
      factors &#x3D; [warps(receiving_draft.drawdown), warps(splicing_draft.drawdown)*(ends_btwn+1)];
    }
    total_warps &#x3D; utilInstance.lcm(factors);
  }  
  else  {
    //sums the warps from all the drafts
    total_warps &#x3D;all_drafts.reduce((acc, el) &#x3D;&gt; {
      return acc + warps(el.drawdown);
    }, 0);
  }

  let total_wefts: number &#x3D; 0;
  const all_wefts &#x3D; all_drafts.map(el &#x3D;&gt; wefts(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);

  if(repeat &#x3D;&#x3D;&#x3D; 1)  total_wefts &#x3D; utilInstance.lcm(all_wefts);
  else  total_wefts &#x3D; utilInstance.getMaxWefts(all_drafts);


  const uniqueSystemCols &#x3D; makeWarpSystemsUnique(all_drafts.map(el &#x3D;&gt; el.colSystemMapping));

  let array_a_ndx &#x3D; 0;
  let array_b_ndx &#x3D; 0;

  //create a draft to hold the merged values
  // const d:Draft &#x3D; initDraftWithParams({warps: total_warps, wefts:total_wefts, rowShuttleMapping:static_input.rowShuttleMapping, rowSystemMapping:static_input.rowSystemMapping});

  let pattern &#x3D; new Sequence.TwoD();
  let col_shuttle:Array&lt;number&gt;  &#x3D; [];
  let col_system:Array&lt;number&gt;  &#x3D; [];

  for(let j &#x3D; 0; j &lt; total_warps; j++){
    let select_array: number;
    if(style){
      const cycle &#x3D; ends_btwn + warps(splicing_draft.drawdown);
      select_array &#x3D; (j % (cycle) &gt;&#x3D; ends_btwn) ? 1 : 0; 
    }else{
      select_array &#x3D; (j % (ends_btwn+1) &#x3D;&#x3D;&#x3D;ends_btwn) ? 1 : 0; 
    } 

    if(!repeat){
      if(array_b_ndx &gt;&#x3D;warps(splicing_draft.drawdown)) select_array &#x3D; 0;
      if(array_a_ndx &gt;&#x3D;warps(receiving_draft.drawdown)) select_array &#x3D; 1;
    }
    
    let cur_warp_num &#x3D; warps(all_drafts[select_array].drawdown)
    let ndx &#x3D; (select_array &#x3D;&#x3D;&#x3D; 0) ? array_a_ndx%cur_warp_num : array_b_ndx%cur_warp_num;

    let seq &#x3D; new Sequence.OneD();
    for(let i &#x3D; 0; i &lt; total_wefts; i++){
      let cur_weft_num &#x3D; wefts(all_drafts[select_array].drawdown);
      if(i &gt;&#x3D; cur_weft_num &amp;&amp; !repeat) seq.push(2);
      seq.push(getHeddle(all_drafts[select_array].drawdown, i%cur_weft_num, ndx));
    }

    pattern.pushWarpSequence(seq.val());



    // const col:Array&lt;Cell&gt; &#x3D; d.drawdown.reduce((acc, el) &#x3D;&gt; {
    //   acc.push(el[j]);
    //   return acc;
    // }, [])



    col_system.push(uniqueSystemCols[select_array][ndx]);
    col_shuttle.push(all_drafts[select_array].colShuttleMapping[ndx]);


    if(select_array &#x3D;&#x3D;&#x3D; 0){
      array_a_ndx++;
    } 
    else{
      array_b_ndx++;
    } 

  }

  let d: Draft &#x3D; initDraftFromDrawdown(pattern.export());
  d.colShuttleMapping &#x3D; col_shuttle.slice();
  d.colSystemMapping &#x3D; col_system.slice();
  d &#x3D; updateWeftSystemsAndShuttles(d, receiving_draft);
  // this.transferSystemsAndShuttles(d,op_input.drafts,op_input.params, &#x27;interlace&#x27;);
  return Promise.resolve([d]);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="receiving"></a>
                    <span class="name">
                        <span ><b>receiving</b></span>
                        <a href="#receiving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;receiving draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to interlace&#x27;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="repeats"></a>
                    <span class="name">
                        <span ><b>repeats</b></span>
                        <a href="#repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;calculate repeats&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &#x27;do not repeat inputs to match size&#x27;,
    truestate: &#x27;repeat inputs to match size&#x27;,
    value: 1,
    dx: &quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="spliceinwarps"></a>
                    <span class="name">
                        <span ><b>spliceinwarps</b></span>
                        <a href="#spliceinwarps"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="splicing"></a>
                    <span class="name">
                        <span ><b>splicing</b></span>
                        <a href="#splicing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;splicing draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft you would like to splice into the recieving draft&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="style"></a>
                    <span class="name">
                        <span ><b>style</b></span>
                        <a href="#style"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;splice style&#x27;,
type: &#x27;boolean&#x27;,
falsestate: &#x27;line by line&#x27;,
truestate: &#x27;whole draft&#x27;,
value: 0,
dx: &quot;controls if the whole draft is spliced in every nth weft or just the next pic in the draft&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/environments/environment.prod.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="environment"></a>
                    <span class="name">
                        <span ><b>environment</b></span>
                        <a href="#environment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
  firebase: {
    projectId: &#x27;adacad-weaver&#x27;,
    appId: &#x27;1:949203732957:web:0effb79b656553d62e0e34&#x27;,
    databaseURL: &#x27;https://adacad-weaver.firebaseio.com&#x27;,
    storageBucket: &#x27;adacad-weaver.appspot.com&#x27;,
    locationId: &#x27;us-central&#x27;,
    apiKey: &#x27;AIzaSyC5lSe7NkzFdJkAMUNeh78t7SqLL9r6foU&#x27;,
    authDomain: &#x27;adacad-weaver.firebaseapp.com&#x27;,
    messagingSenderId: &#x27;949203732957&#x27;,
    measurementId: &#x27;G-F33KWLP936&#x27;,
  },
  production: true
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/environments/environment.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="environment"></a>
                    <span class="name">
                        <span ><b>environment</b></span>
                        <a href="#environment"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
  firebase: {
    apiKey: &quot;AIzaSyDeFrip7Pbp_3qxAuTgflhS-EH6ZbZhPrg&quot;,
    authDomain: &quot;adacad-beta-fa4dc.firebaseapp.com&quot;,
    databaseURL: &quot;https://adacad-beta-fa4dc-default-rtdb.firebaseio.com&quot;,
    projectId: &quot;adacad-beta-fa4dc&quot;,
    storageBucket: &quot;adacad-beta-fa4dc.appspot.com&quot;,
    messagingSenderId: &quot;256364414107&quot;,
    appId: &quot;1:256364414107:web:bd7439b027c997eb1c723e&quot;,
    measurementId: &quot;G-CM8RPB246D&quot;
  },
  production: false
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/satin/satin.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="facing"></a>
                    <span class="name">
                        <span ><b>facing</b></span>
                        <a href="#facing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;facing&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &quot;weft facing&quot;,
    truestate: &quot;warp facing&quot;,
    value: 0,
    dx: &#x27;&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    const repeat: number &#x3D; getOpParamValById(0, param_vals);
    const shift: number &#x3D; getOpParamValById(1, param_vals);
    const facing: number &#x3D; getOpParamValById(2, param_vals);
    const dir: string &#x3D; (facing) ? &quot;Warp Faced&quot; : &quot;Weft Faced&quot;;
  return repeat+&quot;/&quot;+shift+dir+&#x27; Satin&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;satin&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[repeat, shift, facing]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const repeat: number &#x3D; getOpParamValById(0, param_vals);
      const shift: number &#x3D; getOpParamValById(1, param_vals);
      const facing: number &#x3D; getOpParamValById(2, param_vals);


      let first_row &#x3D; new Sequence.OneD();
      first_row.push(1);

      for(let j &#x3D; 0; j &lt; repeat-1; j++){
        first_row.push(0);
      }

      if(facing) first_row.invert();


      let pattern &#x3D; new Sequence.TwoD();
      for(let i &#x3D; 0; i &lt; repeat; i++){
        pattern.pushWeftSequence(first_row.shift(shift).val());
      }


      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="repeat"></a>
                    <span class="name">
                        <span ><b>repeat</b></span>
                        <a href="#repeat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;repeat&#x27;,
    type: &#x27;number&#x27;,
    min: 5,
    max: 100,
    value: 5,
    dx: &#x27;the width and height of the pattern&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="satin"></a>
                    <span class="name">
                        <span ><b>satin</b></span>
                        <a href="#satin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift"></a>
                    <span class="name">
                        <span ><b>shift</b></span>
                        <a href="#shift"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift&#x27;,
  type: &#x27;number&#x27;,
  min: 1,
  max: 100,
  value: 2,
  dx: &#x27;the move number on each row&#x27;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/shaded_satin/shaded_satin.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="facing"></a>
                    <span class="name">
                        <span ><b>facing</b></span>
                        <a href="#facing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;facing&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &quot;weft facing&quot;,
    truestate: &quot;warp facing&quot;,
    value: 0,
    dx: &#x27;&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    const raised: number &#x3D; getOpParamValById(0, param_vals);
    const lowered: number &#x3D; getOpParamValById(1,param_vals); 
  return raised+&quot;/&quot;+lowered+&#x27; Satin&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;shaded_satin&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[warps_raised, warps_lowered, shift, facing]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const raised: number &#x3D; getOpParamValById(0, param_vals);
      const lowered: number &#x3D; getOpParamValById(1, param_vals);
      const shift: number &#x3D; getOpParamValById(2, param_vals);
      const facing: number &#x3D; getOpParamValById(3, param_vals);


      let first_row &#x3D; new Sequence.OneD();
      first_row.pushMultiple(1, raised).pushMultiple(0, lowered);


      if(facing) first_row.invert();


      let pattern &#x3D; new Sequence.TwoD();
      for(let i &#x3D; 0; i &lt; raised+lowered; i++){
        pattern.pushWeftSequence(first_row.shift(shift).val());
      }


      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shaded_satin"></a>
                    <span class="name">
                        <span ><b>shaded_satin</b></span>
                        <a href="#shaded_satin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift"></a>
                    <span class="name">
                        <span ><b>shift</b></span>
                        <a href="#shift"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
name: &#x27;shift&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 2,
dx: &#x27;amount to offset the interlacements on each row&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warps_lowered"></a>
                    <span class="name">
                        <span ><b>warps_lowered</b></span>
                        <a href="#warps_lowered"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warps lowered&#x27;,
  type: &#x27;number&#x27;,
  min: 0,
  max: 100,
  value: 5,
  dx:&quot;the number of warps to keep lowered on the first pic&quot;
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warps_raised"></a>
                    <span class="name">
                        <span ><b>warps_raised</b></span>
                        <a href="#warps_raised"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;warps raised&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 2,
    dx: &#x27;the number of warps to raise on the first pic&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/twill/twill.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="facing"></a>
                    <span class="name">
                        <span ><b>facing</b></span>
                        <a href="#facing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;facing&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &quot;weft facing&quot;,
    truestate: &quot;warp facing&quot;,
    value: 0,
    dx: &#x27;&#x27;
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    const raised: number &#x3D; getOpParamValById(0, param_vals);
    const lowered: number &#x3D; getOpParamValById(1, param_vals);
    const sz: number &#x3D; getOpParamValById(2, param_vals);
    const dir: string &#x3D; (sz) ? &quot;S&quot; : &quot;Z&quot;;
  return raised+&quot;/&quot;+lowered+dir+&#x27;twill&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;twill&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[warps_raised, warps_lowered, sz, facing]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const raised: number &#x3D; getOpParamValById(0, param_vals);
      const lowered: number &#x3D; getOpParamValById(1, param_vals);
      const sz: number &#x3D; getOpParamValById(2, param_vals);
      const facing: number &#x3D; getOpParamValById(3, param_vals);


      let first_row &#x3D; new Sequence.OneD();
      first_row.pushMultiple(1, raised).pushMultiple(0, lowered);

      if(facing) first_row.invert();


      let pattern &#x3D; new Sequence.TwoD();
      let shift_dir &#x3D; (sz) ? -1 : 1;
      for(let i &#x3D; 0; i &lt; (raised+lowered); i++){
        pattern.pushWeftSequence(first_row.shift(shift_dir).val());
      }


      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sz"></a>
                    <span class="name">
                        <span ><b>sz</b></span>
                        <a href="#sz"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;S/Z&#x27;,
        type: &#x27;boolean&#x27;,
        falsestate: &#x27;S&#x27;,
        truestate: &#x27;Z&#x27;,
        value: 0,
        dx: &#x27;&#x27;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="twill"></a>
                    <span class="name">
                        <span ><b>twill</b></span>
                        <a href="#twill"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warps_lowered"></a>
                    <span class="name">
                        <span ><b>warps_lowered</b></span>
                        <a href="#warps_lowered"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warps lowered&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 3,
    dx:&quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="warps_raised"></a>
                    <span class="name">
                        <span ><b>warps_raised</b></span>
                        <a href="#warps_raised"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;warps raised&#x27;,
    type: &#x27;number&#x27;,
    min: 0,
    max: 100,
    value: 1,
    dx: &quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/invert/invert.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
    let drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    return &#x27;invert(&#x27;+parseDraftNames(drafts)+&quot;)&quot;;


}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[input]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="input"></a>
                    <span class="name">
                        <span ><b>input</b></span>
                        <a href="#input"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
      name: &#x27;draft&#x27;, 
      type: &#x27;static&#x27;,
      value: null,
      uses: &quot;draft&quot;,
      dx: &#x27;the draft to invert&#x27;,
      num_drafts: 1
    }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="invert"></a>
                    <span class="name">
                        <span ><b>invert</b></span>
                        <a href="#invert"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;invert&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {
     const input_draft &#x3D; getInputDraft(op_inputs);
     if(input_draft &#x3D;&#x3D; null) return Promise.resolve([]);
     
     let pattern &#x3D; new Sequence.TwoD();
     input_draft.drawdown.forEach(row &#x3D;&gt; {
        const r &#x3D; new Sequence.OneD().import(row).invert().val();
        pattern.pushWeftSequence(r);
     });

     let d: Draft &#x3D; initDraftFromDrawdown(pattern.export());
     d &#x3D; updateWeftSystemsAndShuttles(d, input_draft);
     d &#x3D; updateWarpSystemsAndShuttles(d, input_draft);
   

    return Promise.resolve([d]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/satinish/satinish.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;shifty&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;satinish&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[string_input, shift, sz]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const input_string: string &#x3D; getOpParamValById(0, param_vals);
      const shift: number &#x3D; getOpParamValById(1, param_vals);

      const sz: number &#x3D; getOpParamValById(2, param_vals);

      const input_array: Array&lt;number&gt; &#x3D; input_string.split(&#x27; &#x27;).map(el &#x3D;&gt; parseInt(el));

      let size: number &#x3D;input_array.reduce( (acc, val) &#x3D;&gt; {
        return val + acc;
    }, 0);


      let first_row &#x3D; new Sequence.OneD();
      let under &#x3D; true;
      input_array.forEach(input &#x3D;&gt; {
        first_row.pushMultiple(under, input);
        under &#x3D; !under;
      })

      let pattern &#x3D; new Sequence.TwoD();
      let shift_dir &#x3D; (sz) ? -1*shift : 1*shift;
      for(let i &#x3D; 0; i &lt; size; i++){
        pattern.pushWeftSequence(first_row.shift(shift_dir).val());
      }


      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="satinish"></a>
                    <span class="name">
                        <span ><b>satinish</b></span>
                        <a href="#satinish"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift"></a>
                    <span class="name">
                        <span ><b>shift</b></span>
                        <a href="#shift"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;shift&#x27;,
  type: &#x27;number&#x27;,
  min: 1,
  max: 100,
  value: 2,
  dx: &#x27;the move number on each row&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="string_input"></a>
                    <span class="name">
                        <span ><b>string_input</b></span>
                        <a href="#string_input"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pattern&#x27;,
    type: &#x27;string&#x27;,
    regex: /(\d+)/,
    value: &#x27;2 2 3 3&#x27;,
    error: &#x27;&#x27;,
    dx: &#x27;the under over pattern of this twill&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sz"></a>
                    <span class="name">
                        <span ><b>sz</b></span>
                        <a href="#sz"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;S/Z&#x27;,
        type: &#x27;boolean&#x27;,
        falsestate: &#x27;S&#x27;,
        truestate: &#x27;Z&#x27;,
        value: 0,
        dx: &#x27;&#x27;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/spliceinwefts/spliceinwefts.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {

    let r &#x3D; getAllDraftsAtInlet(op_inputs, 0);
    let s &#x3D; getAllDraftsAtInlet(op_inputs, 1);
    let name_list &#x3D; parseDraftNames(r.concat(s));
  return &quot;spliced(&quot;+name_list+&quot;)&quot;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[receiving, splicing]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;splice in wefts&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[pics_btwn, repeats, style]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_params: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : Promise&lt;Array&lt;Draft&gt;&gt; &#x3D;&gt; {

  let receiving_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 0);
  let splicing_drafts &#x3D; getAllDraftsAtInlet(op_inputs, 1);
  let pics_btwn &#x3D; getOpParamValById(0, op_params);
  let repeat &#x3D; getOpParamValById(1, op_params);
  let style &#x3D; getOpParamValById(2, op_params);

  let receiving_draft &#x3D; (receiving_drafts.length &#x3D;&#x3D; 0) ? null : receiving_drafts[0]; 

  let splicing_draft &#x3D; (splicing_drafts.length &#x3D;&#x3D; 0) ? null : splicing_drafts[0]; 

  const all_drafts &#x3D; [receiving_draft, splicing_draft];

  if(all_drafts.length &#x3D;&#x3D; 0) return Promise.resolve([]);
  if(receiving_draft &#x3D;&#x3D; null || splicing_draft &#x3D;&#x3D; null) return Promise.resolve([]);

  let total_wefts: number &#x3D; 0;
  if(repeat &#x3D;&#x3D;&#x3D; 1){
    let factors &#x3D; [];
    if(style){
      factors &#x3D; [wefts(splicing_draft.drawdown), wefts(splicing_draft.drawdown)*(pics_btwn+wefts(splicing_draft.drawdown))];
    }else{
      factors &#x3D; [wefts(receiving_draft.drawdown), wefts(splicing_draft.drawdown)*(pics_btwn+1)];
    }
    total_wefts &#x3D; utilInstance.lcm(factors);
  }  
  else  {
    //sums the wefts from all the drafts
    total_wefts &#x3D;all_drafts.reduce((acc, el) &#x3D;&gt; {
      return acc + wefts(el.drawdown);
    }, 0);
}

  let total_warps: number &#x3D; 0;
  const all_warps &#x3D; all_drafts.map(el &#x3D;&gt; warps(el.drawdown)).filter(el &#x3D;&gt; el &gt; 0);
  if(repeat &#x3D;&#x3D;&#x3D; 1)  total_warps &#x3D; utilInstance.lcm(all_warps);
  else  total_warps &#x3D; utilInstance.getMaxWarps(all_drafts);


  const uniqueSystemRows &#x3D; makeWeftSystemsUnique(all_drafts.map(el &#x3D;&gt; el.rowSystemMapping));

  let array_a_ndx &#x3D; 0;
  let array_b_ndx &#x3D; 0;

    let row_shuttle &#x3D; [];
    let row_system &#x3D; [];
    let pattern &#x3D; new Sequence.TwoD();

  for(let i &#x3D; 0; i &lt; total_wefts; i++){
    let select_array:number &#x3D; 0;

    if(style){
      const cycle &#x3D; pics_btwn + wefts(splicing_draft.drawdown);
      select_array &#x3D; (i % cycle &gt;&#x3D; pics_btwn) ? 1 : 0; 
    }else{
      select_array &#x3D; (i % (pics_btwn+1) &#x3D;&#x3D;&#x3D;pics_btwn) ? 1 : 0; 
    } 

    if(!repeat){
      if(array_b_ndx &gt;&#x3D;wefts(splicing_draft.drawdown)) select_array &#x3D; 0;
      if(array_a_ndx &gt;&#x3D;warps(receiving_draft.drawdown)) select_array &#x3D; 1;
    }
    
    let cur_weft_num &#x3D; wefts(all_drafts[select_array].drawdown);
    let ndx &#x3D; (select_array &#x3D;&#x3D;&#x3D; 0) ? array_a_ndx%cur_weft_num : array_b_ndx%cur_weft_num;
    let seq &#x3D; new Sequence.OneD();
    for(let j &#x3D; 0; j &lt; total_warps; j++){
        let cur_warp_num &#x3D; warps(all_drafts[select_array].drawdown);
        if(j &gt;&#x3D; cur_warp_num &amp;&amp; !repeat) seq.push(2);
        else seq.push(getHeddle(all_drafts[select_array].drawdown, ndx,j%cur_warp_num));

    }

    row_system.push(uniqueSystemRows[select_array][ndx]);
    row_shuttle.push(all_drafts[select_array].rowShuttleMapping[ndx]);
    pattern.pushWeftSequence(seq.val());


    if(select_array &#x3D;&#x3D;&#x3D; 0){
      array_a_ndx++;
    } 
    else{
      array_b_ndx++;
    } 

  }
  let d &#x3D; initDraftFromDrawdown(pattern.export());
  d.rowShuttleMapping &#x3D; row_shuttle;
  d.rowSystemMapping &#x3D; row_system.slice();
  if(receiving_draft !&#x3D;&#x3D; null) 
  d &#x3D; updateWarpSystemsAndShuttles(d, receiving_draft);
  return Promise.resolve([d]);

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="pics_btwn"></a>
                    <span class="name">
                        <span ><b>pics_btwn</b></span>
                        <a href="#pics_btwn"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#NumParam" target="_self" >NumParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;pics between insertions&#x27;,
type: &#x27;number&#x27;,
min: 1,
max: 100,
value: 1,
dx: &quot;the number of pics to keep between each splice row&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="receiving"></a>
                    <span class="name">
                        <span ><b>receiving</b></span>
                        <a href="#receiving"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;receiving draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;all the drafts you would like to interlace&#x27;,
    num_drafts: 1
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="repeats"></a>
                    <span class="name">
                        <span ><b>repeats</b></span>
                        <a href="#repeats"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;calculate repeats&#x27;,
    type: &#x27;boolean&#x27;,
    falsestate: &#x27;do not repeat inputs to match size&#x27;,
    truestate: &#x27;repeat inputs to match size&#x27;,
    value: 1,
    dx: &quot;&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="splicein"></a>
                    <span class="name">
                        <span ><b>splicein</b></span>
                        <a href="#splicein"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="splicing"></a>
                    <span class="name">
                        <span ><b>splicing</b></span>
                        <a href="#splicing"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#OperationInlet" target="_self" >OperationInlet</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    name: &#x27;splicing draft&#x27;, 
    type: &#x27;static&#x27;,
    value: null,
    uses: &quot;draft&quot;,
    dx: &#x27;the draft you would like to splice into the recieving draft&#x27;,
    num_drafts: 1
  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="style"></a>
                    <span class="name">
                        <span ><b>style</b></span>
                        <a href="#style"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;splice style&#x27;,
type: &#x27;boolean&#x27;,
falsestate: &#x27;line by line&#x27;,
truestate: &#x27;whole draft&#x27;,
value: 0,
dx: &quot;controls if the whole draft is spliced in every nth weft or just the next pic in the draft&quot;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/operations/undulating_twill/undulating_twill.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateName"></a>
                    <span class="name">
                        <span ><b>generateName</b></span>
                        <a href="#generateName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) : string &#x3D;&gt; {
  return &#x27;shifty&#x27;;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="inlets"></a>
                    <span class="name">
                        <span ><b>inlets</b></span>
                        <a href="#inlets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="name"></a>
                    <span class="name">
                        <span ><b>name</b></span>
                        <a href="#name"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;undulatingtwill&quot;</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="old_names"></a>
                    <span class="name">
                        <span ><b>old_names</b></span>
                        <a href="#old_names"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="params"></a>
                    <span class="name">
                        <span ><b>params</b></span>
                        <a href="#params"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>[]</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[string_input, shift_pattern, sz]</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="perform"></a>
                    <span class="name">
                        <span ><b>perform</b></span>
                        <a href="#perform"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(param_vals: Array&lt;OpParamVal&gt;, op_inputs: Array&lt;OpInput&gt;) &#x3D;&gt; {

      const input_string: string &#x3D; getOpParamValById(0, param_vals);
      const undulating_string: string &#x3D; getOpParamValById(1, param_vals);
      const sz: number &#x3D; getOpParamValById(2, param_vals);



      let regex_matches&#x3D; utilInstance.parseRegex(input_string, shift_pattern.regex)
      let input_array &#x3D; regex_matches.map(el &#x3D;&gt; parseInt(el))

       regex_matches&#x3D; utilInstance.parseRegex(undulating_string, shift_pattern.regex)
      let undulating_array &#x3D; regex_matches.map(el &#x3D;&gt; parseInt(el))




      let first_row &#x3D; new Sequence.OneD();
      let under &#x3D; true;
      input_array.forEach(input &#x3D;&gt; {
        first_row.pushMultiple(under, input);
        under &#x3D; !under;
      })

      let pattern &#x3D; new Sequence.TwoD();

      undulating_array.forEach(shiftval &#x3D;&gt; {
        let shift_dir &#x3D; (sz) ? -1*shiftval : 1*shiftval;
        pattern.pushWeftSequence(new Sequence.OneD(first_row.val()).shift(shift_dir).val());
      })

      return Promise.resolve([initDraftFromDrawdown(pattern.export())]);

  }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shift_pattern"></a>
                    <span class="name">
                        <span ><b>shift_pattern</b></span>
                        <a href="#shift_pattern"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;first pic pattern&#x27;,
    type: &#x27;string&#x27;,
    regex: /(\d+)/,
    value: &#x27;1 1 1 2 2 3&#x27;,
    error: &#x27;&#x27;,
    dx: &#x27;shifts the starting row by the amount spefied on each subsequent pic to create undulating patterns&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="string_input"></a>
                    <span class="name">
                        <span ><b>string_input</b></span>
                        <a href="#string_input"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#StringParam" target="_self" >StringParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;first pic pattern&#x27;,
    type: &#x27;string&#x27;,
    regex: /(\d+)/,
    value: &#x27;1 3 1 3&#x27;,
    error: &#x27;&#x27;,
    dx: &#x27;the under over pattern of this twill&#x27;
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sz"></a>
                    <span class="name">
                        <span ><b>sz</b></span>
                        <a href="#sz"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#BoolParam" target="_self" >BoolParam</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name: &#x27;S/Z&#x27;,
        type: &#x27;boolean&#x27;,
        falsestate: &#x27;S&#x27;,
        truestate: &#x27;Z&#x27;,
        value: 0,
        dx: &#x27;&#x27;
        }</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="undulatingtwill"></a>
                    <span class="name">
                        <span ><b>undulatingtwill</b></span>
                        <a href="#undulatingtwill"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#Operation" target="_self" >Operation</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{name, old_names, params, inlets, perform, generateName}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/core/model/operations.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllDraftsAtInlet"></a>
                    <span class="name">
                        <span ><b>getAllDraftsAtInlet</b></span>
                        <a href="#getAllDraftsAtInlet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_inputs : Array&lt;OpInput&gt;, inlet_id: number) : Array&lt;Draft&gt; &#x3D;&gt; {
  if(!operationHasInputs(op_inputs) || inlet_id &lt; 0) return [];
  else{

    let req_inputs &#x3D; op_inputs.filter(el &#x3D;&gt; el.inlet_id &#x3D;&#x3D; inlet_id);
    let drafts:Array&lt;Draft&gt; &#x3D; req_inputs.reduce((acc, el)&#x3D;&gt; {
      return acc.concat(el.drafts);
    }, []);

    return drafts;
  } 
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getInputDraft"></a>
                    <span class="name">
                        <span ><b>getInputDraft</b></span>
                        <a href="#getInputDraft"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_inputs : Array&lt;OpInput&gt;) : Draft &#x3D;&gt; {
    if(!operationHasInputs(op_inputs)) return null;
    else return op_inputs[0].drafts[0];
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOpParamValById"></a>
                    <span class="name">
                        <span ><b>getOpParamValById</b></span>
                        <a href="#getOpParamValById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(id: number, params: Array&lt;OpParamVal&gt;) : any &#x3D;&gt; {
    
    if(params.length &#x3D;&#x3D; 0) return null;

    if(id &lt; params.length){
        return params[id].val;
    }else{
    console.error(&quot;PARAM ID &quot;, id, &quot; NOT FOUND IN PARAMS &quot;, params)
     return returnDefaultValue(params[0]);
    }
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOpParamValByName"></a>
                    <span class="name">
                        <span ><b>getOpParamValByName</b></span>
                        <a href="#getOpParamValByName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(name: string, params: Array&lt;OpParamVal&gt;) : any &#x3D;&gt; {
    if(params.length &#x3D;&#x3D; 0) return null;

    const item &#x3D; params.find(el &#x3D;&gt; el.param.name &#x3D;&#x3D; &#x27;name&#x27;);
    if(item &#x3D;&#x3D; undefined){
        console.error(&quot;CANNOT FIND OPERATION PARAMETER WITH NAME &quot;, name);
        return returnDefaultValue(params[0])
    } 
    
    return item;

    
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="operationHasInputs"></a>
                    <span class="name">
                        <span ><b>operationHasInputs</b></span>
                        <a href="#operationHasInputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(op_inputs : Array&lt;OpInput&gt;) : boolean &#x3D;&gt; {
    return op_inputs.length &gt; 0; 
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="parseDraftNames"></a>
                    <span class="name">
                        <span ><b>parseDraftNames</b></span>
                        <a href="#parseDraftNames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(drafts: Array&lt;Draft&gt;) : string  &#x3D;&gt; {
    
    if(drafts.length &#x3D;&#x3D; 0) return &#x27;&#x27;;



    let flat_names &#x3D; drafts.reduce((acc, el) &#x3D;&gt; {
        return acc+&quot;+&quot;+getDraftName(el);
    }, &#x27;&#x27;);

    return flat_names.substring(1);
    

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reduceToStaticInputs"></a>
                    <span class="name">
                        <span ><b>reduceToStaticInputs</b></span>
                        <a href="#reduceToStaticInputs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(inlets: Array&lt;OperationInlet&gt;, inlet_vals: Array&lt;any&gt;) : Array&lt;any&gt; &#x3D;&gt; {

  let static_inputs &#x3D; inlets.filter(el &#x3D;&gt; el.type &#x3D;&#x3D;&#x3D; &#x27;static&#x27;);
  inlet_vals &#x3D; inlet_vals.slice(0,static_inputs.length);

  return inlet_vals;

}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="returnDefaultValue"></a>
                    <span class="name">
                        <span ><b>returnDefaultValue</b></span>
                        <a href="#returnDefaultValue"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>( p: OpParamVal) : any &#x3D;&gt; {
    switch(p.param.type){
        case &#x27;boolean&#x27;: 
        return false;

        case &#x27;draft&#x27;:
            return null;

        case &#x27;file&#x27;:
            return null;
        
        case &#x27;notation_toggle&#x27;:
            return false;
        
        case &#x27;number&#x27;:
            return 0;
        
        case &#x27;select&#x27;:
            return null;
        
        case &#x27;string&#x27;:
            return &#x27;&#x27;;
    }
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="transferSystemsAndShuttles"></a>
                    <span class="name">
                        <span ><b>transferSystemsAndShuttles</b></span>
                        <a href="#transferSystemsAndShuttles"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>(d: Draft, drafts:Array&lt;Draft&gt;,params: any, type: string) &#x3D;&gt; {
    if(drafts.length &#x3D;&#x3D;&#x3D; 0) return;

    let rowSystems: Array&lt;Array&lt;number&gt;&gt; &#x3D;[];
    let colSystems: Array&lt;Array&lt;number&gt;&gt; &#x3D;[];
    let uniqueSystemRows: Array&lt;Array&lt;number&gt;&gt; &#x3D; [];
    let uniqueSystemCols: Array&lt;Array&lt;number&gt;&gt; &#x3D; [];

    let rowShuttles: Array&lt;Array&lt;number&gt;&gt; &#x3D;[];
    let colShuttles: Array&lt;Array&lt;number&gt;&gt; &#x3D;[];
    let standardShuttleRows: Array&lt;Array&lt;number&gt;&gt; &#x3D; [];
    let standardShuttleCols: Array&lt;Array&lt;number&gt;&gt; &#x3D; [];


    switch(type){
      case &#x27;first&#x27;:

        //if there are multipleop_input.drafts, 
        d.colShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].colShuttleMapping,&#x27;col&#x27;, 3);
        d.rowShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].rowShuttleMapping,&#x27;row&#x27;, 3);
        d.colSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].colSystemMapping,&#x27;col&#x27;, 3);
        d.rowSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].rowSystemMapping,&#x27;row&#x27;, 3);
        
        break;
      case &#x27;jointop&#x27;:

          //if there are multipleop_input.drafts, 
  
          d.colShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].colShuttleMapping,&#x27;col&#x27;, 3);
          d.colSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].colSystemMapping,&#x27;col&#x27;, 3);

          break;

      case &#x27;joinleft&#x27;:
          //if there are multipleop_input.drafts, 
          d.rowShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].rowShuttleMapping,&#x27;row&#x27;, 3);
          d.rowSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].rowSystemMapping,&#x27;row&#x27;, 3);

            break;
      case &#x27;second&#x27;:
          const input_to_use &#x3D; (drafts.length &lt; 2) ?drafts[0] :drafts[1];
          d.colShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, input_to_use.colShuttleMapping,&#x27;col&#x27;,3);
          d.rowShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, input_to_use.rowShuttleMapping,&#x27;row&#x27;,3);
          d.colSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, input_to_use.colSystemMapping,&#x27;col&#x27;,3);
          d.rowSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, input_to_use.rowSystemMapping,&#x27;row&#x27;,3);
         

      case &#x27;materialsonly&#x27;:

        d.colShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[1].colShuttleMapping,&#x27;col&#x27;,3);
        d.rowShuttleMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[1].rowShuttleMapping,&#x27;row&#x27;,3);
        d.colSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].colSystemMapping,&#x27;col&#x27;,3);
        d.rowSystemMapping &#x3D;  generateMappingFromPattern(d.drawdown, drafts[0].rowSystemMapping,&#x27;row&#x27;,3);
       
        break;

    case &#x27;interlace&#x27;:
         rowSystems &#x3D;drafts.map(el &#x3D;&gt; el.rowSystemMapping);
         uniqueSystemRows &#x3D; makeWeftSystemsUnique(rowSystems);
    
         rowShuttles &#x3D;drafts.map(el &#x3D;&gt; el.rowShuttleMapping);
         standardShuttleRows &#x3D; standardizeMaterialLists(rowShuttles);

        d.drawdown.forEach((row, ndx) &#x3D;&gt; {

          const select_array: number &#x3D; ndx %drafts.length; 
          const select_row: number &#x3D; Math.floor(ndx /drafts.length)%wefts(drafts[select_array].drawdown);
          d.rowSystemMapping[ndx] &#x3D; uniqueSystemRows[select_array][select_row];
          d.rowShuttleMapping[ndx] &#x3D; standardShuttleRows[select_array][select_row];

        });

  
     
      break;

      case &#x27;interlace_warps&#x27;:
        colSystems &#x3D;drafts.map(el &#x3D;&gt; el.colSystemMapping);
        uniqueSystemCols &#x3D; makeWeftSystemsUnique(colSystems);
   
        colShuttles &#x3D;drafts.map(el &#x3D;&gt; el.colShuttleMapping);
        standardShuttleCols &#x3D; standardizeMaterialLists(colShuttles);

       d.drawdown.forEach((row, ndx) &#x3D;&gt; {
        

         const select_array: number &#x3D; ndx %drafts.length; 
         const select_col: number &#x3D; Math.floor(ndx /drafts.length)%warps(drafts[select_array].drawdown);
         d.colSystemMapping[ndx] &#x3D; uniqueSystemCols[select_array][select_col];
         d.colShuttleMapping[ndx] &#x3D; standardShuttleCols[select_array][select_col];

       });

 
    
     break;


        case &#x27;layer&#x27;:
           rowSystems&#x3D;drafts.map(el &#x3D;&gt; el.rowSystemMapping);
           colSystems &#x3D;drafts.map(el &#x3D;&gt; el.colSystemMapping);
           uniqueSystemRows &#x3D; makeWeftSystemsUnique(rowSystems);
           uniqueSystemCols&#x3D; makeWarpSystemsUnique(colSystems);
      
           rowShuttles &#x3D;drafts.map(el &#x3D;&gt; el.rowShuttleMapping);
           colShuttles &#x3D;drafts.map(el &#x3D;&gt; el.colShuttleMapping);
           standardShuttleRows &#x3D; standardizeMaterialLists(rowShuttles);
           standardShuttleCols &#x3D; standardizeMaterialLists(colShuttles);
  
          d.drawdown.forEach((row, ndx) &#x3D;&gt; {
  
            const select_array: number &#x3D; ndx %drafts.length; 
            const select_row: number &#x3D; Math.floor(ndx /drafts.length)%wefts(drafts[select_array].drawdown);
          
            d.rowSystemMapping[ndx] &#x3D; uniqueSystemRows[select_array][select_row];
            d.rowShuttleMapping[ndx] &#x3D; standardShuttleRows[select_array][select_row];
  
          });
  
  
        for(let i &#x3D; 0; i &lt; wefts(d.drawdown); i++){
          const select_array: number &#x3D; i %drafts.length; 
          const select_col: number &#x3D; Math.floor(i /drafts.length)%warps(drafts[select_array].drawdown);
          d.colSystemMapping[i] &#x3D; uniqueSystemCols[select_array][select_col];
          d.colShuttleMapping[i] &#x3D; standardShuttleCols[select_array][select_col];

        }



  
          
       
        break;
  

      case &#x27;stretch&#x27;:
        d.colShuttleMapping &#x3D;  generateMappingFromPattern(drafts[0].drawdown, drafts[0].colShuttleMapping,&#x27;col&#x27;, 3);
        d.rowShuttleMapping &#x3D;  generateMappingFromPattern(drafts[0].drawdown, drafts[0].rowShuttleMapping,&#x27;row&#x27;, 3);
        d.colSystemMapping &#x3D;  generateMappingFromPattern(drafts[0].drawdown, drafts[0].colSystemMapping,&#x27;col&#x27;, 3);
        d.rowSystemMapping &#x3D;  generateMappingFromPattern(drafts[0].drawdown, drafts[0].rowSystemMapping,&#x27;row&#x27;, 3);
        
        //need to determine how to handle this - should it stretch the existing information or copy it over
      break;

      
                
    }




  }</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>transfers data about systems and shuttles from input drafts to output drafts.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>
    <h3>src/app/core/provider/upload.service.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="httpOptions"></a>
                    <span class="name">
                        <span ><b>httpOptions</b></span>
                        <a href="#httpOptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
  headers: new HttpHeaders({
  })
}</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>
    <h3>src/app/mixer/mixer.component.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="myCustomTooltipDefaults"></a>
                    <span class="name">
                        <span ><b>myCustomTooltipDefaults</b></span>
                        <a href="#myCustomTooltipDefaults"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>MatTooltipDefaultOptions</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
  showDelay: 1000,
  hideDelay: 1000,
  touchendHideDelay: 1000,
  position: &#x27;right&#x27;,
  disableTooltipInteractivity: true,

}</code>
                    </td>
                </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Custom options the configure the tooltip&#39;s default show/hide delays.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
</section>
    <h3>src/app/core/model/util.ts</h3>
    <section data-compodoc="block-properties">
    <h3></h3>    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="utilInstance"></a>
                    <span class="name">
                        <span ><b>utilInstance</b></span>
                        <a href="#utilInstance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Util()</code>
                    </td>
                </tr>


        </tbody>
    </table>
</section>



                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'miscellaneous-variables';
            var COMPODOC_CURRENT_PAGE_URL = 'variables.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
